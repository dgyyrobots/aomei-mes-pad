/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{d as K,bw as ee,bv as z,O as M,r as Y,bL as ne,b as te,Y as x,bA as re,aF as D,p as A,g as oe,c as ae,o as H,i as $,j as q,K as ie,a as I,y as ue,m as se,k as le,l as ce}from"./index-FPuwcz_Y.js";import"video.js/dist/video-js.css";import pe from"video.js";function N(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(r[o[l]]=e[o[l]])}return r}var de={src:{type:String,onChange:function(e,n){return e.src(n)}},width:{type:Number,onChange:function(e,n){return e.width(n)},onEvent:function(e,n){e.on(["playerresize","resize"],function(){return n(e.width())})}},height:{type:Number,onChange:function(e,n){return e.height(n)},onEvent:function(e,n){e.on(["playerresize","resize"],function(){return n(e.height())})}},preload:{type:String,onChange:function(e,n){return e.preload(n)}},loop:{type:Boolean,onChange:function(e,n){return e.loop(n)}},muted:{type:Boolean,onChange:function(e,n){return e.muted(n)},onEvent:function(e,n){return e.on("volumechange",function(){return n(e.muted())})}},poster:{type:String,onChange:function(e,n){return e.poster(n)},onEvent:function(e,n){return e.on("posterchange",function(){return n(e.poster())})}},controls:{type:Boolean,onChange:function(e,n){return e.controls(n)},onEvent:function(e,n){e.on("controlsenabled",function(){return n(!0)}),e.on("controlsdisabled",function(){return n(!1)})}},autoplay:{type:[Boolean,String],onChange:function(e,n){return e.autoplay(n)}},crossorigin:{type:String,onChange:function(e,n){return e.crossOrigin(n)}},crossOrigin:{type:String,onChange:function(e,n){return e.crossOrigin(n)}},playsinline:{type:Boolean,onChange:function(e,n){return e.playsinline(n)}},playsInline:{type:Boolean,onChange:function(e,n){return e.playsinline(n)}}},ge={id:{type:String},sources:{type:Array,onChange:function(e,n){return e.src(n)}},tracks:{type:Array,onChange:function(e,n){for(var r=e.remoteTextTracks(),o=r?.length||0;o--;)e.removeRemoteTextTrack(r[o]);e.ready(function(){n.forEach(function(l){return e.addRemoteTextTrack(l,!1)})})}},textTrackSettings:{type:Object,onChange:function(e,n){return e.textTrackSettings.options(n)}},language:{type:String,onChange:function(e,n){return e.language(n)},onEvent:function(e,n){return e.on("languagechange",function(){return n(e.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(e,n){return e.playbackRates(n??[])},onEvent:function(e,n){e.on("playbackrateschange",function(){return n(e.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(e,n){return e.audioOnlyMode(n)}},audioPosterMode:{type:Boolean,onChange:function(e,n){return e.audioPosterMode(n)}},responsive:{type:Boolean,onChange:function(e,n){return e.responsive(n)}},breakpoints:{type:Object,onChange:function(e,n){return e.breakpoints(n)}},fluid:{type:Boolean,onChange:function(e,n){return e.fluid(n)}},fill:{type:Boolean,onChange:function(e,n){return e.fill(n)}},aspectRatio:{type:String,onChange:function(e,n){return e.aspectRatio(n)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(e,n){return e.disablePictureInPicture(n)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},fe={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(e,n){return e.controlBar.options(n)}}},ve={html5:{type:Object}},ye={volume:{type:Number,onChange:function(e,n){return e.volume(n)},onEvent:function(e,n){return e.on("volumechange",function(){return n(e.volume())})}},playbackRate:{type:Number,onChange:function(e,n){e.playbackRate(n),e.defaultPlaybackRate(n)},onEvent:function(e,n){e.on("ratechange",function(){n(e.playbackRate())})}},options:{type:Object}},S=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},de),ge),fe),ve),ye),W=Object.keys(S),G=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),J=Object.keys(G);Object.values(G);var V=function(e){var n,r=e?.trim().replace(/\s+/g," ");return r&&(n=r.split(" "))!==null&&n!==void 0?n:[]},F={src:{getter:function(e){return e.src()}},currentSrc:{getter:function(e){return e.currentSrc()}},currentSource:{getter:function(e){return e.currentSource()}},width:{events:["resize","playerresize"],getter:function(e){return e.width()}},height:{events:["resize","playerresize"],getter:function(e){return e.height()}},currentWidth:{events:["resize","playerresize"],getter:function(e){return e.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(e){return e.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(e){return e.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(e){return e.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(e){return e.controls()}},volume:{events:["volumechange"],getter:function(e){return e.volume()}},muted:{events:["volumechange"],getter:function(e){return e.muted()}},poster:{events:["posterchange"],getter:function(e){return e.poster()}},seeking:{events:["seeking"],getter:function(e){return e.seeking()}},paused:{events:["pause","play","playing"],getter:function(e){return e.paused()}},ended:{events:["ended","play"],getter:function(e){return e.ended()}},currentTime:{events:["timeupdate"],getter:function(e){return e.currentTime()}},duration:{events:["durationchange"],getter:function(e){return e.duration()}},playbackRate:{events:["ratechange"],getter:function(e){return e.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(e){return e.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(e){return e.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(e){return e.isInPictureInPicture()}},isLive:{getter:function(e){var n;return(n=e.liveTracker)===null||n===void 0?void 0:n.isLive()}},language:{events:["languagechange"],getter:function(e){return e.language()}},userActive:{events:["useractive","userinactive"],getter:function(e){return e.userActive()}},readyState:{events:["loadeddata"],getter:function(e){return e.readyState()}},networkState:{events:["loadeddata","error"],getter:function(e){return e.networkState()}},error:{events:["loadeddata","error"],getter:function(e){return e.error()}},buffered:{events:["progress"],getter:function(e){return e.buffered()}},bufferedPercent:{events:["progress"],getter:function(e){return e.bufferedPercent()}},played:{events:["timeupdate"],getter:function(e){return e.played()}},seekable:{events:["progress","seeked"],getter:function(e){return e.seekable()}},audioTracks:{getter:function(e){var n;return(n=e.audioTracks)===null||n===void 0?void 0:n.call(e)}},videoTracks:{getter:function(e){var n;return(n=e.videoTracks)===null||n===void 0?void 0:n.call(e)}},textTracks:{getter:function(e){var n;return(n=e.textTracks)===null||n===void 0?void 0:n.call(e)}}},Q=W.filter(function(e){return!!S[e].onEvent}),X=function(e){return"update:"+e},he=J.concat(Q.map(X)),me=W.reduce(function(e,n){var r,o=S[n],l=Array.isArray(o.type)?o.type:[o.type],c=Object.assign({},o);return l.includes(Boolean)&&(c.default=void 0),Object.assign(Object.assign({},e),((r={})[n]=c,r))},{}),be=K({name:"VueVideoPlayer",props:Object.assign(Object.assign({},me),{class:[String,Object,Array]}),emits:he.concat(["mounted"],["unmounted"]),setup:function(e,n){var r=ee(e),o=r.class,l=N(r,["class"]),c=z(!1),O=z(null),v=z(null),P=M(function(){return v.value?v.value.player:null}),k=Y(null),U=M(function(){return k.value?ne(k.value):null});return te(function(){var C,g=function(t){var a,p=t.props,f=t.element,y=t.className,d=t.onEvent,i=p.options;i===void 0&&(i={});var h=N(p,["options"]),_={};Object.keys(h).forEach(function(u){var s=h[u];s!==void 0&&(_[u]=s)});var T=Object.assign(Object.assign({},_),i),R=T.volume,E=T.playbackRate,j=N(T,["volume","playbackRate"]),Z=Object.assign(Object.assign({},j),{playsinline:(a=j.playsinline)!==null&&a!==void 0?a:j.playsInline}),m=pe(f,Z,function(){var u=this;J.forEach(function(s){u.on(s,function(b){d(s,b)})}),j.src&&!j.sources&&this.src(j.src),R&&Number.isFinite(R)&&this.volume(R),E&&Number.isFinite(E)&&(this.defaultPlaybackRate(E),setTimeout(function(){u.playbackRate(E)},0))});y&&V(y).map(function(u){return m.addClass(u)});var L=function(u){var s;(s=m.options)===null||s===void 0||s.call(m,u??{})};return{player:m,dispose:function(){return m.dispose()},updateClassNames:function(u,s){V(u).map(function(b){return m.removeClass(b)}),V(s).map(function(b){return m.addClass(b)})},updateOptions:L,updatePropOption:function(u,s){var b,B,w;L(((b={})[u]=s,b)),(w=(B=S[u])===null||B===void 0?void 0:B.onChange)===null||w===void 0||w.call(B,m,s)}}}({element:O.value,props:l,onEvent:n.emit});C={player:g.player,onEvent:n.emit},Q.forEach(function(t){var a,p;(p=(a=S[t])===null||a===void 0?void 0:a.onEvent)===null||p===void 0||p.call(a,C.player,function(f){C.onEvent(X(t),f)})}),x(function(){return e.class},function(t,a){var p=A(a),f=A(t);g.updateClassNames(p,f)},{immediate:!0}),x(function(){return e.options},function(t){return g.updateOptions(t??{})},{deep:!0}),W.filter(function(t){return t!=="options"}).forEach(function(t){x(function(){return e[t]},function(a){return g.updatePropOption(t,a)},{deep:!0})}),function(t,a){var p=Object.keys(F),f=p.reduce(function(d,i){var h;return Object.assign(Object.assign({},d),((h={})[i]=F[i].getter(t),h))},{playing:!1,waiting:!1}),y=function(d,i){f[d]=i,a.onUpdate(d,i,Object.assign({},f))};t.on(["pause","ended"],function(){y("playing",!1)}),t.on(["play","playing"],function(){y("playing",!0)}),t.on("waiting",function(){y("waiting",!0);var d=t.currentTime(),i=function(){d!==t.currentTime()&&(y("waiting",!1),t.off("timeupdate",i))};t.on("timeupdate",i)}),p.forEach(function(d){var i,h=F[d];t.on(["loadstart","loadedmetadata"].concat((i=h.events)!==null&&i!==void 0?i:[]),function(){y(d,h.getter(t))})}),a.onInit(Object.assign({},f))}(g.player,{onInit:function(t){k.value=t},onUpdate:function(t,a){k.value&&(k.value[t]=a)}}),v.value=g,c.value=!0,n.emit("mounted",{video:O.value,player:P.value,state:U.value})}),re(function(){v.value&&(v.value.dispose(),v.value=null,k.value=null,n.emit("unmounted"))}),function(){var C,g;return D("div",{"data-vjs-player":"",class:A(o)},[D("video",{class:["video-js","v-video-player"],ref:O}),c.value&&((g=(C=n.slots).default)===null||g===void 0?void 0:g.call(C,{video:O.value,player:P.value,state:U.value}))])}}}),Oe=be;const Pe=K({name:"WxVideoPlayer",__name:"main",props:{url:{type:String,required:!0}},setup(e){const n=e,r=Y(!1),o=()=>{r.value=!0};return(l,c)=>{const O=ie,v=oe("el-dialog");return H(),ae("div",{onClick:c[1]||(c[1]=P=>o())},[$("div",null,[q(O,{class:"mr-5px",icon:"ep:video-play",size:32}),c[2]||(c[2]=$("p",{class:"text-sm"},"点击播放视频",-1))]),q(v,{modelValue:I(r),"onUpdate:modelValue":c[0]||(c[0]=P=>ue(r)?r.value=P:null),"append-to-body":"",title:"视频播放"},{default:se(()=>[I(r)?(H(),le(I(Oe),{key:0,class:"video-player vjs-big-play-centered",controls:"",crossorigin:"anonymous","playback-rates":[.7,1,1.5,2],playsinline:"",poster:"",src:n.url,volume:.6,width:800},null,8,["src"])):ce("",!0)]),_:1},8,["modelValue"])])}}});export{Pe as _};
