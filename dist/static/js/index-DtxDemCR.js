/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 14:15:15 
 */
import{d as L,u as j,r as d,f as H,b as Q,g as s,h as N,c as E,o as c,j as t,m as o,a,J,w as f,v as p,K as W,k as _,L as A,M as G,F as O,z as X,N as Z}from"./index-D3eRVKjp.js";import{_ as h}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dg75KKir.js";import{_ as ee}from"./PropertyForm.vue_vue_type_script_setup_true_lang-CyMFWxwt.js";import{j as te,k as oe}from"./property-u29TZFaC.js";const ie=L({name:"ProductProperty",__name:"index",setup(ae){const{push:T}=j(),b=X(),{t:M}=Z(),g=d(!0),C=d(0),x=d([]),n=H({pageNo:1,pageSize:10,name:void 0,createTime:[]}),P=d(),m=async()=>{g.value=!0;try{const r=await te(n);x.value=r.list,C.value=r.total}finally{g.value=!1}},y=()=>{n.pageNo=1,m()},R=()=>{P.value.resetFields(),y()},V=d(),$=(r,e)=>{V.value.open(r,e)},S=async r=>{try{await b.delConfirm(),await oe(r),b.success(M("common.delSuccess")),await m()}catch(e){console.log(e)}},z=r=>{T({name:"ProductPropertyValue",params:{propertyId:r}})};return Q(()=>{m()}),(r,e)=>{const U=s("el-input"),k=s("el-form-item"),Y=s("el-date-picker"),v=W,i=s("el-button"),q=s("el-form"),D=h,u=s("el-table-column"),B=s("el-table"),I=G,w=N("hasPermi"),K=N("loading");return c(),E(O,null,[t(D,null,{default:o(()=>[t(q,{ref_key:"queryFormRef",ref:P,class:"-mb-15px",inline:!0,"label-width":"68px",model:a(n)},{default:o(()=>[t(k,{label:"名称",prop:"name"},{default:o(()=>[t(U,{modelValue:a(n).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(n).name=l),class:"!w-240px",clearable:"",placeholder:"请输入名称",onKeyup:J(y,["enter"])},null,8,["modelValue"])]),_:1}),t(k,{label:"创建时间",prop:"createTime"},{default:o(()=>[t(Y,{modelValue:a(n).createTime,"onUpdate:modelValue":e[1]||(e[1]=l=>a(n).createTime=l),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(k,null,{default:o(()=>[t(i,{onClick:y},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:search"}),e[5]||(e[5]=p(" 搜索 "))]),_:1}),t(i,{onClick:R},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:refresh"}),e[6]||(e[6]=p(" 重置 "))]),_:1}),f((c(),_(i,{plain:"",type:"primary",onClick:e[2]||(e[2]=l=>$("create"))},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:plus"}),e[7]||(e[7]=p(" 新增 "))]),_:1})),[[w,["product:property:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(D,null,{default:o(()=>[f((c(),_(B,{data:a(x)},{default:o(()=>[t(u,{align:"center",label:"编号","min-width":"60",prop:"id"}),t(u,{align:"center",label:"属性名称","min-width":"150",prop:"name"}),t(u,{align:"center",label:"备注",prop:"remark","show-overflow-tooltip":!0}),t(u,{align:"center",formatter:a(A),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),t(u,{align:"center",label:"操作"},{default:o(l=>[f((c(),_(i,{link:"",type:"primary",onClick:F=>$("update",l.row.id)},{default:o(()=>e[8]||(e[8]=[p("编辑")])),_:2},1032,["onClick"])),[[w,["product:property:update"]]]),t(i,{link:"",type:"primary",onClick:F=>z(l.row.id)},{default:o(()=>e[9]||(e[9]=[p("属性值")])),_:2},1032,["onClick"]),f((c(),_(i,{link:"",type:"danger",onClick:F=>S(l.row.id)},{default:o(()=>e[10]||(e[10]=[p("删除")])),_:2},1032,["onClick"])),[[w,["product:property:delete"]]])]),_:1})]),_:1},8,["data"])),[[K,a(g)]]),t(I,{limit:a(n).pageSize,"onUpdate:limit":e[3]||(e[3]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":e[4]||(e[4]=l=>a(n).pageNo=l),total:a(C),onPagination:m},null,8,["limit","page","total"])]),_:1}),t(ee,{ref_key:"formRef",ref:V,onSuccess:m},null,512)],64)}}});export{ie as default};
