/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{d as q,r as g,f as O,b as Q,g as p,h as J,c as i,o as u,j as l,m as n,a as t,J as w,F as v,n as I,k as T,v as s,K as W,w as G,L as F,i as z,t as f,l as V,M as X,A as Z}from"./index-BdC40rFX.js";import{_ as ee}from"./DictTag.vue_vue_type_script_lang-BKaaD_BY.js";import{_ as le}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CdI9J0YF.js";import{_ as ae}from"./TransferDetail.vue_vue_type_script_setup_true_lang-CTJusFCX.js";import{a as te}from"./index-Czfq1wzV.js";import{a as P,D as _}from"./dict-D4wjFrBa.js";import"./color-B5phLuB-.js";const ne={class:"transfer-font"},oe={key:0,class:"transfer-font"},re={key:1,class:"transfer-font"},se={key:0,class:"transfer-font"},ue={key:1,class:"transfer-font"},pe=q({name:"PayTransfer",__name:"index",setup(de){const N=g(!0),D=g(0),S=g([]),o=O({pageNo:1,pageSize:10,no:null,appId:null,channelId:null,channelCode:null,merchantTransferId:null,type:null,status:null,successTime:[],price:null,subject:null,userName:null,alipayLogonId:null,openid:null,createTime:[],channelTransferNo:null}),Y=g(),x=async()=>{N.value=!0;try{const c=await te(o);S.value=c.list,D.value=c.total}finally{N.value=!1}},m=()=>{o.pageNo=1,x()},L=()=>{Y.value.resetFields(),m()},E=g(),K=c=>{E.value.open(c)};return Q(()=>{x()}),(c,a)=>{const y=p("el-input"),d=p("el-form-item"),k=p("el-option"),C=p("el-select"),$=p("el-date-picker"),R=W,h=p("el-button"),B=p("el-form"),U=le,r=p("el-table-column"),A=ee,b=p("el-tag"),H=p("el-table"),M=X,j=J("loading");return u(),i(v,null,[l(U,null,{default:n(()=>[l(B,{ref_key:"queryFormRef",ref:Y,class:"-mb-15px",inline:!0,"label-width":"100px",model:t(o)},{default:n(()=>[l(d,{label:"转账单号",prop:"no"},{default:n(()=>[l(y,{modelValue:t(o).no,"onUpdate:modelValue":a[0]||(a[0]=e=>t(o).no=e),class:"!w-240px",clearable:"",placeholder:"请输入转账单号",onKeyup:w(m,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"转账渠道",prop:"channelCode"},{default:n(()=>[l(C,{modelValue:t(o).channelCode,"onUpdate:modelValue":a[1]||(a[1]=e=>t(o).channelCode=e),class:"!w-240px",clearable:"",placeholder:"请选择支付渠道"},{default:n(()=>[(u(!0),i(v,null,I(t(P)(t(_).PAY_CHANNEL_CODE),e=>(u(),T(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"商户单号",prop:"merchantTransferId"},{default:n(()=>[l(y,{modelValue:t(o).merchantTransferId,"onUpdate:modelValue":a[2]||(a[2]=e=>t(o).merchantTransferId=e),class:"!w-240px",clearable:"",placeholder:"请输入商户单号",onKeyup:w(m,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"类型",prop:"type"},{default:n(()=>[l(C,{modelValue:t(o).type,"onUpdate:modelValue":a[3]||(a[3]=e=>t(o).type=e),class:"!w-240px",clearable:"",placeholder:"请选择类型"},{default:n(()=>[(u(!0),i(v,null,I(t(P)(t(_).PAY_TRANSFER_TYPE),e=>(u(),T(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"转账状态",prop:"status"},{default:n(()=>[l(C,{modelValue:t(o).status,"onUpdate:modelValue":a[4]||(a[4]=e=>t(o).status=e),class:"!w-240px",clearable:"",placeholder:"请选择转账状态"},{default:n(()=>[(u(!0),i(v,null,I(t(P)(t(_).PAY_TRANSFER_STATUS),e=>(u(),T(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"收款人姓名",prop:"userName"},{default:n(()=>[l(y,{modelValue:t(o).userName,"onUpdate:modelValue":a[5]||(a[5]=e=>t(o).userName=e),class:"!w-240px",clearable:"",placeholder:"请输入收款人姓名",onKeyup:w(m,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"渠道单号",prop:"channelTransferNo"},{default:n(()=>[l(y,{modelValue:t(o).channelTransferNo,"onUpdate:modelValue":a[6]||(a[6]=e=>t(o).channelTransferNo=e),class:"!w-240px",clearable:"",placeholder:"渠道单号",onKeyup:w(m,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"创建时间",prop:"createTime"},{default:n(()=>[l($,{modelValue:t(o).createTime,"onUpdate:modelValue":a[7]||(a[7]=e=>t(o).createTime=e),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),l(d,null,{default:n(()=>[l(h,{onClick:m},{default:n(()=>[l(R,{class:"mr-5px",icon:"ep:search"}),a[10]||(a[10]=s(" 搜索 "))]),_:1}),l(h,{onClick:L},{default:n(()=>[l(R,{class:"mr-5px",icon:"ep:refresh"}),a[11]||(a[11]=s(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(U,null,{default:n(()=>[G((u(),T(H,{data:t(S),"show-overflow-tooltip":!0,stripe:!0},{default:n(()=>[l(r,{align:"center",label:"编号",prop:"id"}),l(r,{align:"center",formatter:t(F),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),l(r,{align:"center",label:"应用编号",prop:"appId"}),l(r,{align:"center",label:"类型",prop:"type",width:"120"},{default:n(e=>[l(A,{type:t(_).PAY_TRANSFER_TYPE,value:e.row.type},null,8,["type","value"])]),_:1}),l(r,{align:"center",label:"转账金额",prop:"price"},{default:n(e=>[z("span",null,"￥"+f((e.row.price/100).toFixed(2)),1)]),_:1}),l(r,{align:"center",label:"转账状态",prop:"status",width:"120"},{default:n(e=>[l(A,{type:t(_).PAY_TRANSFER_STATUS,value:e.row.status},null,8,["type","value"])]),_:1}),l(r,{align:"left",label:"订单号",width:"300"},{default:n(e=>[z("p",ne,[l(b,{size:"small"},{default:n(()=>a[12]||(a[12]=[s("商户")])),_:1}),s(" "+f(e.row.merchantTransferId),1)]),e.row.no?(u(),i("p",oe,[l(b,{size:"small",type:"warning"},{default:n(()=>a[13]||(a[13]=[s("转账")])),_:1}),s(" "+f(e.row.no),1)])):V("",!0),e.row.channelTransferNo?(u(),i("p",re,[l(b,{size:"small",type:"success"},{default:n(()=>a[14]||(a[14]=[s("渠道")])),_:1}),s(" "+f(e.row.channelTransferNo),1)])):V("",!0)]),_:1}),l(r,{align:"center",label:"收款人姓名",prop:"userName",width:"120"}),l(r,{align:"left",label:"收款账号",width:"200"},{default:n(e=>[e.row.alipayLogonId?(u(),i("p",se,[l(b,{size:"small"},{default:n(()=>a[15]||(a[15]=[s("支付宝登录号")])),_:1}),s(" "+f(e.row.alipayLogonId),1)])):V("",!0),e.row.openid?(u(),i("p",ue,[l(b,{size:"small"},{default:n(()=>a[16]||(a[16]=[s("微信 openId")])),_:1}),s(" "+f(e.row.openid),1)])):V("",!0)]),_:1}),l(r,{align:"center",label:"转账标题",prop:"subject",width:"120"}),l(r,{align:"center",label:"转账渠道",prop:"channelCode"},{default:n(e=>[l(A,{type:t(_).PAY_CHANNEL_CODE,value:e.row.channelCode},null,8,["type","value"])]),_:1}),l(r,{align:"center",formatter:t(F),label:"转账成功时间",prop:"successTime",width:"180px"},null,8,["formatter"]),l(r,{align:"center",fixed:"right",label:"操作"},{default:n(e=>[l(h,{link:"",type:"primary",onClick:ie=>K(e.row.id)},{default:n(()=>a[17]||(a[17]=[s("详情")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[j,t(N)]]),l(M,{limit:t(o).pageSize,"onUpdate:limit":a[8]||(a[8]=e=>t(o).pageSize=e),page:t(o).pageNo,"onUpdate:page":a[9]||(a[9]=e=>t(o).pageNo=e),total:t(D),onPagination:x},null,8,["limit","page","total"]),l(ae,{ref_key:"detailRef",ref:E},null,512)]),_:1})],64)}}}),we=Z(pe,[["__scopeId","data-v-ce9cd139"]]);export{we as default};
