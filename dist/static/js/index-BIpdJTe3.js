/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:21:26 
 */
import{b as k}from"./spu-BZrcAj3N.js";import{d as x,r as f,Y as v,g as C,c as t,o,F as B,n as T,q as l,l as s,i,j as g,p as y,t as a,k as R,a as S}from"./index-5TqN_QR1.js";const $={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},I={class:"text-12px"},L={class:"absolute bottom-8px right-8px"},N=x({name:"ProductCard",__name:"index",props:{property:{}},setup(h){const p=h,d=f([]);v(()=>p.property.spuIds,async()=>{d.value=await k(p.property.spuIds)},{immediate:!0,deep:!0});const w=e=>{const c=p.property.layoutType==="twoCol"?2:1,n=e%c===0?"0":`${p.property.space}px`,r=e<c?"0":`${p.property.space}px`;return{marginLeft:n,marginTop:r}},u=f(),b=()=>{let e="100%";return p.property.layoutType==="twoCol"&&(e=`${(u.value.offsetWidth-p.property.space)/2}px`),{width:e}};return(e,c)=>{const n=C("el-image");return o(),t("div",{ref_key:"containerRef",ref:u,class:y("box-content min-h-30px w-full flex flex-row flex-wrap")},[(o(!0),t(B,null,T(S(d),(r,m)=>(o(),t("div",{key:m,class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:l({...w(m),...b(),borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`})},[e.property.badge.show?(o(),t("div",$,[g(n,{class:"h-26px w-38px",fit:"cover",src:e.property.badge.imgUrl},null,8,["src"])])):s("",!0),i("div",{class:y(["h-140px",{"w-full":e.property.layoutType!=="oneColSmallImg","w-140px":e.property.layoutType==="oneColSmallImg"}])},[g(n,{class:"h-full w-full",fit:"cover",src:r.picUrl},null,8,["src"])],2),i("div",{class:y([" flex flex-col gap-8px p-8px box-border",{"w-full":e.property.layoutType!=="oneColSmallImg","w-[calc(100%-140px-16px)]":e.property.layoutType==="oneColSmallImg"}])},[e.property.fields.name.show?(o(),t("div",{key:0,class:y(["text-14px ",{truncate:e.property.layoutType!=="oneColSmallImg","overflow-ellipsis line-clamp-2":e.property.layoutType==="oneColSmallImg"}]),style:l({color:e.property.fields.name.color})},a(r.name),7)):s("",!0),e.property.fields.introduction.show?(o(),t("div",{key:1,class:"truncate text-12px",style:l({color:e.property.fields.introduction.color})},a(r.introduction),5)):s("",!0),i("div",null,[e.property.fields.price.show?(o(),t("span",{key:0,class:"text-16px",style:l({color:e.property.fields.price.color})},"￥"+a(r.price),5)):s("",!0),e.property.fields.marketPrice.show&&r.marketPrice?(o(),t("span",{key:1,class:"ml-4px text-10px line-through",style:l({color:e.property.fields.marketPrice.color})}," ￥"+a(r.marketPrice),5)):s("",!0)]),i("div",I,[e.property.fields.salesCount.show?(o(),t("span",{key:0,style:l({color:e.property.fields.salesCount.color})}," 已售"+a((r.salesCount||0)+(r.virtualSalesCount||0))+"件 ",5)):s("",!0),e.property.fields.stock.show?(o(),t("span",{key:1,style:l({color:e.property.fields.stock.color})},"库存"+a(r.stock||0),5)):s("",!0)])],2),i("div",L,[e.property.btnBuy.type==="text"?(o(),t("span",{key:0,class:"rounded-full p-x-12px p-y-4px text-12px text-white",style:l({background:`linear-gradient(to right, ${e.property.btnBuy.bgBeginColor}, ${e.property.btnBuy.bgEndColor}`})},a(e.property.btnBuy.text),5)):(o(),R(n,{key:1,class:"h-28px w-28px rounded-full",fit:"cover",src:e.property.btnBuy.imgUrl},null,8,["src"]))])],4))),128))],512)}}});export{N as default};
