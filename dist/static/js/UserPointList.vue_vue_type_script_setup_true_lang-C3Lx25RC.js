/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{d as L,r as u,f as S,b as $,g as r,h,c as I,o as i,F as x,j as e,m as a,a as l,n as K,J as O,v as c,K as H,w as Q,k as m,L as Z,t as N,M as j}from"./index-lcC3l4R2.js";import{_ as J}from"./DictTag.vue_vue_type_script_lang-G_4C17ZW.js";import{_ as W}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C6z1f3RI.js";import{c as A,D as P}from"./dict-B7jb0IEc.js";import{g as G}from"./index-CYpzuNqj.js";const oe=L({__name:"UserPointList",props:{userId:{type:Number,required:!0}},setup(V){const d=u(!0),b=u(0),y=u([]),o=S({pageNo:1,pageSize:10,bizType:void 0,title:null,createDate:[],userId:NaN}),v=u(),_=async()=>{d.value=!0;try{const g=await G(o);y.value=g.list,b.value=g.total}finally{d.value=!1}},f=()=>{o.pageNo=1,_()},z=()=>{v.value.resetFields(),f()};return $(()=>{o.userId=V.userId,_()}),(g,n)=>{const E=r("el-option"),M=r("el-select"),p=r("el-form-item"),B=r("el-input"),C=r("el-date-picker"),w=H,k=r("el-button"),Y=r("el-form"),D=W,s=r("el-table-column"),T=r("el-tag"),F=J,U=r("el-table"),R=j,q=h("loading");return i(),I(x,null,[e(D,null,{default:a(()=>[e(Y,{ref_key:"queryFormRef",ref:v,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(o)},{default:a(()=>[e(p,{label:"业务类型",prop:"bizType"},{default:a(()=>[e(M,{modelValue:l(o).bizType,"onUpdate:modelValue":n[0]||(n[0]=t=>l(o).bizType=t),class:"!w-240px",clearable:"",placeholder:"请选择业务类型"},{default:a(()=>[(i(!0),I(x,null,K(l(A)(l(P).MEMBER_POINT_BIZ_TYPE),t=>(i(),m(E,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"积分标题",prop:"title"},{default:a(()=>[e(B,{modelValue:l(o).title,"onUpdate:modelValue":n[1]||(n[1]=t=>l(o).title=t),class:"!w-240px",clearable:"",placeholder:"请输入积分标题",onKeyup:O(f,["enter"])},null,8,["modelValue"])]),_:1}),e(p,{label:"获得时间",prop:"createDate"},{default:a(()=>[e(C,{modelValue:l(o).createDate,"onUpdate:modelValue":n[2]||(n[2]=t=>l(o).createDate=t),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(p,null,{default:a(()=>[e(k,{onClick:f},{default:a(()=>[e(w,{class:"mr-5px",icon:"ep:search"}),n[5]||(n[5]=c(" 搜索 "))]),_:1}),e(k,{onClick:z},{default:a(()=>[e(w,{class:"mr-5px",icon:"ep:refresh"}),n[6]||(n[6]=c(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(D,null,{default:a(()=>[Q((i(),m(U,{data:l(y)},{default:a(()=>[e(s,{align:"center",label:"编号",prop:"id",width:"180"}),e(s,{align:"center",formatter:l(Z),label:"获得时间",prop:"createTime",width:"180"},null,8,["formatter"]),e(s,{align:"center",label:"获得积分",prop:"point",width:"100"},{default:a(t=>[t.row.point>0?(i(),m(T,{key:0,class:"ml-2",effect:"dark",type:"success"},{default:a(()=>[c("+"+N(t.row.point),1)]),_:2},1024)):(i(),m(T,{key:1,class:"ml-2",effect:"dark",type:"danger"},{default:a(()=>[c(N(t.row.point),1)]),_:2},1024))]),_:1}),e(s,{align:"center",label:"总积分",prop:"totalPoint",width:"100"}),e(s,{align:"center",label:"标题",prop:"title"}),e(s,{align:"center",label:"描述",prop:"description"}),e(s,{align:"center",label:"业务编码",prop:"bizId"}),e(s,{align:"center",label:"业务类型",prop:"bizType"},{default:a(t=>[e(F,{type:l(P).MEMBER_POINT_BIZ_TYPE,value:t.row.bizType},null,8,["type","value"])]),_:1})]),_:1},8,["data"])),[[q,l(d)]]),e(R,{limit:l(o).pageSize,"onUpdate:limit":n[3]||(n[3]=t=>l(o).pageSize=t),page:l(o).pageNo,"onUpdate:page":n[4]||(n[4]=t=>l(o).pageNo=t),total:l(b),onPagination:_},null,8,["limit","page","total"])]),_:1})],64)}}});export{oe as _};
