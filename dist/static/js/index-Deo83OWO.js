/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 14:15:15 
 */
import{d as h,r as d,f as A,b as Z,g as s,h as F,c as M,o as m,j as e,m as o,a,J as ee,F as N,n as te,k as u,w as f,v as c,K as le,L as P,M as oe,z as ae,N as ne}from"./index-D3eRVKjp.js";import{_ as re}from"./DictTag.vue_vue_type_script_lang-h3s-iN69.js";import{_ as se}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dg75KKir.js";import{_ as ie}from"./index-66PJkU8k.js";import{_ as me}from"./Demo03StudentForm.vue_vue_type_script_setup_true_lang-htqf2Inz.js";import{_ as pe}from"./Demo03CourseList.vue_vue_type_script_setup_true_lang-Dow2pIjG.js";import{_ as de}from"./Demo03GradeList.vue_vue_type_script_setup_true_lang-BUDsPP6C.js";import{d as ue,e as ce,f as _e}from"./index-H0Ln9n2h.js";import{c as fe,D as U}from"./dict-CqgorI4d.js";import{d as ge}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./style.css_vue_type_style_index_0_src_true_lang-Ca11KYlC.js";import"./locale-CJXOnmDn.js";import"./Demo03CourseForm.vue_vue_type_script_setup_true_lang-Cf2dsW0Q.js";import"./Demo03GradeForm.vue_vue_type_script_setup_true_lang-C0y82GFt.js";const Pe=h({name:"Demo03Student",__name:"index",setup(be){const y=ae(),{t:Y}=ne(),v=d(!0),C=d([]),S=d(0),n=A({pageNo:1,pageSize:10,name:null,sex:null,description:null,createTime:[]}),D=d(),w=d(!1),_=async()=>{v.value=!0;try{const r=await ue(n);C.value=r.list,S.value=r.total}finally{v.value=!1}},k=()=>{n.pageNo=1,_()},R=()=>{D.value.resetFields(),k()},V=d(),T=(r,t)=>{V.value.open(r,t)},z=async r=>{try{await y.delConfirm(),await ce(r),y.success(Y("common.delSuccess")),await _()}catch(t){console.log(t)}},I=async()=>{try{await y.exportConfirm(),w.value=!0;const r=await _e(n);ge.excel(r,"学生.xls")}catch(r){console.log(r)}finally{w.value=!1}};return Z(()=>{_()}),(r,t)=>{const L=ie,q=s("el-input"),g=s("el-form-item"),B=s("el-option"),K=s("el-select"),H=s("el-date-picker"),b=le,p=s("el-button"),Q=s("el-form"),$=se,E=s("el-tab-pane"),X=s("el-tabs"),i=s("el-table-column"),j=re,G=s("el-table"),J=oe,x=F("hasPermi"),O=F("loading");return m(),M(N,null,[e(L,{title:"代码生成（主子表）",url:"https://doc.iocoder.cn/new-feature/master-sub/"}),e($,null,{default:o(()=>[e(Q,{ref_key:"queryFormRef",ref:D,class:"-mb-15px",inline:!0,"label-width":"68px",model:a(n)},{default:o(()=>[e(g,{label:"名字",prop:"name"},{default:o(()=>[e(q,{modelValue:a(n).name,"onUpdate:modelValue":t[0]||(t[0]=l=>a(n).name=l),class:"!w-240px",clearable:"",placeholder:"请输入名字",onKeyup:ee(k,["enter"])},null,8,["modelValue"])]),_:1}),e(g,{label:"性别",prop:"sex"},{default:o(()=>[e(K,{modelValue:a(n).sex,"onUpdate:modelValue":t[1]||(t[1]=l=>a(n).sex=l),class:"!w-240px",clearable:"",placeholder:"请选择性别"},{default:o(()=>[(m(!0),M(N,null,te(a(fe)(a(U).SYSTEM_USER_SEX),l=>(m(),u(B,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"创建时间",prop:"createTime"},{default:o(()=>[e(H,{modelValue:a(n).createTime,"onUpdate:modelValue":t[2]||(t[2]=l=>a(n).createTime=l),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(g,null,{default:o(()=>[e(p,{onClick:k},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:search"}),t[6]||(t[6]=c(" 搜索 "))]),_:1}),e(p,{onClick:R},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:refresh"}),t[7]||(t[7]=c(" 重置 "))]),_:1}),f((m(),u(p,{plain:"",type:"primary",onClick:t[3]||(t[3]=l=>T("create"))},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:plus"}),t[8]||(t[8]=c(" 新增 "))]),_:1})),[[x,["infra:demo03-student:create"]]]),f((m(),u(p,{loading:a(w),plain:"",type:"success",onClick:I},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:download"}),t[9]||(t[9]=c(" 导出 "))]),_:1},8,["loading"])),[[x,["infra:demo03-student:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e($,null,{default:o(()=>[f((m(),u(G,{data:a(C),"show-overflow-tooltip":!0,stripe:!0},{default:o(()=>[e(i,{type:"expand"},{default:o(l=>[e(X,{"model-value":"demo03Course"},{default:o(()=>[e(E,{label:"学生课程",name:"demo03Course"},{default:o(()=>[e(pe,{"student-id":l.row.id},null,8,["student-id"])]),_:2},1024),e(E,{label:"学生班级",name:"demo03Grade"},{default:o(()=>[e(de,{"student-id":l.row.id},null,8,["student-id"])]),_:2},1024)]),_:2},1024)]),_:1}),e(i,{align:"center",label:"编号",prop:"id"}),e(i,{align:"center",label:"名字",prop:"name"}),e(i,{align:"center",label:"性别",prop:"sex"},{default:o(l=>[e(j,{type:a(U).SYSTEM_USER_SEX,value:l.row.sex},null,8,["type","value"])]),_:1}),e(i,{align:"center",formatter:a(P),label:"出生日期",prop:"birthday",width:"180px"},null,8,["formatter"]),e(i,{align:"center",label:"简介",prop:"description"}),e(i,{align:"center",formatter:a(P),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),e(i,{align:"center",label:"操作"},{default:o(l=>[f((m(),u(p,{link:"",type:"primary",onClick:W=>T("update",l.row.id)},{default:o(()=>t[10]||(t[10]=[c(" 编辑 ")])),_:2},1032,["onClick"])),[[x,["infra:demo03-student:update"]]]),f((m(),u(p,{link:"",type:"danger",onClick:W=>z(l.row.id)},{default:o(()=>t[11]||(t[11]=[c("删除")])),_:2},1032,["onClick"])),[[x,["infra:demo03-student:delete"]]])]),_:1})]),_:1},8,["data"])),[[O,a(v)]]),e(J,{limit:a(n).pageSize,"onUpdate:limit":t[4]||(t[4]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":t[5]||(t[5]=l=>a(n).pageNo=l),total:a(S),onPagination:_},null,8,["limit","page","total"])]),_:1}),e(me,{ref_key:"formRef",ref:V,onSuccess:_},null,512)],64)}}});export{Pe as default};
