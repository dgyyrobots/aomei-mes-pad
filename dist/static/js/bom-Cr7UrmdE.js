/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:21:26 
 */
import{_ as F}from"./ContentWrap.vue_vue_type_script_setup_true_lang-fpmIiri3.js";import{d as S,r as n,f as W,O as k,b as E,R,Y as U,g as w,h as $,c as j,o as s,F as q,j as d,m as r,w as A,a as l,k as m,l as p,v as C,i as e,L as I,y as Q,t as c,X,A as Y}from"./index-5TqN_QR1.js";import{m as G}from"./index-DRJRxElP.js";const J=["innerHTML"],K={class:"bom-detail"},Z={class:"detail-item"},ee={class:"detail-item"},te={class:"detail-item"},le={class:"detail-item"},oe={class:"detail-item"},ae={class:"detail-item"},ie=["innerHTML"],ne={class:"detail-item"},se=S({name:"MdItem",__name:"bom",props:{itemId:{}},setup(M){const f=n(!1),g=n([]),N=n(0),_=W({itemTypeId:void 0,pageNo:1,pageSize:10,itemCode:void 0,itemName:void 0,itemTypeCode:void 0,enableFlag:void 0,warehouseCode:void 0,warehouseName:void 0,locationCode:void 0,locationName:void 0,areaCode:void 0,createTime:[],itemId:void 0}),h=n(window.innerWidth),u=k(()=>h.value<=820),x=k(()=>"calc(100vh - 240px)"),b=n(!1),a=n({}),y=()=>{h.value=window.innerWidth};E(()=>{window.addEventListener("resize",y)}),R(()=>{window.removeEventListener("resize",y)});const T=i=>{a.value=i,b.value=!0};n(),n(!1);const L=async()=>{f.value=!0;try{const i=await G(_);g.value=i.list,N.value=i.total}finally{f.value=!1}},V=M;U(()=>V.itemId,i=>{i&&(_.itemId=i,X(()=>{B()}))},{immediate:!0});const B=()=>{_.pageNo=1,L()};return(i,t)=>{const o=w("el-table-column"),D=w("el-button"),O=w("el-table"),H=F,P=w("el-dialog"),z=$("loading");return s(),j(q,null,[d(H,null,{default:r(()=>[A((s(),m(O,{data:l(g),stripe:!0,"highlight-current-row":"",class:"bom-table","max-height":x.value,border:""},{default:r(()=>[u.value?p("",!0):(s(),m(o,{key:0,label:"产品物料ID",align:"center",prop:"id"})),d(o,{label:"物料编码",align:"center",prop:"bomItemCode","min-width":"120","show-overflow-tooltip":""}),d(o,{label:"物料名称",align:"center",prop:"bomItemName","min-width":"120","show-overflow-tooltip":""}),d(o,{label:"规格型号",align:"center",prop:"bomItemSpec","min-width":"100","show-overflow-tooltip":""}),d(o,{label:"单位",align:"center",prop:"unitOfMeasure",width:"80"}),u.value?p("",!0):(s(),m(o,{key:1,label:"物料/产品",align:"center",prop:"itemOrProduct",width:"120","show-overflow-tooltip":""})),u.value?p("",!0):(s(),m(o,{key:2,label:"来料验证",align:"center",width:"90"},{default:r(()=>t[1]||(t[1]=[C("否")])),_:1})),u.value?p("",!0):(s(),m(o,{key:3,label:"备注",align:"center",prop:"remark","min-width":"120","show-overflow-tooltip":""},{default:r(v=>[e("div",{innerHTML:v.row.remark},null,8,J)]),_:1})),u.value?p("",!0):(s(),m(o,{key:4,label:"创建时间",align:"center",prop:"createTime",formatter:l(I),width:"150"},null,8,["formatter"])),u.value?(s(),m(o,{key:5,label:"操作",align:"center",width:"80",fixed:"right"},{default:r(v=>[d(D,{type:"primary",link:"",onClick:de=>T(v.row)},{default:r(()=>t[2]||(t[2]=[C(" 详情 ")])),_:2},1032,["onClick"])]),_:1})):p("",!0)]),_:1},8,["data","max-height"])),[[z,l(f)]])]),_:1}),d(P,{modelValue:l(b),"onUpdate:modelValue":t[0]||(t[0]=v=>Q(b)?b.value=v:null),title:"BOM详情",width:"90%","destroy-on-close":!0,class:"bom-detail-dialog"},{default:r(()=>[e("div",K,[e("div",Z,[t[3]||(t[3]=e("span",{class:"label"},"物料编码：",-1)),e("span",null,c(l(a).bomItemCode),1)]),e("div",ee,[t[4]||(t[4]=e("span",{class:"label"},"物料名称：",-1)),e("span",null,c(l(a).bomItemName),1)]),e("div",te,[t[5]||(t[5]=e("span",{class:"label"},"规格型号：",-1)),e("span",null,c(l(a).bomItemSpec),1)]),e("div",le,[t[6]||(t[6]=e("span",{class:"label"},"单位：",-1)),e("span",null,c(l(a).unitOfMeasure),1)]),e("div",oe,[t[7]||(t[7]=e("span",{class:"label"},"物料/产品：",-1)),e("span",null,c(l(a).itemOrProduct),1)]),t[10]||(t[10]=e("div",{class:"detail-item"},[e("span",{class:"label"},"来料验证："),e("span",null,"否")],-1)),e("div",ae,[t[8]||(t[8]=e("span",{class:"label"},"备注：",-1)),e("div",{innerHTML:l(a).remark||"无",class:"detail-content"},null,8,ie)]),e("div",ne,[t[9]||(t[9]=e("span",{class:"label"},"创建时间：",-1)),e("span",null,c(l(I)({row:l(a)})),1)])])]),_:1},8,["modelValue"])],64)}}}),pe=Y(se,[["__scopeId","data-v-ff6051bd"]]);export{pe as default};
