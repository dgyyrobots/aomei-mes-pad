/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as D,r as n,g as r,h as L,k as c,o as u,_ as R,a as t,y as T,m as a,w as A,j as m,c as N,n as $,F as j,v}from"./index-BuFigy1A.js";import{u as q}from"./index-COXMG5j_.js";import{g as E}from"./index-CvbGONMe.js";const K=D({name:"BpmTaskUpdateAssigneeForm",__name:"TaskUpdateAssigneeForm",emits:["success"],setup(S,{expose:g,emit:k}){const o=n(!1),i=n(!1),l=n({id:"",assigneeUserId:void 0}),b=n({assigneeUserId:[{required:!0,message:"新审批人不能为空",trigger:"change"}]}),d=n(),p=n([]);g({open:async f=>{o.value=!0,w(),l.value.id=f,p.value=await E()}});const U=k,y=async()=>{if(!(!d||!await d.value.validate())){i.value=!0;try{await q(l.value),o.value=!1,U("success")}finally{i.value=!1}}},w=()=>{l.value={id:"",assigneeUserId:void 0},d.value?.resetFields()};return(f,e)=>{const V=r("el-option"),F=r("el-select"),x=r("el-form-item"),I=r("el-form"),_=r("el-button"),C=R,B=L("loading");return u(),c(C,{modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=s=>T(o)?o.value=s:null),title:"转派审批人",width:"500"},{footer:a(()=>[m(_,{disabled:t(i),type:"primary",onClick:y},{default:a(()=>e[3]||(e[3]=[v("确 定")])),_:1},8,["disabled"]),m(_,{onClick:e[1]||(e[1]=s=>o.value=!1)},{default:a(()=>e[4]||(e[4]=[v("取 消")])),_:1})]),default:a(()=>[A((u(),c(I,{ref_key:"formRef",ref:d,"label-width":"110px",model:t(l),rules:t(b)},{default:a(()=>[m(x,{label:"新审批人",prop:"assigneeUserId"},{default:a(()=>[m(F,{modelValue:t(l).assigneeUserId,"onUpdate:modelValue":e[0]||(e[0]=s=>t(l).assigneeUserId=s),clearable:"",style:{width:"100%"}},{default:a(()=>[(u(!0),N(j,null,$(t(p),s=>(u(),c(V,{key:s.id,label:s.nickname,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[B,t(i)]])]),_:1},8,["modelValue"])}}});export{K as _};
