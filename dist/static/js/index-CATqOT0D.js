/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{d as y,b$ as x,j as n,x as g,r as c,Y as h,b as k,g as _,k as $,o as a,m as P,i as p,q as i,a as l,c as d,F as Y,n as E,t as C}from"./index-BdmDrM2Y.js";import{e as D,f as j}from"./constants-BPQb3nxh.js";import{e as I}from"./couponTemplate-C-4FGSfk.js";const m=y({name:"CouponDiscount",props:{coupon:{type:void 0}},setup(r){const e=r.coupon;let o=`${e.discountPercent}`,s=" 折";return e.discountType===D.PRICE.type&&(o=x(e.discountPrice),s=" 元"),()=>n("div",null,[n("span",{class:"text-20px font-bold"},[o]),n("span",null,[s])])}}),M=y({name:"CouponDiscountDesc",props:{coupon:{type:void 0}},setup(r){const e=r.coupon,o=e.usePrice>0?`满${x(e.usePrice)}元，`:"",s=e.discountType===D.PRICE.type?`减${x(e.discountPrice)}元`:`打${e.discountPercent}折`;return()=>n("div",null,[n("span",null,[o]),n("span",null,[s])])}}),R=y({name:"CouponValidTerm",props:{coupon:{type:void 0}},setup(r){const e=r.coupon,o=e.validityType===j.DATE.type?`有效期：${g(e.validStartTime,"YYYY-MM-DD")} 至 ${g(e.validEndTime,"YYYY-MM-DD")}`:`领取后第 ${e.fixedStartTerm} - ${e.fixedEndTerm} 天内可用`;return()=>n("div",null,[o])}}),V={key:0,class:"m-l-16px flex flex-row justify-between p-8px"},B={class:"flex flex-col justify-evenly gap-4px"},S={class:"flex flex-col justify-evenly"},W={key:1,class:"m-l-16px flex flex-row justify-between p-8px"},F={class:"flex flex-col justify-evenly gap-4px"},L={class:"flex flex-col"},z={key:2,class:"flex flex-col items-center justify-around gap-4px p-4px"},H=y({name:"CouponCard",__name:"index",props:{property:{}},setup(r){const e=r,o=c([]);h(()=>e.property.couponIds,async()=>{e.property.couponIds?.length>0&&(o.value=await I(e.property.couponIds))},{immediate:!0,deep:!0});const s=c(375),v=c(),b=c("100%"),f=c(375);return h(()=>[e.property,s,o.value.length],()=>{f.value=(s.value*.95-e.property.space*(e.property.columns-1))/e.property.columns,b.value=`${f.value*o.value.length+e.property.space*(o.value.length-1)}px`},{immediate:!0,deep:!0}),k(()=>{s.value=v.value?.wrapRef?.offsetWidth||375}),(t,N)=>{const T=_("el-scrollbar");return a(),$(T,{ref_key:"containerRef",ref:v,class:"z-1 min-h-30px","wrap-class":"w-full"},{default:P(()=>[p("div",{class:"flex flex-row text-12px",style:i({gap:`${t.property.space}px`,width:l(b)})},[(a(!0),d(Y,null,E(l(o),(u,w)=>(a(),d("div",{key:w,class:"box-content",style:i({background:t.property.bgImg?`url(${t.property.bgImg}) 100% center / 100% 100% no-repeat`:"#fff",width:`${l(f)}px`,color:t.property.textColor})},[t.property.columns===1?(a(),d("div",V,[p("div",B,[n(l(m),{coupon:u},null,8,["coupon"]),n(l(M),{coupon:u},null,8,["coupon"]),n(l(R),{coupon:u},null,8,["coupon"])]),p("div",S,[p("div",{class:"rounded-20px p-x-8px p-y-2px",style:i({color:t.property.button.color,background:t.property.button.bgColor})}," 立即领取 ",4)])])):t.property.columns===2?(a(),d("div",W,[p("div",F,[n(l(m),{coupon:u},null,8,["coupon"]),p("div",null,C(u.name),1)]),p("div",L,[p("div",{class:"h-full w-20px rounded-20px p-x-2px p-y-8px text-center",style:i({color:t.property.button.color,background:t.property.button.bgColor})}," 立即领取 ",4)])])):(a(),d("div",z,[n(l(m),{coupon:u},null,8,["coupon"]),p("div",null,C(u.name),1),p("div",{class:"rounded-20px p-x-8px p-y-2px",style:i({color:t.property.button.color,background:t.property.button.bgColor})}," 立即领取 ",4)]))],4))),128))],4)]),_:1},512)}}});export{H as default};
