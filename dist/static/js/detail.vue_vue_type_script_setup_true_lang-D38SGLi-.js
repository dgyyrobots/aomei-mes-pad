/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{_ as $}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C6z1f3RI.js";import{a as w}from"./dict-B7jb0IEc.js";import{d as K,r as S,Y as L,g as p,c as i,o as m,F as b,j as o,m as d,v as V,a as l,n as y,k as s,l as _,D as c,aO as Y,t as N,q as A,S as G}from"./index-lcC3l4R2.js";import{h as H}from"./index-hAUTV_sd.js";const J={key:0,class:"flex-center h-50 w-50 flex flex-col overflow-hidden border border-gray border-solid"},h=K({__name:"detail",props:{formData:{}},setup(T){const R=T,u=S({}),t=S({});return L(()=>R.formData,async f=>{u.value=f,f.workorderId&&(t.value=await H(f.workorderId),t.value.adjuncts=t.value.adjuncts?t.value.adjuncts:"",t.value.requestDate=t.value.requestDate?t.value.requestDate:void 0)},{immediate:!0}),(f,a)=>{const D=p("el-divider"),n=p("el-input"),r=p("el-form-item"),U=p("el-input-number"),k=p("el-date-picker"),j=p("el-color-picker"),C=p("el-radio"),v=p("el-radio-group"),x=p("el-form"),O=$,E=p("SwitchS"),g=p("el-col"),M=p("el-option"),B=p("el-select"),q=p("el-button"),W=p("el-icon"),z=p("el-link"),F=p("el-row");return m(),i(b,null,[o(D,null,{default:d(()=>a[34]||(a[34]=[V("生产任务")])),_:1}),o(O,null,{default:d(()=>[o(x,{ref:"formRef",inline:"","label-width":"100px",model:l(u),disabled:!0},{default:d(()=>[o(r,{label:"任务编号",prop:"taskCode"},{default:d(()=>[o(n,{modelValue:l(u).taskCode,"onUpdate:modelValue":a[0]||(a[0]=e=>l(u).taskCode=e),placeholder:"请输入任务编号"},null,8,["modelValue"])]),_:1}),o(r,{label:"任务名称",prop:"taskName"},{default:d(()=>[o(n,{modelValue:l(u).taskName,"onUpdate:modelValue":a[1]||(a[1]=e=>l(u).taskName=e),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),o(r,{label:"工作站编号",prop:"workstationCode"},{default:d(()=>[o(n,{modelValue:l(u).workstationCode,"onUpdate:modelValue":a[2]||(a[2]=e=>l(u).workstationCode=e),placeholder:"请输入工作站编号"},null,8,["modelValue"])]),_:1}),o(r,{label:"工作站名称",prop:"workstationName"},{default:d(()=>[o(n,{modelValue:l(u).workstationName,"onUpdate:modelValue":a[3]||(a[3]=e=>l(u).workstationName=e),placeholder:"请输入工作站名称"},null,8,["modelValue"])]),_:1}),o(r,{label:"工序编码",prop:"processCode"},{default:d(()=>[o(n,{modelValue:l(u).processCode,"onUpdate:modelValue":a[4]||(a[4]=e=>l(u).processCode=e),placeholder:"请输入工序编码"},null,8,["modelValue"])]),_:1}),o(r,{label:"工序名称",prop:"processName"},{default:d(()=>[o(n,{modelValue:l(u).processName,"onUpdate:modelValue":a[5]||(a[5]=e=>l(u).processName=e),placeholder:"请输入工序名称"},null,8,["modelValue"])]),_:1}),o(r,{label:"产品物料编码",prop:"itemCode"},{default:d(()=>[o(n,{modelValue:l(u).itemCode,"onUpdate:modelValue":a[6]||(a[6]=e=>l(u).itemCode=e),placeholder:"请输入产品物料编码"},null,8,["modelValue"])]),_:1}),o(r,{label:"产品物料名称",prop:"itemName"},{default:d(()=>[o(n,{modelValue:l(u).itemName,"onUpdate:modelValue":a[7]||(a[7]=e=>l(u).itemName=e),placeholder:"请输入产品物料名称"},null,8,["modelValue"])]),_:1}),o(r,{label:"规格型号",prop:"specification"},{default:d(()=>[o(n,{modelValue:l(u).specification,"onUpdate:modelValue":a[8]||(a[8]=e=>l(u).specification=e),placeholder:"请输入规格型号"},null,8,["modelValue"])]),_:1}),o(r,{label:"单位",prop:"unitOfMeasure"},{default:d(()=>[o(n,{modelValue:l(u).unitOfMeasure,"onUpdate:modelValue":a[9]||(a[9]=e=>l(u).unitOfMeasure=e),placeholder:"请输入单位"},null,8,["modelValue"])]),_:1}),o(r,{label:"排产数量",prop:"quantity"},{default:d(()=>[o(U,{min:1,modelValue:l(u).quantity,"onUpdate:modelValue":a[10]||(a[10]=e=>l(u).quantity=e)},null,8,["modelValue"])]),_:1}),o(r,{label:"开始生产时间",prop:"startTime"},{default:d(()=>[o(k,{modelValue:l(u).startTime,"onUpdate:modelValue":a[11]||(a[11]=e=>l(u).startTime=e),clearable:"",type:"datetime",v:"",placeholder:"选择开始生产时间"},null,8,["modelValue"])]),_:1}),o(r,{label:"生产时长",prop:"duration"},{default:d(()=>[o(U,{min:1,precision:0,step:1,modelValue:l(u).duration,"onUpdate:modelValue":a[12]||(a[12]=e=>l(u).duration=e)},null,8,["modelValue"])]),_:1}),o(r,{label:"完成生产时间",prop:"endTime"},{default:d(()=>[o(k,{modelValue:l(u).endTime,"onUpdate:modelValue":a[13]||(a[13]=e=>l(u).endTime=e),type:"datetime",placeholder:"选择完成生产时间",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"甘特图显示颜色",prop:"colorCode","label-width":"110px"},{default:d(()=>[o(j,{modelValue:l(u).colorCode,"onUpdate:modelValue":a[14]||(a[14]=e=>l(u).colorCode=e)},null,8,["modelValue"])]),_:1}),o(r,{label:"需求日期",prop:"requestDate"},{default:d(()=>[o(k,{modelValue:l(u).requestDate,"onUpdate:modelValue":a[15]||(a[15]=e=>l(u).requestDate=e),type:"date","value-format":"x",placeholder:"选择需求日期"},null,8,["modelValue"])]),_:1}),o(r,{label:"生产状态",prop:"status"},{default:d(()=>[o(v,{modelValue:l(u).status,"onUpdate:modelValue":a[16]||(a[16]=e=>l(u).status=e)},{default:d(()=>[(m(!0),i(b,null,y(l(w)("mes_pro_task_status"),e=>(m(),s(C,{key:e.value,value:e.value},{default:d(()=>[V(N(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"备注",prop:"remark"},{default:d(()=>[o(n,{modelValue:l(u).remark,"onUpdate:modelValue":a[17]||(a[17]=e=>l(u).remark=e),placeholder:"请输入备注",type:"textarea",style:{width:"300px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),o(D,null,{default:d(()=>a[35]||(a[35]=[V("生产工单")])),_:1}),o(O,null,{default:d(()=>[o(x,{inline:"",ref:"formRef",model:l(t),"label-width":"100px"},{default:d(()=>[o(r,{label:"工单编号",prop:"workorderCode"},{default:d(()=>[o(g,{style:{display:"flex"}},{default:d(()=>[o(n,{modelValue:l(t).workorderCode,"onUpdate:modelValue":a[18]||(a[18]=e=>l(t).workorderCode=e),placeholder:"请输入工单编号",disabled:""},null,8,["modelValue"]),o(E,{name:"WORKORDER_CODE",obj:l(t),val:"workorderCode"},null,8,["obj"])]),_:1})]),_:1}),o(r,{label:"工单名称",prop:"workorderName"},{default:d(()=>[o(n,{modelValue:l(t).workorderName,"onUpdate:modelValue":a[19]||(a[19]=e=>l(t).workorderName=e),placeholder:"请输入工单名称",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"生产方",prop:"isOut"},{default:d(()=>[o(v,{modelValue:l(t).isOut,"onUpdate:modelValue":a[20]||(a[20]=e=>l(t).isOut=e),disabled:""},{default:d(()=>[(m(),s(C,{key:!1,value:!1},{default:d(()=>a[36]||(a[36]=[V("自产")])),_:1})),(m(),s(C,{key:!0,value:!0},{default:d(()=>a[37]||(a[37]=[V("委外")])),_:1}))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"来源类型",prop:"channelType"},{default:d(()=>[o(v,{modelValue:l(t).channelType,"onUpdate:modelValue":a[21]||(a[21]=e=>l(t).channelType=e),disabled:""},{default:d(()=>[(m(!0),i(b,null,y(l(w)("mes_workorder_sourcetype"),e=>(m(),s(C,{key:e.value,value:e.value},{default:d(()=>[V(N(e.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"单据状态",prop:"status",style:{width:"200px"}},{default:d(()=>[o(B,{modelValue:l(t).status,"onUpdate:modelValue":a[22]||(a[22]=e=>l(t).status=e),disabled:"",placeholder:"请选择单据状态"},{default:d(()=>[(m(!0),i(b,null,y(l(w)("mes_order_status"),e=>(m(),s(M,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(t).orderSource=="ORDER"?(m(),s(r,{key:0,label:"订单编号",prop:"sourceCode"},{default:d(()=>[o(n,{modelValue:l(t).sourceCode,"onUpdate:modelValue":a[23]||(a[23]=e=>l(t).sourceCode=e),placeholder:"请输入订单编号"},null,8,["modelValue"])]),_:1})):_("",!0),o(r,{label:"产品编号",prop:"productCode"},{default:d(()=>[o(n,{modelValue:l(t).productCode,"onUpdate:modelValue":a[24]||(a[24]=e=>l(t).productCode=e),placeholder:"请输入产品编号",disabled:""},{append:d(()=>[o(q,{icon:l(c)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"产品名称",prop:"productName"},{default:d(()=>[o(n,{modelValue:l(t).productName,"onUpdate:modelValue":a[25]||(a[25]=e=>l(t).productName=e),placeholder:"请输入产品名称",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"规格型号",prop:"productSpc"},{default:d(()=>[o(n,{modelValue:l(t).productSpc,"onUpdate:modelValue":a[26]||(a[26]=e=>l(t).productSpc=e),placeholder:"请输入规格型号",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"单位",prop:"unitOfMeasure"},{default:d(()=>[o(n,{modelValue:l(t).unitOfMeasure,"onUpdate:modelValue":a[27]||(a[27]=e=>l(t).unitOfMeasure=e),placeholder:"请输入单位",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"工单数量",prop:"quantity"},{default:d(()=>[o(U,{min:1,modelValue:l(t).quantity,"onUpdate:modelValue":a[28]||(a[28]=e=>l(t).quantity=e),disabled:""},null,8,["modelValue"])]),_:1}),l(t).channelType=="ORDER"?(m(),s(r,{key:1,label:"客户编码",prop:"clientCode"},{default:d(()=>[o(n,{modelValue:l(t).clientCode,"onUpdate:modelValue":a[29]||(a[29]=e=>l(t).clientCode=e),placeholder:"请输入客户编码",disabled:""},{append:d(()=>[o(q,{onClick:f.handleSelectClient,icon:l(c)},null,8,["onClick","icon"])]),_:1},8,["modelValue"])]),_:1})):_("",!0),l(t).channelType=="ORDER"?(m(),s(r,{key:2,label:"客户名称",prop:"clientName"},{default:d(()=>[o(n,{modelValue:l(t).clientName,"onUpdate:modelValue":a[30]||(a[30]=e=>l(t).clientName=e),placeholder:"请输入客户名称",disabled:""},null,8,["modelValue"])]),_:1})):_("",!0),o(r,{label:"需求日期",prop:"requestDate"},{default:d(()=>[o(k,{modelValue:l(t).requestDate,"onUpdate:modelValue":a[31]||(a[31]=e=>l(t).requestDate=e),type:"date","value-format":"x",placeholder:"选择需求日期",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"批次号",prop:"batchCode"},{default:d(()=>[o(n,{modelValue:l(t).batchCode,"onUpdate:modelValue":a[32]||(a[32]=e=>l(t).batchCode=e),placeholder:"请输入批次号",disabled:""},null,8,["modelValue"])]),_:1}),o(r,{label:"备注",prop:"remark"},{default:d(()=>[o(n,{type:"textarea",modelValue:l(t).remark,"onUpdate:modelValue":a[33]||(a[33]=e=>l(t).remark=e),placeholder:"请输入备注",disabled:""},null,8,["modelValue"])]),_:1}),o(F,null,{default:d(()=>[o(g,{span:24},{default:d(()=>[o(r,{label:"附件列表",prop:"adjuncts"},{default:d(()=>[l(t).adjuncts&&l(Y)(l(t).adjuncts)?(m(!0),i(b,{key:0},y(l(t).adjuncts.split(","),(e,I)=>(m(),i("div",{class:"mr-2 flex",key:I,style:A([{},`background-image:url(${e});background-size: contain;background-repeat: no-repeat;`])},[e?(m(),i("div",J,[o(W,{style:{width:"100%",height:"100%"}},{default:d(()=>[o(l(G),{style:{width:"50%",height:"30%"}})]),_:1}),o(z,{href:e,target:"_blank",class:"mt-2"},{default:d(()=>[V(N(e.split(".").pop().toUpperCase())+"(点击下载)",1)]),_:2},1032,["href"])])):_("",!0)],4))),128)):_("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64)}}});export{h as _};
