/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{d as q,r as m,f as A,g as s,h as E,c as L,o as v,j as a,m as o,a as t,y as $,w as I,k as P,v as r,M as Q,K as R,F as W,z as G,aK as H}from"./index-FPuwcz_Y.js";import{_ as J}from"./ContentWrap.vue_vue_type_script_setup_true_lang-32ziCa0j.js";import{_ as O}from"./index-uvMbgyfS.js";import{_ as X}from"./main.vue_vue_type_script_setup_true_lang-u2oZKeUa.js";import Y from"./ImageTable-DJWFT186.js";import{_ as Z}from"./VoiceTable.vue_vue_type_script_setup_true_lang-CDTvjXJU.js";import{_ as h}from"./VideoTable.vue_vue_type_script_setup_true_lang-NkywxDmy.js";import x from"./UploadFile-BMEEHRQ3.js";import{_ as ee}from"./UploadVideo.vue_vue_type_script_setup_true_lang-Cw0szdbl.js";import"./upload-_VhhHe0k.js";import{g as te,d as ae}from"./index-3BtwMLTx.js";import{U as d}from"./useUpload-BciYAkHa.js";import"./index-Ut9bf_Ei.js";import"./main-BzyhRXCv.js";import"./main.vue_vue_type_script_setup_true_lang-CG_8BZRm.js";import"video.js/dist/video-js.css";import"video.js";const we=q({__name:"index",setup(oe){const z=G(),_=m(d.Image),u=m(!1),g=m([]),f=m(0),y=m(-1);H("accountId",y);const n=A({pageNo:1,pageSize:10,accountId:y,permanent:!0}),c=m(!1),D=i=>{y.value=i,n.accountId=i,n.pageNo=1,p()},p=async()=>{u.value=!0;try{const i=await te({...n,type:_.value});g.value=i.list,f.value=i.total}finally{u.value=!1}},M=()=>{n.pageNo=1,p()},k=()=>{g.value=[],f.value=0,M()},b=async i=>{await z.confirm("此操作将永久删除该文件, 是否继续?"),await ae(i),z.alertSuccess("删除成功")};return(i,e)=>{const T=O,j=s("el-form-item"),B=s("el-form"),S=J,U=R,w=s("el-row"),V=Q,N=s("el-tab-pane"),F=s("el-button"),K=s("el-tabs"),C=E("hasPermi");return v(),L(W,null,[a(T,{title:"公众号素材",url:"https://doc.iocoder.cn/mp/material/"}),a(S,null,{default:o(()=>[a(B,{class:"-mb-15px",inline:!0,"label-width":"68px"},{default:o(()=>[a(j,{label:"公众号",prop:"accountId"},{default:o(()=>[a(t(X),{onChange:D})]),_:1})]),_:1})]),_:1}),a(S,null,{default:o(()=>[a(K,{modelValue:t(_),"onUpdate:modelValue":e[8]||(e[8]=l=>$(_)?_.value=l:null),onTabChange:k},{default:o(()=>[a(N,{name:t(d).Image},{label:o(()=>[a(w,{align:"middle"},{default:o(()=>[a(U,{icon:"ep:picture"}),e[9]||(e[9]=r(" 图片 "))]),_:1})]),default:o(()=>[I((v(),P(x,{type:t(d).Image,onUploaded:p},{default:o(()=>e[10]||(e[10]=[r(" 支持 bmp/png/jpeg/jpg/gif 格式，大小不超过 2M ")])),_:1},8,["type"])),[[C,["mp:material:upload-permanent"]]]),a(Y,{list:t(g),loading:t(u),onDelete:b},null,8,["list","loading"]),a(V,{limit:t(n).pageSize,"onUpdate:limit":e[0]||(e[0]=l=>t(n).pageSize=l),page:t(n).pageNo,"onUpdate:page":e[1]||(e[1]=l=>t(n).pageNo=l),total:t(f),onPagination:p},null,8,["limit","page","total"])]),_:1},8,["name"]),a(N,{name:t(d).Voice},{label:o(()=>[a(w,{align:"middle"},{default:o(()=>[a(U,{icon:"ep:microphone"}),e[11]||(e[11]=r(" 语音 "))]),_:1})]),default:o(()=>[I((v(),P(x,{type:t(d).Voice,onUploaded:p},{default:o(()=>e[12]||(e[12]=[r(" 格式支持 mp3/wma/wav/amr，文件大小不超过 2M，播放长度不超过 60s ")])),_:1},8,["type"])),[[C,["mp:material:upload-permanent"]]]),a(Z,{list:t(g),loading:t(u),onDelete:b},null,8,["list","loading"]),a(V,{limit:t(n).pageSize,"onUpdate:limit":e[2]||(e[2]=l=>t(n).pageSize=l),page:t(n).pageNo,"onUpdate:page":e[3]||(e[3]=l=>t(n).pageNo=l),total:t(f),onPagination:p},null,8,["limit","page","total"])]),_:1},8,["name"]),a(N,{name:t(d).Video},{label:o(()=>[a(w,{align:"middle"},{default:o(()=>[a(U,{icon:"ep:video-play"}),e[13]||(e[13]=r(" 视频 "))]),_:1})]),default:o(()=>[I((v(),P(F,{plain:"",type:"primary",onClick:e[4]||(e[4]=l=>c.value=!0)},{default:o(()=>e[14]||(e[14]=[r("新建视频")])),_:1})),[[C,["mp:material:upload-permanent"]]]),a(ee,{modelValue:t(c),"onUpdate:modelValue":e[5]||(e[5]=l=>$(c)?c.value=l:null)},null,8,["modelValue"]),a(h,{list:t(g),loading:t(u),onDelete:b},null,8,["list","loading"]),a(V,{limit:t(n).pageSize,"onUpdate:limit":e[6]||(e[6]=l=>t(n).pageSize=l),page:t(n).pageNo,"onUpdate:page":e[7]||(e[7]=l=>t(n).pageNo=l),total:t(f),onPagination:p},null,8,["limit","page","total"])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),_:1})],64)}}});export{we as default};
