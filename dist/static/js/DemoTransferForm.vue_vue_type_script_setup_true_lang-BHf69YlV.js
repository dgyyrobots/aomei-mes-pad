/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{V as k,d as Y,r as i,f as $,g as r,h as A,k as _,o as c,m as t,w as g,a as o,j as n,c as j,F as z,n as M,v as y,t as O,Z as N,y as Z,_ as G,N as H,dl as J,z as K}from"./index-FPuwcz_Y.js";import{c as Q,D as W}from"./dict-C9lD-gwA.js";function X(d){return k.post({url:"/pay/demo-transfer/create",data:d})}function ae(d){return k.get({url:"/pay/demo-transfer/page",params:d})}const te=Y({__name:"DemoTransferForm",emits:["success"],setup(d,{expose:x,emit:F}){const{t:V}=H(),I=K(),s=i(!1),b=i(""),p=i(!1),D=i(""),a=i({id:void 0,price:void 0,type:void 0,userName:void 0,alipayLogonId:void 0,openid:void 0}),L=$({price:[{required:!0,message:"转账金额不能为空",trigger:"blur"}],type:[{required:!0,message:"转账类型不能为空",trigger:"change"}]}),m=i();x({open:async f=>{s.value=!0,b.value=V(`action.${f}`),D.value=f,T()},close:async()=>{s.value=!1,T()}});const C=F,R=async()=>{if(!(!m||!await m.value.validate())){p.value=!0;try{const e={...a.value};e.price=J(e.price),D.value==="create"&&(await X(e),I.success(V("common.createSuccess"))),s.value=!1,C("success")}finally{p.value=!1}}},T=()=>{a.value={id:void 0,price:void 0,userName:void 0,alipayLogonId:void 0,openid:void 0},m.value?.resetFields()};return(f,e)=>{const U=r("el-radio"),E=r("el-radio-group"),u=r("el-form-item"),P=r("el-input-number"),v=r("el-input"),S=r("el-form"),w=r("el-button"),q=G,B=A("loading");return c(),_(q,{modelValue:o(s),"onUpdate:modelValue":e[6]||(e[6]=l=>Z(s)?s.value=l:null),title:o(b),width:"800px"},{footer:t(()=>[n(w,{disabled:o(p),type:"primary",onClick:R},{default:t(()=>e[7]||(e[7]=[y("确 定")])),_:1},8,["disabled"]),n(w,{onClick:e[5]||(e[5]=l=>s.value=!1)},{default:t(()=>e[8]||(e[8]=[y("取 消")])),_:1})]),default:t(()=>[g((c(),_(S,{ref_key:"formRef",ref:m,"label-width":"120px",model:o(a),rules:o(L)},{default:t(()=>[n(u,{label:"转账类型",prop:"type"},{default:t(()=>[n(E,{modelValue:o(a).type,"onUpdate:modelValue":e[0]||(e[0]=l=>o(a).type=l)},{default:t(()=>[(c(!0),j(z,null,M(o(Q)(o(W).PAY_TRANSFER_TYPE),l=>(c(),_(U,{key:l.value,disabled:l.value===2||l.value===3||l.value===4,label:l.value},{default:t(()=>[y(O(l.label),1)]),_:2},1032,["disabled","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(u,{label:"转账金额(元)",prop:"price"},{default:t(()=>[n(P,{modelValue:o(a).price,"onUpdate:modelValue":e[1]||(e[1]=l=>o(a).price=l),min:0,placeholder:"请输入转账金额",precision:2,step:.01,style:{width:"200px"}},null,8,["modelValue"])]),_:1}),n(u,{label:"收款人姓名",prop:"userName"},{default:t(()=>[n(v,{modelValue:o(a).userName,"onUpdate:modelValue":e[2]||(e[2]=l=>o(a).userName=l),placeholder:"请输入收款人姓名"},null,8,["modelValue"])]),_:1}),g(n(u,{label:"支付宝登录账号",prop:"alipayLogonId"},{default:t(()=>[n(v,{modelValue:o(a).alipayLogonId,"onUpdate:modelValue":e[3]||(e[3]=l=>o(a).alipayLogonId=l),placeholder:"请输入支付宝登录账号"},null,8,["modelValue"])]),_:1},512),[[N,o(a).type===1]]),g(n(u,{label:"微信 openid",prop:"openid"},{default:t(()=>[n(v,{modelValue:o(a).openid,"onUpdate:modelValue":e[4]||(e[4]=l=>o(a).openid=l),placeholder:"请输入微信 openid"},null,8,["modelValue"])]),_:1},512),[[N,o(a).type===2]])]),_:1},8,["model","rules"])),[[B,o(p)]])]),_:1},8,["modelValue","title"])}}});export{te as _,ae as g};
