/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:52:22 
 */
import{d as L,r as p,f as P,g as r,h as $,k as v,o as _,m as o,j as e,a as l,v as u,c as q,F as K,n as M,K as G,w as H,L as Q,M as j,y as W,_ as h}from"./index-DMg0mq0e.js";import{_ as J}from"./DictTag.vue_vue_type_script_lang-sQcOd7JH.js";import{_ as X}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DPMk4m5L.js";import{g as Z}from"./index-DTjdTWwJ.js";import{B as ee}from"./constants-BPQb3nxh.js";import{c as te,D as V}from"./dict-BEquckDR.js";import{f as le}from"./formatter-GKBODKYc.js";const de=L({name:"BrokerageOrderListDialog",__name:"BrokerageOrderListDialog",setup(ae,{expose:U}){const c=p(!0),b=p(0),w=p([]),n=P({pageNo:1,pageSize:10,userId:null,bizType:ee.ORDER.type,level:"",createTime:[],status:null}),y=p(),m=p(!1);U({open:async i=>{m.value=!0,n.userId=i,k()}});const x=async()=>{c.value=!0;try{const i=await Z(n);w.value=i.list,b.value=i.total}finally{c.value=!1}},f=()=>{n.pageNo=1,x()},k=()=>{y.value?.resetFields(),f()};return(i,t)=>{const g=r("el-radio-button"),B=r("el-radio-group"),d=r("el-form-item"),C=r("el-option"),E=r("el-select"),O=r("el-date-picker"),D=G,R=r("el-button"),F=r("el-form"),T=X,s=r("el-table-column"),I=r("el-avatar"),N=J,S=r("el-table"),z=j,A=h,Y=$("loading");return _(),v(A,{modelValue:l(m),"onUpdate:modelValue":t[5]||(t[5]=a=>W(m)?m.value=a:null),title:"推广人列表",width:"75%"},{default:o(()=>[e(T,null,{default:o(()=>[e(F,{ref_key:"queryFormRef",ref:y,class:"-mb-15px",inline:!0,"label-width":"85px",model:l(n)},{default:o(()=>[e(d,{label:"用户类型",prop:"level"},{default:o(()=>[e(B,{modelValue:l(n).level,"onUpdate:modelValue":t[0]||(t[0]=a=>l(n).level=a),onChange:f},{default:o(()=>[e(g,{checked:""},{default:o(()=>t[6]||(t[6]=[u("全部")])),_:1}),e(g,{label:"1"},{default:o(()=>t[7]||(t[7]=[u("一级推广人")])),_:1}),e(g,{label:"2"},{default:o(()=>t[8]||(t[8]=[u("二级推广人")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"状态",prop:"status"},{default:o(()=>[e(E,{modelValue:l(n).status,"onUpdate:modelValue":t[1]||(t[1]=a=>l(n).status=a),class:"!w-240px",clearable:"",placeholder:"请选择状态"},{default:o(()=>[(_(!0),q(K,null,M(l(te)(l(V).BROKERAGE_RECORD_STATUS),a=>(_(),v(C,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"绑定时间",prop:"createTime"},{default:o(()=>[e(O,{modelValue:l(n).createTime,"onUpdate:modelValue":t[2]||(t[2]=a=>l(n).createTime=a),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(d,null,{default:o(()=>[e(R,{onClick:f},{default:o(()=>[e(D,{class:"mr-5px",icon:"ep:search"}),t[9]||(t[9]=u(" 搜索 "))]),_:1}),e(R,{onClick:k},{default:o(()=>[e(D,{class:"mr-5px",icon:"ep:refresh"}),t[10]||(t[10]=u(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(T,null,{default:o(()=>[H((_(),v(S,{data:l(w),"show-overflow-tooltip":!0,stripe:!0},{default:o(()=>[e(s,{align:"center",label:"订单编号","min-width":"80px",prop:"bizId"}),e(s,{align:"center",label:"用户编号","min-width":"80px",prop:"sourceUserId"}),e(s,{align:"center",label:"头像",prop:"sourceUserAvatar",width:"70px"},{default:o(a=>[e(I,{src:a.row.sourceUserAvatar},null,8,["src"])]),_:1}),e(s,{align:"center",label:"昵称","min-width":"80px",prop:"sourceUserNickname"}),e(s,{align:"center",formatter:l(le),label:"佣金","min-width":"100px",prop:"price"},null,8,["formatter"]),e(s,{align:"center",label:"状态","min-width":"85",prop:"status"},{default:o(a=>[e(N,{type:l(V).BROKERAGE_RECORD_STATUS,value:a.row.status},null,8,["type","value"])]),_:1}),e(s,{align:"center",formatter:l(Q),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[Y,l(c)]]),e(z,{limit:l(n).pageSize,"onUpdate:limit":t[3]||(t[3]=a=>l(n).pageSize=a),page:l(n).pageNo,"onUpdate:page":t[4]||(t[4]=a=>l(n).pageNo=a),total:l(b),onPagination:x},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{de as _};
