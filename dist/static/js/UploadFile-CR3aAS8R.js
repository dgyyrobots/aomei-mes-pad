/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{b as y,a as v,H as I,U as x}from"./upload-D4qopMLh.js";import{d as B,bv as E,r as S,f as V,g as l,k as h,o as k,m as s,j as A,v as C,i as D,U as L,a as o,z as N,A as $}from"./index-BdC40rFX.js";import{U as p}from"./useUpload-ClxgNmfW.js";const j={class:"el-upload__tip",style:{"margin-left":"5px"}},F=B({__name:"UploadFile",props:{type:{}},emits:["uploaded"],setup(c,{emit:d}){const t=N(),i=c,u=E("accountId"),r=S([]),f=d,a=V({type:p.Image,title:"",introduction:"",accountId:u}),m=i.type===p.Image?y:v,_=e=>{if(e.code!==0)return t.alertError(`上传出错：${e.msg}`),!1;r.value=[],a.title="",a.introduction="",t.notifySuccess("上传成功"),f("uploaded")},U=e=>t.error(`上传失败: ${e.message}`);return(e,n)=>{const b=l("el-button"),g=l("el-upload");return k(),h(g,{action:o(x),"before-upload":o(m),data:o(a),"file-list":o(r),headers:o(I),limit:1,multiple:"","on-error":U,"on-success":_},{tip:s(()=>[D("span",j,[L(e.$slots,"default",{},void 0,!0)])]),default:s(()=>[A(b,{plain:"",type:"primary"},{default:s(()=>n[0]||(n[0]=[C("点击上传")])),_:1})]),_:3},8,["action","before-upload","data","file-list","headers"])}}}),w=$(F,[["__scopeId","data-v-b8f5cd23"]]);export{w as default};
