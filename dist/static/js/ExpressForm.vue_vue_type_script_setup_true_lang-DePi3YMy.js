/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as R,r as i,f as A,g as r,h as M,k as _,o as f,m as s,w as O,a as o,j as a,i as $,c as z,F as P,n as j,v as g,t as Y,y as G,_ as H,N as J,z as K}from"./index-BuFigy1A.js";import{_ as Q}from"./UploadImg-BnOMiRz9.js";import{c as W,D as X}from"./dict-Ve5yp9Dm.js";import{C as E}from"./constants-BPQb3nxh.js";import{a as Z,c as h,u as ee}from"./index-DuMVwixC.js";const ue=R({name:"ExpressForm",__name:"ExpressForm",emits:["success"],setup(oe,{expose:D,emit:U}){const{t:c}=J(),v=K(),n=i(!1),b=i(""),u=i(!1),V=i(""),t=i({id:void 0,code:"",name:"",logo:"",sort:0,status:E.ENABLE}),w=A({code:[{required:!0,message:"快递编码不能为空",trigger:"blur"}],name:[{required:!0,message:"分类名称不能为空",trigger:"blur"}],logo:[{required:!0,message:"分类图片不能为空",trigger:"blur"}],sort:[{required:!0,message:"分类排序不能为空",trigger:"blur"}],status:[{required:!0,message:"开启状态不能为空",trigger:"blur"}]}),d=i();D({open:async(p,e)=>{if(n.value=!0,b.value=c(`action.${p}`),V.value=p,F(),e){u.value=!0;try{t.value=await Z(e)}finally{u.value=!1}}}});const C=U,k=async()=>{if(!(!d||!await d.value.validate())){u.value=!0;try{const e=t.value;V.value==="create"?(await h(e),v.success(c("common.createSuccess"))):(await ee(e),v.success(c("common.updateSuccess"))),n.value=!1,C("success")}finally{u.value=!1}}},F=()=>{t.value={id:void 0,name:"",picUrl:"",bigPicUrl:"",status:E.ENABLE},d.value?.resetFields()};return(p,e)=>{const y=r("el-input"),m=r("el-form-item"),N=Q,T=r("el-input-number"),B=r("el-radio"),S=r("el-radio-group"),q=r("el-form"),x=r("el-button"),I=H,L=M("loading");return f(),_(I,{modelValue:o(n),"onUpdate:modelValue":e[6]||(e[6]=l=>G(n)?n.value=l:null),title:o(b)},{footer:s(()=>[a(x,{disabled:o(u),type:"primary",onClick:k},{default:s(()=>e[8]||(e[8]=[g("确 定")])),_:1},8,["disabled"]),a(x,{onClick:e[5]||(e[5]=l=>n.value=!1)},{default:s(()=>e[9]||(e[9]=[g("取 消")])),_:1})]),default:s(()=>[O((f(),_(q,{ref_key:"formRef",ref:d,"label-width":"120px",model:o(t),rules:o(w)},{default:s(()=>[a(m,{label:"公司编码",prop:"code"},{default:s(()=>[a(y,{modelValue:o(t).code,"onUpdate:modelValue":e[0]||(e[0]=l=>o(t).code=l),placeholder:"请输入快递编码"},null,8,["modelValue"])]),_:1}),a(m,{label:"公司名称",prop:"name"},{default:s(()=>[a(y,{modelValue:o(t).name,"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).name=l),placeholder:"请输入快递名称"},null,8,["modelValue"])]),_:1}),a(m,{label:"公司 logo",prop:"logo"},{default:s(()=>[a(N,{modelValue:o(t).logo,"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).logo=l),"is-show-tip":!1,limit:1},null,8,["modelValue"]),e[7]||(e[7]=$("div",{class:"pl-10px",style:{"font-size":"10px"}},"推荐 180x180 图片分辨率",-1))]),_:1}),a(m,{label:"排序",prop:"sort"},{default:s(()=>[a(T,{modelValue:o(t).sort,"onUpdate:modelValue":e[3]||(e[3]=l=>o(t).sort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),a(m,{label:"开启状态",prop:"status"},{default:s(()=>[a(S,{modelValue:o(t).status,"onUpdate:modelValue":e[4]||(e[4]=l=>o(t).status=l)},{default:s(()=>[(f(!0),z(P,null,j(o(W)(o(X).COMMON_STATUS),l=>(f(),_(B,{key:l.value,label:l.value},{default:s(()=>[g(Y(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[L,o(u)]])]),_:1},8,["modelValue","title"])}}});export{ue as _};
