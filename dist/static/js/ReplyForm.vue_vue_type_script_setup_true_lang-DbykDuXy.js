/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as N,r,f as B,g as d,h as I,k as p,o as c,m as s,w as U,a as t,j as i,bd as $,v,y as j,_ as q,z,N as E}from"./index-BuFigy1A.js";import{r as L}from"./comment-DV2arhGK.js";const A=N({name:"ProductComment",__name:"ReplyForm",emits:["success"],setup(M,{expose:_,emit:y}){const C=z(),{t:g}=E(),o=r(!1),a=r(!1),l=r({id:void 0,replyContent:void 0}),b=B({replyContent:[{required:!0,message:"回复内容不能为空",trigger:"blur"}]}),m=r();_({open:async u=>{k(),l.value.id=u,o.value=!0}});const V=y,x=async()=>{if(await m?.value?.validate()){a.value=!0;try{await L(l.value),C.success(g("common.createSuccess")),o.value=!1,V("success")}finally{a.value=!1}}},k=()=>{l.value={id:void 0,replyContent:void 0},m.value?.resetFields()};return(u,e)=>{const w=d("el-form-item"),R=d("el-form"),f=d("el-button"),D=q,F=I("loading");return c(),p(D,{modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=n=>j(o)?o.value=n:null),title:"回复"},{footer:s(()=>[i(f,{disabled:t(a),type:"primary",onClick:x},{default:s(()=>e[3]||(e[3]=[v("确 定")])),_:1},8,["disabled"]),i(f,{onClick:e[1]||(e[1]=n=>o.value=!1)},{default:s(()=>e[4]||(e[4]=[v("取 消")])),_:1})]),default:s(()=>[U((c(),p(R,{ref_key:"formRef",ref:m,"label-width":"100px",model:t(l),rules:t(b)},{default:s(()=>[i(w,{label:"回复内容",prop:"replyContent"},{default:s(()=>[i(t($),{modelValue:t(l).replyContent,"onUpdate:modelValue":e[0]||(e[0]=n=>t(l).replyContent=n),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[F,t(a)]])]),_:1},8,["modelValue"])}}});export{A as _};
