/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{_ as V}from"./XButton-BSRdyThe.js";import{a as v}from"./profile-CJLTnT1W.js";import{I as u}from"./InputPassword-CI-TQFG7.js";import{d as R,r as k,f as w,N as q,g as p,k as x,o as y,m as n,j as l,a as e,z as C}from"./index-BdC40rFX.js";const $=R({name:"ResetPwd",__name:"ResetPwd",setup(M){const{t:o}=q(),f=C(),m=k(),r=w({oldPassword:"",newPassword:"",confirmPassword:""}),P=(a,s,t)=>{r.newPassword!==s?t(new Error(o("profile.password.diffPwd"))):t()},g=w({oldPassword:[{required:!0,message:o("profile.password.oldPwdMsg"),trigger:"blur"},{min:6,max:20,message:o("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:o("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:o("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:o("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:P,trigger:"blur"}]}),c=a=>{a&&a.validate(async s=>{s&&(await v(r.oldPassword,r.newPassword),f.success(o("common.updateSuccess")))})},_=a=>{a&&a.resetFields()};return(a,s)=>{const t=p("el-form-item"),i=V,b=p("el-form");return y(),x(b,{ref_key:"formRef",ref:m,"label-width":200,model:e(r),rules:e(g)},{default:n(()=>[l(t,{label:e(o)("profile.password.oldPassword"),prop:"oldPassword"},{default:n(()=>[l(e(u),{modelValue:e(r).oldPassword,"onUpdate:modelValue":s[0]||(s[0]=d=>e(r).oldPassword=d)},null,8,["modelValue"])]),_:1},8,["label"]),l(t,{label:e(o)("profile.password.newPassword"),prop:"newPassword"},{default:n(()=>[l(e(u),{modelValue:e(r).newPassword,"onUpdate:modelValue":s[1]||(s[1]=d=>e(r).newPassword=d),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(t,{label:e(o)("profile.password.confirmPassword"),prop:"confirmPassword"},{default:n(()=>[l(e(u),{modelValue:e(r).confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=d=>e(r).confirmPassword=d),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(t,null,{default:n(()=>[l(i,{title:e(o)("common.save"),type:"primary",onClick:s[3]||(s[3]=d=>c(e(m)))},null,8,["title"]),l(i,{title:e(o)("common.reset"),type:"danger",onClick:s[4]||(s[4]=d=>_(e(m)))},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}});export{$ as _};
