/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{d as $,r,f as q,g as n,h as j,k as f,o as m,m as o,w as z,a as l,j as s,c as k,F as C,n as D,v as _,t as P,y as Y,_ as G,N as H,z as J}from"./index-lcC3l4R2.js";import{g as K,a as Q,c as X,u as Z}from"./index-DjsL6j8N.js";import{C as T}from"./constants-BPQb3nxh.js";import{c as h,D as ee}from"./dict-B7jb0IEc.js";const re=$({name:"SystemSensitiveWordForm",__name:"SensitiveWordForm",emits:["success"],setup(te,{expose:x,emit:E}){const{t:v}=H(),g=J(),i=r(!1),b=r(""),u=r(!1),V=r(""),a=r({id:void 0,name:"",status:T.ENABLE,description:"",tags:[]}),F=q({name:[{required:!0,message:"敏感词不能为空",trigger:"blur"}],tags:[{required:!0,message:"标签不能为空",trigger:"blur"}]}),d=r(),y=r([]);x({open:async(p,e)=>{if(i.value=!0,b.value=v(`action.${p}`),V.value=p,U(),e){u.value=!0;try{a.value=await K(e)}finally{u.value=!1}}y.value=await Q()}});const L=E,N=async()=>{if(!(!d||!await d.value.validate())){u.value=!0;try{const e=a.value;V.value==="create"?(await X(e),g.success(v("common.createSuccess"))):(await Z(e),g.success(v("common.updateSuccess"))),i.value=!1,L("success")}finally{u.value=!1}}},U=()=>{a.value={id:void 0,name:"",status:T.ENABLE,description:"",tags:[]},d.value?.resetFields()};return(p,e)=>{const S=n("el-input"),c=n("el-form-item"),W=n("el-radio"),B=n("el-radio-group"),R=n("el-option"),A=n("el-select"),I=n("el-form"),w=n("el-button"),M=G,O=j("loading");return m(),f(M,{modelValue:l(i),"onUpdate:modelValue":e[5]||(e[5]=t=>Y(i)?i.value=t:null),title:l(b)},{footer:o(()=>[s(w,{disabled:l(u),type:"primary",onClick:N},{default:o(()=>e[6]||(e[6]=[_("确 定")])),_:1},8,["disabled"]),s(w,{onClick:e[4]||(e[4]=t=>i.value=!1)},{default:o(()=>e[7]||(e[7]=[_("取 消")])),_:1})]),default:o(()=>[z((m(),f(I,{ref_key:"formRef",ref:d,"label-width":"80px",model:l(a),rules:l(F)},{default:o(()=>[s(c,{label:"敏感词",prop:"name"},{default:o(()=>[s(S,{modelValue:l(a).name,"onUpdate:modelValue":e[0]||(e[0]=t=>l(a).name=t),placeholder:"请输入敏感词"},null,8,["modelValue"])]),_:1}),s(c,{label:"状态",prop:"status"},{default:o(()=>[s(B,{modelValue:l(a).status,"onUpdate:modelValue":e[1]||(e[1]=t=>l(a).status=t)},{default:o(()=>[(m(!0),k(C,null,D(l(h)(l(ee).COMMON_STATUS),t=>(m(),f(W,{key:t.value,label:t.value},{default:o(()=>[_(P(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(c,{label:"备注",prop:"description"},{default:o(()=>[s(S,{modelValue:l(a).description,"onUpdate:modelValue":e[2]||(e[2]=t=>l(a).description=t),placeholder:"请输入内容"},null,8,["modelValue"])]),_:1}),s(c,{label:"标签",prop:"tags"},{default:o(()=>[s(A,{modelValue:l(a).tags,"onUpdate:modelValue":e[3]||(e[3]=t=>l(a).tags=t),"allow-create":"",filterable:"",multiple:"",placeholder:"请选择文章标签",style:{width:"380px"}},{default:o(()=>[(m(!0),k(C,null,D(l(y),t=>(m(),f(R,{key:t,label:t,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[O,l(u)]])]),_:1},8,["modelValue","title"])}}});export{re as _};
