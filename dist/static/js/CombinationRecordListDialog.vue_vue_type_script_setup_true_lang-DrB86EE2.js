/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 13:49:10 
 */
import{V as _,d as S,r as m,f as V,g as d,h as O,k as b,o as v,m as n,j as a,w as x,a as e,v as k,t as B,L as w,M as L,y as U,_ as $}from"./index-BW9ifGp0.js";import{_ as z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-58zNwBTb.js";import{_ as M}from"./DictTag.vue_vue_type_script_lang-CGh0XIVR.js";import{D as q}from"./dict-BcQRoIPV.js";const Y=async s=>await _.get({url:"/promotion/combination-record/page",params:s}),A=async s=>await _.get({url:"/promotion/combination-record/page-by-headId",params:s}),G=async()=>await _.get({url:"/promotion/combination-record/get-summary"}),J=S({name:"CombinationRecordListDialog",__name:"CombinationRecordListDialog",setup(s,{expose:y}){const p=m(!0),u=m(0),g=m([]),l=V({pageNo:1,pageSize:10,headId:void 0}),c=m(!1);y({open:async r=>{c.value=!0,l.headId=r,await f()}});const f=async()=>{p.value=!0;try{const r=await A(l);g.value=r.list,u.value=r.total}finally{p.value=!1}};return(r,i)=>{const o=d("el-table-column"),C=d("el-avatar"),h=d("el-tag"),I=M,D=d("el-table"),R=L,T=z,N=$,P=O("loading");return v(),b(N,{modelValue:e(c),"onUpdate:modelValue":i[2]||(i[2]=t=>U(c)?c.value=t:null),title:"拼团列表",width:"950"},{default:n(()=>[a(T,null,{default:n(()=>[x((v(),b(D,{data:e(g)},{default:n(()=>[a(o,{align:"center",label:"编号","min-width":"50",prop:"id"}),a(o,{align:"center",label:"头像","min-width":"80",prop:"avatar"},{default:n(t=>[a(C,{src:t.row.avatar},null,8,["src"])]),_:1}),a(o,{align:"center",label:"昵称","min-width":"100",prop:"nickname"}),a(o,{align:"center",label:"开团团长","min-width":"100",prop:"headId"},{default:n(({row:t})=>[a(h,null,{default:n(()=>[k(B(t.headId===0?"团长":"团员"),1)]),_:2},1024)]),_:1}),a(o,{align:"center",formatter:e(w),label:"参团时间",prop:"createTime",width:"180"},null,8,["formatter"]),a(o,{align:"center",formatter:e(w),label:"结束时间",prop:"endTime",width:"180"},null,8,["formatter"]),a(o,{align:"center",label:"拼团状态","min-width":"150",prop:"status"},{default:n(t=>[a(I,{type:e(q).PROMOTION_COMBINATION_RECORD_STATUS,value:t.row.status},null,8,["type","value"])]),_:1})]),_:1},8,["data"])),[[P,e(p)]]),a(R,{limit:e(l).pageSize,"onUpdate:limit":i[0]||(i[0]=t=>e(l).pageSize=t),page:e(l).pageNo,"onUpdate:page":i[1]||(i[1]=t=>e(l).pageNo=t),total:e(u),onPagination:f},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{J as _,G as a,Y as g};
