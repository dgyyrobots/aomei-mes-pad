/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{d as H,r as d,f as Q,b as j,g as r,h as N,c as k,o as s,j as t,m as o,a as l,J,F as S,n as W,k as c,w as g,v as _,K as G,l as X,L as Z,M as h,z as ee,N as te}from"./index-FPuwcz_Y.js";import{_ as ae}from"./DictTag.vue_vue_type_script_lang-o_bnFpkw.js";import{_ as le}from"./ContentWrap.vue_vue_type_script_setup_true_lang-32ziCa0j.js";import{_ as oe}from"./BrandForm.vue_vue_type_script_setup_true_lang-C9rwvCvZ.js";import{b as ne,d as re}from"./brand-pNoIpl3p.js";import{c as se,D as P}from"./dict-C9lD-gwA.js";import"./color-B5phLuB-.js";import"./UploadImg-4wNAuvFS.js";import"./index-DEp92naw.js";import"./constants-BPQb3nxh.js";const ie=["src"],we=H({name:"ProductBrand",__name:"index",setup(me){const C=ee(),{t:$}=te(),b=d(!0),x=d(0),T=d([]),n=Q({pageNo:1,pageSize:10,name:void 0,status:void 0,createTime:[]}),V=d(),p=async()=>{b.value=!0;try{const i=await ne(n);T.value=i.list,x.value=i.total}finally{b.value=!1}},v=()=>{p()},F=()=>{V.value.resetFields(),v()},D=d(),U=(i,e)=>{D.value.open(i,e)},B=async i=>{try{await C.delConfirm(),await re(i),C.success($("common.delSuccess")),await p()}catch(e){console.log(e)}};return j(()=>{p()}),(i,e)=>{const O=r("el-input"),f=r("el-form-item"),Y=r("el-option"),z=r("el-select"),I=r("el-date-picker"),y=G,u=r("el-button"),R=r("el-form"),M=le,m=r("el-table-column"),q=ae,K=r("el-table"),L=h,w=N("hasPermi"),A=N("loading");return s(),k(S,null,[t(M,null,{default:o(()=>[t(R,{ref_key:"queryFormRef",ref:V,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(n)},{default:o(()=>[t(f,{label:"品牌名称",prop:"name"},{default:o(()=>[t(O,{modelValue:l(n).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(n).name=a),class:"!w-240px",clearable:"",placeholder:"请输入品牌名称",onKeyup:J(v,["enter"])},null,8,["modelValue"])]),_:1}),t(f,{label:"状态",prop:"status"},{default:o(()=>[t(z,{modelValue:l(n).status,"onUpdate:modelValue":e[1]||(e[1]=a=>l(n).status=a),class:"!w-240px",clearable:"",placeholder:"请选择状态"},{default:o(()=>[(s(!0),k(S,null,W(l(se)(l(P).COMMON_STATUS),a=>(s(),c(Y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"创建时间",prop:"createTime"},{default:o(()=>[t(I,{modelValue:l(n).createTime,"onUpdate:modelValue":e[2]||(e[2]=a=>l(n).createTime=a),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(f,null,{default:o(()=>[t(u,{onClick:v},{default:o(()=>[t(y,{class:"mr-5px",icon:"ep:search"}),e[6]||(e[6]=_(" 搜索 "))]),_:1}),t(u,{onClick:F},{default:o(()=>[t(y,{class:"mr-5px",icon:"ep:refresh"}),e[7]||(e[7]=_(" 重置 "))]),_:1}),g((s(),c(u,{plain:"",type:"primary",onClick:e[3]||(e[3]=a=>U("create"))},{default:o(()=>[t(y,{class:"mr-5px",icon:"ep:plus"}),e[8]||(e[8]=_(" 新增 "))]),_:1})),[[w,["product:brand:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(M,null,{default:o(()=>[g((s(),c(K,{data:l(T),"default-expand-all":"","row-key":"id"},{default:o(()=>[t(m,{label:"品牌名称",prop:"name",sortable:""}),t(m,{align:"center",label:"品牌图片",prop:"picUrl"},{default:o(a=>[a.row.picUrl?(s(),k("img",{key:0,alt:"品牌图片",class:"h-30px",src:a.row.picUrl},null,8,ie)):X("",!0)]),_:1}),t(m,{align:"center",label:"品牌排序",prop:"sort"}),t(m,{align:"center",label:"开启状态",prop:"status"},{default:o(a=>[t(q,{type:l(P).COMMON_STATUS,value:a.row.status},null,8,["type","value"])]),_:1}),t(m,{align:"center",formatter:l(Z),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),t(m,{align:"center",label:"操作"},{default:o(a=>[g((s(),c(u,{link:"",type:"primary",onClick:E=>U("update",a.row.id)},{default:o(()=>e[9]||(e[9]=[_("编辑")])),_:2},1032,["onClick"])),[[w,["product:brand:update"]]]),g((s(),c(u,{link:"",type:"danger",onClick:E=>B(a.row.id)},{default:o(()=>e[10]||(e[10]=[_("删除")])),_:2},1032,["onClick"])),[[w,["product:brand:delete"]]])]),_:1})]),_:1},8,["data"])),[[A,l(b)]]),t(L,{limit:l(n).pageSize,"onUpdate:limit":e[4]||(e[4]=a=>l(n).pageSize=a),page:l(n).pageNo,"onUpdate:page":e[5]||(e[5]=a=>l(n).pageNo=a),total:l(x),onPagination:p},null,8,["limit","page","total"])]),_:1}),t(oe,{ref_key:"formRef",ref:D,onSuccess:p},null,512)],64)}}});export{we as default};
