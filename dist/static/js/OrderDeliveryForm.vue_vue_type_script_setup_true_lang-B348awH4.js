/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 15:23:48 
 */
import{d as S,r as u,b as $,g as n,h as j,k as _,o as m,m as o,w as z,a as s,j as t,c as V,l as q,y as x,v as c,F as k,n as A,_ as G,c1 as H,z as J,N as K}from"./index-C8VsLzxx.js";import{g as P}from"./index-DdHMl-aC.js";import{d as Q}from"./index-DqPrdxal.js";const ee=S({name:"OrderDeliveryForm",__name:"OrderDeliveryForm",emits:["success"],setup(W,{expose:N,emit:w}){const{t:D}=K(),F=J(),r=u(!1),p=u(!1),d=u("express"),a=u({id:0,logisticsId:null,logisticsNo:""}),v=u();N({open:async i=>{L(),H(a.value,i),i.logisticsId===0&&(d.value="none"),r.value=!0}});const I=w,C=async()=>{p.value=!0;try{const i=s(a);d.value==="none"&&(i.logisticsId=0,i.logisticsNo=""),await Q(i),F.success(D("common.updateSuccess")),r.value=!1,I("success",!0)}finally{p.value=!1}},L=()=>{a.value={id:0,logisticsId:null,logisticsNo:""},v.value?.resetFields()},g=u([]);return $(async()=>{g.value=await P()}),(i,e)=>{const y=n("el-radio"),T=n("el-radio-group"),f=n("el-form-item"),U=n("el-option"),B=n("el-select"),E=n("el-input"),O=n("el-form"),b=n("el-button"),R=G,M=j("loading");return m(),_(R,{modelValue:s(r),"onUpdate:modelValue":e[4]||(e[4]=l=>x(r)?r.value=l:null),title:"订单发货",width:"25%"},{footer:o(()=>[t(b,{disabled:s(p),type:"primary",onClick:C},{default:o(()=>e[7]||(e[7]=[c("确 定")])),_:1},8,["disabled"]),t(b,{onClick:e[3]||(e[3]=l=>r.value=!1)},{default:o(()=>e[8]||(e[8]=[c("取 消")])),_:1})]),default:o(()=>[z((m(),_(O,{ref_key:"formRef",ref:v,"label-width":"80px",model:s(a)},{default:o(()=>[t(f,{label:"发货方式"},{default:o(()=>[t(T,{modelValue:s(d),"onUpdate:modelValue":e[0]||(e[0]=l=>x(d)?d.value=l:null)},{default:o(()=>[t(y,{border:"",label:"express"},{default:o(()=>e[5]||(e[5]=[c("快递物流")])),_:1}),t(y,{border:"",label:"none"},{default:o(()=>e[6]||(e[6]=[c("无需发货")])),_:1})]),_:1},8,["modelValue"])]),_:1}),s(d)==="express"?(m(),V(k,{key:0},[t(f,{label:"物流公司"},{default:o(()=>[t(B,{modelValue:s(a).logisticsId,"onUpdate:modelValue":e[1]||(e[1]=l=>s(a).logisticsId=l),placeholder:"请选择",style:{width:"100%"}},{default:o(()=>[(m(!0),V(k,null,A(s(g),l=>(m(),_(U,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"物流单号"},{default:o(()=>[t(E,{modelValue:s(a).logisticsNo,"onUpdate:modelValue":e[2]||(e[2]=l=>s(a).logisticsNo=l)},null,8,["modelValue"])]),_:1})],64)):q("",!0)]),_:1},8,["model"])),[[M,s(p)]])]),_:1},8,["modelValue"])}}});export{ee as _};
