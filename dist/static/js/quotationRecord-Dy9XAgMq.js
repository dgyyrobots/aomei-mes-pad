/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:52:22 
 */
import{_ as q}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DPMk4m5L.js";import{d as A,r as i,O as L,f as O,b as z,g as p,h as T,c as F,o as u,i as H,j as e,m as n,v as m,K as U,w as h,k as N,a,t as V,L as P,M as Q,A as j}from"./index-DMg0mq0e.js";import{_ as G}from"./DictTag.vue_vue_type_script_lang-sQcOd7JH.js";import{D as f}from"./dict-BEquckDR.js";import{g as K}from"./index-1VLACd8q.js";import{_ as W}from"./NotifyMessageDetail.vue_vue_type_script_setup_true_lang-DeEkhke2.js";import"./color-B5phLuB-.js";const J={class:"content"},X={class:"top"},Z=A({name:"SystemNotifyMessage",__name:"quotationRecord",setup(ee){const c=i(!0),g=i(0),v=i([]),C=i(window.innerHeight),S=L(()=>C.value-260),r=O({pageNo:1,pageSize:10,userType:void 0,userId:void 0,templateCode:void 0,templateType:void 0,createTime:[]});i();const d=async()=>{c.value=!0;try{const s=await K(r);v.value=s.list,g.value=s.total}finally{c.value=!1}},k=()=>{r.pageNo=1,d()},E=()=>{k()},y=i(),I=s=>{y.value.open(s)};return z(()=>{d()}),(s,o)=>{const b=p("el-breadcrumb-item"),x=p("el-breadcrumb"),R=U,w=p("el-button"),l=p("el-table-column"),_=G,D=p("el-table"),M=Q,$=q,B=T("hasPermi"),Y=T("loading");return u(),F("div",J,[H("div",X,[e(x,{separator:"/"},{default:n(()=>[e(b,null,{default:n(()=>o[2]||(o[2]=[m("报警")])),_:1}),e(b,null,{default:n(()=>o[3]||(o[3]=[m("报警记录")])),_:1})]),_:1}),e(w,{onClick:E,type:"primary"},{default:n(()=>[e(R,{icon:"ep:refresh",class:"mr-5px"}),o[4]||(o[4]=m(" 刷新"))]),_:1})]),e($,null,{default:n(()=>[h((u(),N(D,{data:a(v),height:a(S)},{default:n(()=>[e(l,{label:"编号",align:"center",prop:"id"}),e(l,{label:"用户类型",align:"center",prop:"userType"},{default:n(t=>[e(_,{type:a(f).USER_TYPE,value:t.row.userType},null,8,["type","value"])]),_:1}),e(l,{label:"用户编号",align:"center",prop:"userId",width:"80"}),e(l,{label:"模板编码",align:"center",prop:"templateCode",width:"80"}),e(l,{label:"发送人名称",align:"center",prop:"templateNickname",width:"180"}),e(l,{label:"模版内容",align:"center",prop:"templateContent",width:"200","show-overflow-tooltip":""}),e(l,{label:"模版参数",align:"center",prop:"templateParams",width:"180","show-overflow-tooltip":""},{default:n(t=>[m(V(t.row.templateParams),1)]),_:1}),e(l,{label:"模版类型",align:"center",prop:"templateType",width:"120"},{default:n(t=>[e(_,{type:a(f).SYSTEM_NOTIFY_TEMPLATE_TYPE,value:t.row.templateType},null,8,["type","value"])]),_:1}),e(l,{label:"是否已读",align:"center",prop:"readStatus",width:"100"},{default:n(t=>[e(_,{type:a(f).INFRA_BOOLEAN_STRING,value:t.row.readStatus},null,8,["type","value"])]),_:1}),e(l,{label:"阅读时间",align:"center",prop:"readTime",width:"180",formatter:a(P)},null,8,["formatter"]),e(l,{label:"创建时间",align:"center",prop:"createTime",width:"180",formatter:a(P)},null,8,["formatter"]),e(l,{label:"操作",align:"center",fixed:"right"},{default:n(t=>[h((u(),N(w,{link:"",type:"primary",onClick:te=>I(t.row)},{default:n(()=>o[5]||(o[5]=[m(" 详情 ")])),_:2},1032,["onClick"])),[[B,["system:notify-message:query"]]])]),_:1})]),_:1},8,["data","height"])),[[Y,a(c)]]),e(M,{total:a(g),page:a(r).pageNo,"onUpdate:page":o[0]||(o[0]=t=>a(r).pageNo=t),limit:a(r).pageSize,"onUpdate:limit":o[1]||(o[1]=t=>a(r).pageSize=t),onPagination:d},null,8,["total","page","limit"])]),_:1}),e(W,{ref_key:"detailRef",ref:y},null,512)])}}}),pe=j(Z,[["__scopeId","data-v-8526d0ce"]]);export{pe as default};
