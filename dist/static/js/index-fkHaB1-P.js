/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 14:15:15 
 */
import{_ as F}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dg75KKir.js";import{_ as K}from"./DictTag.vue_vue_type_script_lang-h3s-iN69.js";import{c as M,D as O}from"./dict-CqgorI4d.js";import{_ as U,g as V}from"./TaskAssignRuleForm.vue_vue_type_script_setup_true_lang-amTptY2E.js";import{g as q}from"./index-DB7dbScc.js";import{g as Y}from"./index-6pMG05oy.js";import{g as j}from"./index-bstNN1Gp.js";import{g as H}from"./index-D-YMOJxy.js";import{g as W}from"./index-BnZSoKEI.js";import{d as z,H as J,r as o,f as Q,b as X,g as l,h as I,c as y,o as i,j as n,m as s,w as C,k as c,a as m,l as Z,F as L,n as ee,v as P,t as te}from"./index-D3eRVKjp.js";import"./color-B5phLuB-.js";import"./tree-vSlcEeQq.js";const de=z({name:"BpmTaskAssignRule",__name:"index",setup(ae){const{query:_}=J(),u=o(!0),d=o([]),f=Q({modelId:_.modelId,processDefinitionId:_.processDefinitionId}),g=o([]),v=o([]),k=o([]),S=o([]),b=o([]),R=M(O.BPM_TASK_ASSIGN_SCRIPT),w=async()=>{u.value=!0;try{d.value=await V(f)}finally{u.value=!1}},T=(t,a)=>{if(t===10){for(const e of g.value)if(e.id===a)return e.name}else if(t===20||t===21){for(const e of v.value)if(e.id===a)return e.name}else if(t===22){for(const e of k.value)if(e.id===a)return e.name}else if(t===30||t===31||t===32){for(const e of S.value)if(e.id===a)return e.nickname}else if(t===40){for(const e of b.value)if(e.id===a)return e.name}else if(t===50){a=`${a}`;for(const e of R)if(e.value===a)return e.label}return`未知(${a})`},D=o(),A=t=>{D.value.open(f.modelId,t)};return X(async()=>{await w(),g.value=await q(),v.value=await Y(),k.value=await j(),S.value=await H(),b.value=await W()}),(t,a)=>{const e=l("el-table-column"),N=K,x=l("el-tag"),B=l("el-button"),$=l("el-table"),G=F,h=I("hasPermi"),E=I("loading");return i(),y(L,null,[n(G,null,{default:s(()=>[C((i(),c($,{data:m(d)},{default:s(()=>[n(e,{align:"center",label:"任务名",prop:"taskDefinitionName"}),n(e,{align:"center",label:"任务标识",prop:"taskDefinitionKey"}),n(e,{align:"center",label:"规则类型",prop:"type"},{default:s(r=>[n(N,{type:m(O).BPM_TASK_ASSIGN_RULE_TYPE,value:r.row.type},null,8,["type","value"])]),_:1}),n(e,{align:"center",label:"规则范围",prop:"options"},{default:s(r=>[(i(!0),y(L,null,ee(r.row.options,p=>(i(),c(x,{key:p,class:"mr-5px"},{default:s(()=>[P(te(T(r.row.type,p)),1)]),_:2},1024))),128))]),_:1}),m(f).modelId?(i(),c(e,{key:0,align:"center",label:"操作"},{default:s(r=>[C((i(),c(B,{link:"",type:"primary",onClick:p=>A(r.row)},{default:s(()=>a[0]||(a[0]=[P("修改")])),_:2},1032,["onClick"])),[[h,["bpm:task-assign-rule:update"]]])]),_:1})):Z("",!0)]),_:1},8,["data"])),[[E,m(u)]])]),_:1}),n(U,{ref_key:"formRef",ref:D,onSuccess:w},null,512)],64)}}});export{de as default};
