/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 13:49:10 
 */
import{d as W,r as u,f as h,b as A,g as s,h as $,c as F,o as i,j as t,m as a,a as l,J as G,F as M,n as Z,k as d,w as _,v as c,K as ee,L as N,M as te,z as le,N as oe}from"./index-BW9ifGp0.js";import{_ as ae}from"./DictTag.vue_vue_type_script_lang-CGh0XIVR.js";import{_ as ne}from"./ContentWrap.vue_vue_type_script_setup_true_lang-58zNwBTb.js";import{_ as re}from"./index-hVfLpCoZ.js";import{_ as se}from"./Demo03StudentForm.vue_vue_type_script_setup_true_lang-BFeUs2w8.js";import{d as ie,e as pe,f as me}from"./index-DxuJxww3.js";import{c as ue,D as P}from"./dict-BcQRoIPV.js";import{d as de}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./style.css_vue_type_style_index_0_src_true_lang-CKaVdbrx.js";import"./locale-DQlBbuSC.js";import"./Demo03CourseForm.vue_vue_type_script_setup_true_lang-cCAfhsrF.js";import"./Demo03GradeForm.vue_vue_type_script_setup_true_lang-CVsLRB82.js";const Te=W({name:"Demo03Student",__name:"index",setup(ce){const v=le(),{t:U}=oe(),b=u(!0),S=u([]),C=u(0),n=h({pageNo:1,pageSize:10,name:null,sex:null,description:null,createTime:[]}),D=u(),w=u(!1),f=async()=>{b.value=!0;try{const r=await ie(n);S.value=r.list,C.value=r.total}finally{b.value=!1}},k=()=>{n.pageNo=1,f()},Y=()=>{D.value.resetFields(),k()},V=u(),T=(r,e)=>{V.value.open(r,e)},R=async r=>{try{await v.delConfirm(),await pe(r),v.success(U("common.delSuccess")),await f()}catch(e){console.log(e)}},z=async()=>{try{await v.exportConfirm(),w.value=!0;const r=await me(n);de.excel(r,"学生.xls")}catch(r){console.log(r)}finally{w.value=!1}};return A(()=>{f()}),(r,e)=>{const I=re,L=s("el-input"),g=s("el-form-item"),q=s("el-option"),B=s("el-select"),K=s("el-date-picker"),x=ee,m=s("el-button"),H=s("el-form"),E=ne,p=s("el-table-column"),Q=ae,X=s("el-table"),j=te,y=$("hasPermi"),J=$("loading");return i(),F(M,null,[t(I,{title:"代码生成（主子表）",url:"https://doc.iocoder.cn/new-feature/master-sub/"}),t(E,null,{default:a(()=>[t(H,{ref_key:"queryFormRef",ref:D,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(n)},{default:a(()=>[t(g,{label:"名字",prop:"name"},{default:a(()=>[t(L,{modelValue:l(n).name,"onUpdate:modelValue":e[0]||(e[0]=o=>l(n).name=o),class:"!w-240px",clearable:"",placeholder:"请输入名字",onKeyup:G(k,["enter"])},null,8,["modelValue"])]),_:1}),t(g,{label:"性别",prop:"sex"},{default:a(()=>[t(B,{modelValue:l(n).sex,"onUpdate:modelValue":e[1]||(e[1]=o=>l(n).sex=o),class:"!w-240px",clearable:"",placeholder:"请选择性别"},{default:a(()=>[(i(!0),F(M,null,Z(l(ue)(l(P).SYSTEM_USER_SEX),o=>(i(),d(q,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"创建时间",prop:"createTime"},{default:a(()=>[t(K,{modelValue:l(n).createTime,"onUpdate:modelValue":e[2]||(e[2]=o=>l(n).createTime=o),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(g,null,{default:a(()=>[t(m,{onClick:k},{default:a(()=>[t(x,{class:"mr-5px",icon:"ep:search"}),e[6]||(e[6]=c(" 搜索 "))]),_:1}),t(m,{onClick:Y},{default:a(()=>[t(x,{class:"mr-5px",icon:"ep:refresh"}),e[7]||(e[7]=c(" 重置 "))]),_:1}),_((i(),d(m,{plain:"",type:"primary",onClick:e[3]||(e[3]=o=>T("create"))},{default:a(()=>[t(x,{class:"mr-5px",icon:"ep:plus"}),e[8]||(e[8]=c(" 新增 "))]),_:1})),[[y,["infra:demo03-student:create"]]]),_((i(),d(m,{loading:l(w),plain:"",type:"success",onClick:z},{default:a(()=>[t(x,{class:"mr-5px",icon:"ep:download"}),e[9]||(e[9]=c(" 导出 "))]),_:1},8,["loading"])),[[y,["infra:demo03-student:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(E,null,{default:a(()=>[_((i(),d(X,{data:l(S),"show-overflow-tooltip":!0,stripe:!0},{default:a(()=>[t(p,{align:"center",label:"编号",prop:"id"}),t(p,{align:"center",label:"名字",prop:"name"}),t(p,{align:"center",label:"性别",prop:"sex"},{default:a(o=>[t(Q,{type:l(P).SYSTEM_USER_SEX,value:o.row.sex},null,8,["type","value"])]),_:1}),t(p,{align:"center",formatter:l(N),label:"出生日期",prop:"birthday",width:"180px"},null,8,["formatter"]),t(p,{align:"center",label:"简介",prop:"description"}),t(p,{align:"center",formatter:l(N),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),t(p,{align:"center",label:"操作"},{default:a(o=>[_((i(),d(m,{link:"",type:"primary",onClick:O=>T("update",o.row.id)},{default:a(()=>e[10]||(e[10]=[c(" 编辑 ")])),_:2},1032,["onClick"])),[[y,["infra:demo03-student:update"]]]),_((i(),d(m,{link:"",type:"danger",onClick:O=>R(o.row.id)},{default:a(()=>e[11]||(e[11]=[c("删除")])),_:2},1032,["onClick"])),[[y,["infra:demo03-student:delete"]]])]),_:1})]),_:1},8,["data"])),[[J,l(b)]]),t(j,{limit:l(n).pageSize,"onUpdate:limit":e[4]||(e[4]=o=>l(n).pageSize=o),page:l(n).pageNo,"onUpdate:page":e[5]||(e[5]=o=>l(n).pageNo=o),total:l(C),onPagination:f},null,8,["limit","page","total"])]),_:1}),t(se,{ref_key:"formRef",ref:V,onSuccess:f},null,512)],64)}}});export{Te as default};
