/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:21:26 
 */
import{V as k,d as C,r as i,f as F,g as m,h as L,k as f,o as v,m as p,j as a,w as R,a as e,L as q,M as z,y as I,_ as S}from"./index-5TqN_QR1.js";import{_ as U}from"./ContentWrap.vue_vue_type_script_setup_true_lang-fpmIiri3.js";import{f as $}from"./formatter-CPCKR4oB.js";const Q=async u=>await k.get({url:"/promotion/bargain-help/page",params:u}),W=C({name:"BargainRecordListDialog",__name:"BargainRecordListDialog",setup(u,{expose:w}){const c=i(!0),d=i(0),_=i([]),t=F({pageNo:1,pageSize:10,recordId:void 0}),b=i(),s=i(!1);w({open:async l=>{s.value=!0,t.recordId=l,x()}});const g=async()=>{c.value=!0;try{const l=await Q(t);_.value=l.list,d.value=l.total}finally{c.value=!1}},y=()=>{t.pageNo=1,g()},x=()=>{b.value?.resetFields(),y()};return(l,n)=>{const r=m("el-table-column"),h=m("el-avatar"),V=m("el-table"),B=z,D=U,N=S,P=L("loading");return v(),f(N,{modelValue:e(s),"onUpdate:modelValue":n[2]||(n[2]=o=>I(s)?s.value=o:null),title:"助力列表"},{default:p(()=>[a(D,null,{default:p(()=>[R((v(),f(V,{data:e(_),"show-overflow-tooltip":!0,stripe:!0},{default:p(()=>[a(r,{label:"用户编号","min-width":"80px",prop:"userId"}),a(r,{label:"用户头像","min-width":"80px",prop:"avatar"},{default:p(o=>[a(h,{src:o.row.avatar},null,8,["src"])]),_:1}),a(r,{label:"用户昵称","min-width":"100px",prop:"nickname"}),a(r,{formatter:e($),label:"砍价金额","min-width":"100px",prop:"reducePrice"},null,8,["formatter"]),a(r,{align:"center",formatter:e(q),label:"助力时间",prop:"createTime",width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[P,e(c)]]),a(B,{limit:e(t).pageSize,"onUpdate:limit":n[0]||(n[0]=o=>e(t).pageSize=o),page:e(t).pageNo,"onUpdate:page":n[1]||(n[1]=o=>e(t).pageNo=o),total:e(d),onPagination:g},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{W as _};
