/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{d as N,r as m,f as T,g as p,h as $,k as g,o as b,m as t,w as q,a,j as r,v as k,y as B,_ as S,N as j,z}from"./index-D3S9e4gi.js";import{f as L,c as M,u as A}from"./property-emTLOL-O.js";const K=N({name:"ProductPropertyValueForm",__name:"ValueForm",emits:["success"],setup(E,{expose:w,emit:x}){const{t:f}=j(),v=z(),s=m(!1),_=m(""),n=m(!1),y=m(""),o=m({id:void 0,propertyId:void 0,name:"",remark:""}),I=T({propertyId:[{required:!0,message:"属性不能为空",trigger:"blur"}],name:[{required:!0,message:"名称不能为空",trigger:"blur"}]}),d=m();w({open:async(i,e,u)=>{if(s.value=!0,_.value=f(`action.${i}`),y.value=i,P(),o.value.propertyId=e,u){n.value=!0;try{o.value=await L(u)}finally{n.value=!1}}}});const C=x,F=async()=>{if(!(!d||!await d.value.validate())){n.value=!0;try{const e=o.value;y.value==="create"?(await M(e),v.success(f("common.createSuccess"))):(await A(e),v.success(f("common.updateSuccess"))),s.value=!1,C("success")}finally{n.value=!1}}},P=()=>{o.value={id:void 0,propertyId:void 0,name:"",remark:""},d.value?.resetFields()};return(i,e)=>{const u=p("el-input"),c=p("el-form-item"),D=p("el-form"),V=p("el-button"),R=S,U=$("loading");return b(),g(R,{modelValue:a(s),"onUpdate:modelValue":e[4]||(e[4]=l=>B(s)?s.value=l:null),title:a(_)},{footer:t(()=>[r(V,{disabled:a(n),type:"primary",onClick:F},{default:t(()=>e[5]||(e[5]=[k("确 定")])),_:1},8,["disabled"]),r(V,{onClick:e[3]||(e[3]=l=>s.value=!1)},{default:t(()=>e[6]||(e[6]=[k("取 消")])),_:1})]),default:t(()=>[q((b(),g(D,{ref_key:"formRef",ref:d,"label-width":"80px",model:a(o),rules:a(I)},{default:t(()=>[r(c,{label:"属性编号",prop:"category"},{default:t(()=>[r(u,{modelValue:a(o).propertyId,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).propertyId=l),disabled:""},null,8,["modelValue"])]),_:1}),r(c,{label:"名称",prop:"name"},{default:t(()=>[r(u,{modelValue:a(o).name,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).name=l),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),r(c,{label:"备注",prop:"remark"},{default:t(()=>[r(u,{modelValue:a(o).remark,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).remark=l),placeholder:"请输入内容",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[U,a(n)]])]),_:1},8,["modelValue","title"])}}});export{K as _};
