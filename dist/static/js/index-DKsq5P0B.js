/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{d as G,H as W,r as c,f as X,b as Z,g as p,h as P,c as C,o as i,j as e,m as o,a,F as T,n as O,k as u,J as h,w as _,v as d,K as ee,L as te,M as le,a9 as ae,z as oe,aa as ne,N as se,ab as re}from"./index-BdmDrM2Y.js";import{_ as ie}from"./DictTag.vue_vue_type_script_lang-bjcRCBWf.js";import{_ as pe}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CIA3YA7G.js";import{_ as ce}from"./DictDataForm.vue_vue_type_script_setup_true_lang-CwKFEkQY.js";import{g as ue}from"./dict.type-D9Lzi9Ku.js";import{c as me,D as R}from"./dict-Cm-9nniQ.js";import{d as de}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./constants-BPQb3nxh.js";const Te=G({name:"SystemDictData",__name:"index",setup(fe){const v=oe(),{t:z}=se(),q=W(),w=c(!0),D=c(0),S=c([]),n=X({pageNo:1,pageSize:10,label:"",status:void 0,dictType:q.params.dictType}),V=c(),x=c(!1),N=c(),f=async()=>{w.value=!0;try{const s=await ae(n);S.value=s.list,D.value=s.total}finally{w.value=!1}},k=()=>{n.pageNo=1,f()},B=()=>{V.value.resetFields(),k()},$=c(),F=(s,t)=>{$.value.open(s,t,n.dictType)},E=async s=>{try{await v.delConfirm(),await ne(s),v.success(z("common.delSuccess")),await f()}catch(t){console.log(t)}},I=async()=>{try{await v.exportConfirm(),x.value=!0;const s=await re(n);de.excel(s,"字典数据.xls")}catch(s){console.log(s)}finally{x.value=!1}};return Z(async()=>{await f(),N.value=await ue()}),(s,t)=>{const M=p("el-option"),U=p("el-select"),y=p("el-form-item"),K=p("el-input"),g=ee,m=p("el-button"),A=p("el-form"),L=pe,r=p("el-table-column"),Q=ie,j=p("el-table"),H=le,b=P("hasPermi"),J=P("loading");return i(),C(T,null,[e(L,null,{default:o(()=>[e(A,{ref_key:"queryFormRef",ref:V,class:"-mb-15px",inline:!0,"label-width":"68px",model:a(n)},{default:o(()=>[e(y,{label:"字典名称",prop:"dictType"},{default:o(()=>[e(U,{modelValue:a(n).dictType,"onUpdate:modelValue":t[0]||(t[0]=l=>a(n).dictType=l),class:"!w-240px"},{default:o(()=>[(i(!0),C(T,null,O(a(N),l=>(i(),u(M,{key:l.type,label:l.name,value:l.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"字典标签",prop:"label"},{default:o(()=>[e(K,{modelValue:a(n).label,"onUpdate:modelValue":t[1]||(t[1]=l=>a(n).label=l),class:"!w-240px",clearable:"",placeholder:"请输入字典标签",onKeyup:h(k,["enter"])},null,8,["modelValue"])]),_:1}),e(y,{label:"状态",prop:"status"},{default:o(()=>[e(U,{modelValue:a(n).status,"onUpdate:modelValue":t[2]||(t[2]=l=>a(n).status=l),class:"!w-240px",clearable:"",placeholder:"数据状态"},{default:o(()=>[(i(!0),C(T,null,O(a(me)(a(R).COMMON_STATUS),l=>(i(),u(M,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(y,null,{default:o(()=>[e(m,{onClick:k},{default:o(()=>[e(g,{class:"mr-5px",icon:"ep:search"}),t[6]||(t[6]=d(" 搜索 "))]),_:1}),e(m,{onClick:B},{default:o(()=>[e(g,{class:"mr-5px",icon:"ep:refresh"}),t[7]||(t[7]=d(" 重置 "))]),_:1}),_((i(),u(m,{plain:"",type:"primary",onClick:t[3]||(t[3]=l=>F("create"))},{default:o(()=>[e(g,{class:"mr-5px",icon:"ep:plus"}),t[8]||(t[8]=d(" 新增 "))]),_:1})),[[b,["system:dict:create"]]]),_((i(),u(m,{loading:a(x),plain:"",type:"success",onClick:I},{default:o(()=>[e(g,{class:"mr-5px",icon:"ep:download"}),t[9]||(t[9]=d(" 导出 "))]),_:1},8,["loading"])),[[b,["system:dict:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(L,null,{default:o(()=>[_((i(),u(j,{data:a(S)},{default:o(()=>[e(r,{align:"center",label:"字典编码",prop:"id"}),e(r,{align:"center",label:"字典标签",prop:"label"}),e(r,{align:"center",label:"字典键值",prop:"value"}),e(r,{align:"center",label:"字典排序",prop:"sort"}),e(r,{align:"center",label:"状态",prop:"status"},{default:o(l=>[e(Q,{type:a(R).COMMON_STATUS,value:l.row.status},null,8,["type","value"])]),_:1}),e(r,{align:"center",label:"颜色类型",prop:"colorType"}),e(r,{align:"center",label:"CSS Class",prop:"cssClass"}),e(r,{align:"center",label:"备注",prop:"remark","show-overflow-tooltip":""}),e(r,{align:"center",formatter:a(te),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),e(r,{align:"center",label:"操作"},{default:o(l=>[_((i(),u(m,{link:"",type:"primary",onClick:Y=>F("update",l.row.id)},{default:o(()=>t[10]||(t[10]=[d("修改")])),_:2},1032,["onClick"])),[[b,["system:dict:update"]]]),_((i(),u(m,{link:"",type:"danger",onClick:Y=>E(l.row.id)},{default:o(()=>t[11]||(t[11]=[d("删除")])),_:2},1032,["onClick"])),[[b,["system:dict:delete"]]])]),_:1})]),_:1},8,["data"])),[[J,a(w)]]),e(H,{limit:a(n).pageSize,"onUpdate:limit":t[4]||(t[4]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":t[5]||(t[5]=l=>a(n).pageNo=l),total:a(D),onPagination:f},null,8,["limit","page","total"])]),_:1}),e(ce,{ref_key:"formRef",ref:$,onSuccess:f},null,512)],64)}}});export{Te as default};
