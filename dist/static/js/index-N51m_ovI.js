/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as Z,r as p,f as ee,b as te,g as s,h as M,c as N,o as i,j as e,m as o,a as l,J as le,F as P,n as oe,k as d,w as f,v as c,K as ae,L as R,M as ne,z as re,N as se}from"./index-BuFigy1A.js";import{_ as ie}from"./DictTag.vue_vue_type_script_lang-DcBSip_F.js";import{_ as me}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dq4j5fFx.js";import{_ as pe}from"./index-Bm6lKD5Z.js";import{_ as ue}from"./Demo03StudentForm.vue_vue_type_script_setup_true_lang-DVVGH7Nl.js";import{_ as de}from"./Demo03CourseList.vue_vue_type_script_setup_true_lang-CHYIRo1B.js";import{_ as ce}from"./Demo03GradeList.vue_vue_type_script_setup_true_lang-CayVDwf_.js";import{m as _e,n as fe,o as ge}from"./index-Dlgb_KMm.js";import{c as be,D as U}from"./dict-Ve5yp9Dm.js";import{d as ve}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./style.css_vue_type_style_index_0_src_true_lang-BB6KGiDj.js";import"./locale-Cs4A32Rl.js";import"./Demo03CourseForm.vue_vue_type_script_setup_true_lang-DuWtikYP.js";import"./Demo03GradeForm.vue_vue_type_script_setup_true_lang-BJLbmZPZ.js";const Ue=Z({name:"Demo03Student",__name:"index",setup(xe){const x=re(),{t:Y}=se(),w=p(!0),D=p([]),V=p(0),n=ee({pageNo:1,pageSize:10,name:null,sex:null,description:null,createTime:[]}),T=p(),y=p(!1),_=async()=>{w.value=!0;try{const r=await _e(n);D.value=r.list,V.value=r.total}finally{w.value=!1}},C=()=>{n.pageNo=1,_()},h=()=>{T.value.resetFields(),C()},$=p(),E=(r,t)=>{$.value.open(r,t)},z=async r=>{try{await x.delConfirm(),await fe(r),x.success(Y("common.delSuccess")),await _()}catch(t){console.log(t)}},I=async()=>{try{await x.exportConfirm(),y.value=!0;const r=await ge(n);ve.excel(r,"学生.xls")}catch(r){console.log(r)}finally{y.value=!1}},k=p({}),L=r=>{k.value=r};return te(()=>{_()}),(r,t)=>{const q=pe,B=s("el-input"),g=s("el-form-item"),K=s("el-option"),H=s("el-select"),Q=s("el-date-picker"),b=ae,u=s("el-button"),X=s("el-form"),S=me,m=s("el-table-column"),j=ie,G=s("el-table"),J=ne,F=s("el-tab-pane"),O=s("el-tabs"),v=M("hasPermi"),W=M("loading");return i(),N(P,null,[e(q,{title:"代码生成（主子表）",url:"https://doc.iocoder.cn/new-feature/master-sub/"}),e(S,null,{default:o(()=>[e(X,{ref_key:"queryFormRef",ref:T,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(n)},{default:o(()=>[e(g,{label:"名字",prop:"name"},{default:o(()=>[e(B,{modelValue:l(n).name,"onUpdate:modelValue":t[0]||(t[0]=a=>l(n).name=a),class:"!w-240px",clearable:"",placeholder:"请输入名字",onKeyup:le(C,["enter"])},null,8,["modelValue"])]),_:1}),e(g,{label:"性别",prop:"sex"},{default:o(()=>[e(H,{modelValue:l(n).sex,"onUpdate:modelValue":t[1]||(t[1]=a=>l(n).sex=a),class:"!w-240px",clearable:"",placeholder:"请选择性别"},{default:o(()=>[(i(!0),N(P,null,oe(l(be)(l(U).SYSTEM_USER_SEX),a=>(i(),d(K,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"创建时间",prop:"createTime"},{default:o(()=>[e(Q,{modelValue:l(n).createTime,"onUpdate:modelValue":t[2]||(t[2]=a=>l(n).createTime=a),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(g,null,{default:o(()=>[e(u,{onClick:C},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:search"}),t[6]||(t[6]=c(" 搜索 "))]),_:1}),e(u,{onClick:h},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:refresh"}),t[7]||(t[7]=c(" 重置 "))]),_:1}),f((i(),d(u,{plain:"",type:"primary",onClick:t[3]||(t[3]=a=>E("create"))},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:plus"}),t[8]||(t[8]=c(" 新增 "))]),_:1})),[[v,["infra:demo03-student:create"]]]),f((i(),d(u,{loading:l(y),plain:"",type:"success",onClick:I},{default:o(()=>[e(b,{class:"mr-5px",icon:"ep:download"}),t[9]||(t[9]=c(" 导出 "))]),_:1},8,["loading"])),[[v,["infra:demo03-student:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(S,null,{default:o(()=>[f((i(),d(G,{data:l(D),"highlight-current-row":"","show-overflow-tooltip":!0,stripe:!0,onCurrentChange:L},{default:o(()=>[e(m,{align:"center",label:"编号",prop:"id"}),e(m,{align:"center",label:"名字",prop:"name"}),e(m,{align:"center",label:"性别",prop:"sex"},{default:o(a=>[e(j,{type:l(U).SYSTEM_USER_SEX,value:a.row.sex},null,8,["type","value"])]),_:1}),e(m,{align:"center",formatter:l(R),label:"出生日期",prop:"birthday",width:"180px"},null,8,["formatter"]),e(m,{align:"center",label:"简介",prop:"description"}),e(m,{align:"center",formatter:l(R),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),e(m,{align:"center",label:"操作"},{default:o(a=>[f((i(),d(u,{link:"",type:"primary",onClick:A=>E("update",a.row.id)},{default:o(()=>t[10]||(t[10]=[c(" 编辑 ")])),_:2},1032,["onClick"])),[[v,["infra:demo03-student:update"]]]),f((i(),d(u,{link:"",type:"danger",onClick:A=>z(a.row.id)},{default:o(()=>t[11]||(t[11]=[c("删除")])),_:2},1032,["onClick"])),[[v,["infra:demo03-student:delete"]]])]),_:1})]),_:1},8,["data"])),[[W,l(w)]]),e(J,{limit:l(n).pageSize,"onUpdate:limit":t[4]||(t[4]=a=>l(n).pageSize=a),page:l(n).pageNo,"onUpdate:page":t[5]||(t[5]=a=>l(n).pageNo=a),total:l(V),onPagination:_},null,8,["limit","page","total"])]),_:1}),e(ue,{ref_key:"formRef",ref:$,onSuccess:_},null,512),e(S,null,{default:o(()=>[e(O,{"model-value":"demo03Course"},{default:o(()=>[e(F,{label:"学生课程",name:"demo03Course"},{default:o(()=>[e(de,{"student-id":l(k).id},null,8,["student-id"])]),_:1}),e(F,{label:"学生班级",name:"demo03Grade"},{default:o(()=>[e(ce,{"student-id":l(k).id},null,8,["student-id"])]),_:1})]),_:1})]),_:1})],64)}}});export{Ue as default};
