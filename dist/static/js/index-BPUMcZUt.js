/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{g as B}from"./spu-DPwkyweT.js";import{g as T}from"./combinationActivity-DnLfNiIH.js";import{d as $,r,Y as h,b as z,g as b,k as I,o as s,m as _,i as u,q as p,a as o,c as l,F as L,n as S,l as m,j as w,p as W,t as x}from"./index-BdmDrM2Y.js";const N={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},q=$({name:"PromotionCombination",__name:"index",props:{property:{}},setup(R){const a=R,i=r([]);h(()=>a.property.activityId,async()=>{if(!a.property.activityId)return;const e=await T(a.property.activityId);e?.spuId&&(i.value=[await B(e.spuId)])},{immediate:!0,deep:!0});const n=r(375),y=r(),t=r(2),f=r("100%"),c=r("0"),v=r("");return h(()=>[a.property,n,i.value.length],()=>{t.value=a.property.layoutType==="oneCol"?1:3;const e=(n.value-a.property.space*(t.value-1))/t.value;c.value=t.value===2?"64px":`${e}px`,v.value=`repeat(${t.value}, auto)`,f.value="100%"},{immediate:!0,deep:!0}),z(()=>{n.value=y.value?.wrapRef?.offsetWidth||375}),(e,V)=>{const g=b("el-image"),C=b("el-scrollbar");return s(),I(C,{ref_key:"containerRef",ref:y,class:"z-1 min-h-30px","wrap-class":"w-full"},{default:_(()=>[u("div",{class:"grid overflow-x-auto",style:p({gridGap:`${e.property.space}px`,gridTemplateColumns:o(v),width:o(f)})},[(s(!0),l(L,null,S(o(i),(d,k)=>(s(),l("div",{key:k,class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:p({borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`})},[e.property.badge.show?(s(),l("div",N,[w(g,{class:"h-26px w-38px",fit:"cover",src:e.property.badge.imgUrl},null,8,["src"])])):m("",!0),w(g,{fit:"cover",src:d.picUrl,style:p({width:o(c),height:o(c)})},null,8,["src","style"]),u("div",{class:W(["flex flex-col gap-8px p-8px box-border",{"w-[calc(100%-64px)]":o(t)===2,"w-full":o(t)===3}])},[e.property.fields.name.show?(s(),l("div",{key:0,class:"truncate text-12px",style:p({color:e.property.fields.name.color})},x(d.name),5)):m("",!0),u("div",null,[e.property.fields.price.show?(s(),l("span",{key:0,class:"text-12px",style:p({color:e.property.fields.price.color})}," ï¿¥"+x(d.price),5)):m("",!0)])],2)],4))),128))],4)]),_:1},512)}}});export{q as default};
