/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{d as K,r as p,f as H,b as I,g as s,h as M,c as L,o as u,j as t,m as a,a as l,J as Q,w as f,v as d,K as j,k as _,L as E,M as J,F as W,z as h,N as A}from"./index-FPuwcz_Y.js";import{_ as G}from"./ContentWrap.vue_vue_type_script_setup_true_lang-32ziCa0j.js";import{_ as O,a as X,d as Z}from"./TagForm.vue_vue_type_script_setup_true_lang-yGr8jE5Y.js";const oe=K({__name:"index",setup(ee){const k=h(),{t:N}=A(),g=p(!0),x=p(0),C=p([]),o=H({pageNo:1,pageSize:10,name:null,createTime:[]}),T=p(),i=async()=>{g.value=!0;try{const r=await X(o);C.value=r.list,x.value=r.total}finally{g.value=!1}},b=()=>{o.pageNo=1,i()},$=()=>{T.value.resetFields(),b()},V=p(),D=(r,e)=>{V.value.open(r,e)},P=async r=>{try{await k.delConfirm(),await Z(r),k.success(N("common.delSuccess")),await i()}catch(e){console.log(e)}};return I(()=>{i()}),(r,e)=>{const S=s("el-input"),w=s("el-form-item"),z=s("el-date-picker"),y=j,m=s("el-button"),R=s("el-form"),F=G,c=s("el-table-column"),U=s("el-table"),Y=J,v=M("hasPermi"),q=M("loading");return u(),L(W,null,[t(F,null,{default:a(()=>[t(R,{ref_key:"queryFormRef",ref:T,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(o)},{default:a(()=>[t(w,{label:"标签名称",prop:"name"},{default:a(()=>[t(S,{modelValue:l(o).name,"onUpdate:modelValue":e[0]||(e[0]=n=>l(o).name=n),class:"!w-240px",clearable:"",placeholder:"请输入标签名称",onKeyup:Q(b,["enter"])},null,8,["modelValue"])]),_:1}),t(w,{label:"创建时间",prop:"createTime"},{default:a(()=>[t(z,{modelValue:l(o).createTime,"onUpdate:modelValue":e[1]||(e[1]=n=>l(o).createTime=n),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(w,null,{default:a(()=>[t(m,{onClick:b},{default:a(()=>[t(y,{class:"mr-5px",icon:"ep:search"}),e[5]||(e[5]=d(" 搜索 "))]),_:1}),t(m,{onClick:$},{default:a(()=>[t(y,{class:"mr-5px",icon:"ep:refresh"}),e[6]||(e[6]=d(" 重置 "))]),_:1}),f((u(),_(m,{type:"primary",onClick:e[2]||(e[2]=n=>D("create"))},{default:a(()=>[t(y,{class:"mr-5px",icon:"ep:plus"}),e[7]||(e[7]=d(" 新增 "))]),_:1})),[[v,["member:tag:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(F,null,{default:a(()=>[f((u(),_(U,{data:l(C),"show-overflow-tooltip":!0,stripe:!0},{default:a(()=>[t(c,{align:"center",label:"编号",prop:"id",width:"150px"}),t(c,{align:"center",label:"标签名称",prop:"name"}),t(c,{align:"center",formatter:l(E),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),t(c,{align:"center",label:"操作",width:"150px"},{default:a(n=>[f((u(),_(m,{link:"",type:"primary",onClick:B=>D("update",n.row.id)},{default:a(()=>e[8]||(e[8]=[d("编辑")])),_:2},1032,["onClick"])),[[v,["member:tag:update"]]]),f((u(),_(m,{link:"",type:"danger",onClick:B=>P(n.row.id)},{default:a(()=>e[9]||(e[9]=[d("删除")])),_:2},1032,["onClick"])),[[v,["member:tag:delete"]]])]),_:1})]),_:1},8,["data"])),[[q,l(g)]]),t(Y,{limit:l(o).pageSize,"onUpdate:limit":e[3]||(e[3]=n=>l(o).pageSize=n),page:l(o).pageNo,"onUpdate:page":e[4]||(e[4]=n=>l(o).pageNo=n),total:l(x),onPagination:i},null,8,["limit","page","total"])]),_:1}),t(O,{ref_key:"formRef",ref:V,onSuccess:i},null,512)],64)}}});export{oe as default};
