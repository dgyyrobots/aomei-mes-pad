/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 15:23:48 
 */
import{d as ee,r as b,f as le,b as ae,g as u,h as P,c as s,o as r,j as a,m as o,a as l,J as O,F as f,n as V,k as _,v as w,K as te,w as A,i as c,t as i,c5 as Y,l as k,L as oe,x as ne,M as re,z as se,N as ue}from"./index-C8VsLzxx.js";import{_ as ie}from"./DictTag.vue_vue_type_script_lang-lHf-rDoT.js";import{_ as de}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DmvxiVVs.js";import{_ as pe,g as me,a as _e}from"./BrokerageWithdrawRejectForm.vue_vue_type_script_setup_true_lang-DQnmHkSr.js";import{j as F,k as ce}from"./constants-BPQb3nxh.js";import{c as G,D as v,a as fe,g as we}from"./dict-_inVRzR5.js";import"./color-B5phLuB-.js";const ve={key:0},ge={key:1},ye={key:0},be={key:1},ke={key:0,class:"text-xs"},xe={key:1,class:"text-xs"},he=ee({name:"BrokerageWithdraw",__name:"index",setup(Ne){const{t:M}=ue(),E=se(),g=b(!0),B=b(0),D=b([]),n=le({pageNo:1,pageSize:10,userId:null,type:null,name:null,accountNo:null,bankName:null,status:null,auditReason:null,auditTime:[],remark:null,createTime:[]}),h=b(),y=async()=>{g.value=!0;try{const p=await me(n);D.value=p.list,B.value=p.total}finally{g.value=!1}},x=()=>{n.pageNo=1,y()},$=()=>{h.value.resetFields(),x()},C=b(),H=p=>{C.value.open(p)},L=async p=>{try{g.value=!0,await E.confirm("确定要审核通过吗？"),await _e(p),await E.success(M("common.success")),await y()}finally{g.value=!1}};return ae(()=>{y()}),(p,t)=>{const I=u("el-input"),m=u("el-form-item"),T=u("el-option"),R=u("el-select"),Q=u("el-date-picker"),U=te,N=u("el-button"),z=u("el-form"),W=de,d=u("el-table-column"),K=ie,q=u("el-image"),j=u("el-table"),J=re,S=P("hasPermi"),X=P("loading");return r(),s(f,null,[a(W,null,{default:o(()=>[a(z,{ref_key:"queryFormRef",ref:h,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(n)},{default:o(()=>[a(m,{label:"用户编号",prop:"userId"},{default:o(()=>[a(I,{modelValue:l(n).userId,"onUpdate:modelValue":t[0]||(t[0]=e=>l(n).userId=e),class:"!w-240px",clearable:"",placeholder:"请输入用户编号",onKeyup:O(x,["enter"])},null,8,["modelValue"])]),_:1}),a(m,{label:"提现类型",prop:"type"},{default:o(()=>[a(R,{modelValue:l(n).type,"onUpdate:modelValue":t[1]||(t[1]=e=>l(n).type=e),class:"!w-240px",clearable:"",placeholder:"请选择提现类型"},{default:o(()=>[(r(!0),s(f,null,V(l(G)(l(v).BROKERAGE_WITHDRAW_TYPE),e=>(r(),_(T,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"账号",prop:"accountNo"},{default:o(()=>[a(I,{modelValue:l(n).accountNo,"onUpdate:modelValue":t[2]||(t[2]=e=>l(n).accountNo=e),class:"!w-240px",clearable:"",placeholder:"请输入账号",onKeyup:O(x,["enter"])},null,8,["modelValue"])]),_:1}),a(m,{label:"提现银行",prop:"bankName"},{default:o(()=>[a(R,{modelValue:l(n).bankName,"onUpdate:modelValue":t[3]||(t[3]=e=>l(n).bankName=e),class:"!w-240px",clearable:"",placeholder:"请选择提现银行"},{default:o(()=>[(r(!0),s(f,null,V(l(fe)(l(v).BROKERAGE_BANK_NAME),e=>(r(),_(T,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"状态",prop:"status"},{default:o(()=>[a(R,{modelValue:l(n).status,"onUpdate:modelValue":t[4]||(t[4]=e=>l(n).status=e),class:"!w-240px",clearable:"",placeholder:"请选择状态"},{default:o(()=>[(r(!0),s(f,null,V(l(G)(l(v).BROKERAGE_WITHDRAW_STATUS),e=>(r(),_(T,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"申请时间",prop:"createTime"},{default:o(()=>[a(Q,{modelValue:l(n).createTime,"onUpdate:modelValue":t[5]||(t[5]=e=>l(n).createTime=e),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),a(m,null,{default:o(()=>[a(N,{onClick:x},{default:o(()=>[a(U,{class:"mr-5px",icon:"ep:search"}),t[8]||(t[8]=w(" 搜索 "))]),_:1}),a(N,{onClick:$},{default:o(()=>[a(U,{class:"mr-5px",icon:"ep:refresh"}),t[9]||(t[9]=w(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(W,null,{default:o(()=>[A((r(),_(j,{data:l(D),"show-overflow-tooltip":!0,stripe:!0},{default:o(()=>[a(d,{align:"left",label:"编号","min-width":"60px",prop:"id"}),a(d,{align:"left",label:"用户信息","min-width":"120px"},{default:o(e=>[c("div",null,"编号："+i(e.row.userId),1),c("div",null,"昵称："+i(e.row.userNickname),1)]),_:1}),a(d,{align:"left",label:"提现金额","min-width":"80px",prop:"price"},{default:o(e=>[c("div",null,"金 额：￥"+i(l(Y)(e.row.price)),1),c("div",null,"手续费：￥"+i(l(Y)(e.row.feePrice)),1)]),_:1}),a(d,{align:"left",label:"提现方式","min-width":"120px",prop:"type"},{default:o(e=>[e.row.type===l(F).WALLET.type?(r(),s("div",ve,"余额")):(r(),s("div",ge,[w(i(l(we)(l(v).BROKERAGE_WITHDRAW_TYPE,e.row.type))+" ",1),e.row.accountNo?(r(),s("span",ye,"账号："+i(e.row.accountNo),1)):k("",!0)])),e.row.type===l(F).BANK.type?(r(),s(f,{key:2},[c("div",null,"真实姓名："+i(e.row.name),1),c("div",null,[t[10]||(t[10]=w(" 银行名称： ")),a(K,{type:l(v).BROKERAGE_BANK_NAME,value:e.row.bankName},null,8,["type","value"])]),c("div",null,"开户地址："+i(e.row.bankAddress),1)],64)):k("",!0)]),_:1}),a(d,{align:"left",label:"收款码","min-width":"70px",prop:"accountQrCodeUrl"},{default:o(e=>[e.row.accountQrCodeUrl?(r(),_(q,{key:0,class:"h-40px w-40px","preview-src-list":[e.row.accountQrCodeUrl],"preview-teleported":"",src:e.row.accountQrCodeUrl},null,8,["preview-src-list","src"])):(r(),s("span",be,"无"))]),_:1}),a(d,{align:"left",formatter:l(oe),label:"申请时间",prop:"createTime",width:"180px"},null,8,["formatter"]),a(d,{align:"left",label:"备注",prop:"remark"}),a(d,{align:"left",label:"状态","min-width":"120px",prop:"status"},{default:o(e=>[a(K,{type:l(v).BROKERAGE_WITHDRAW_STATUS,value:e.row.status},null,8,["type","value"]),e.row.auditTime?(r(),s("div",ke,"时间："+i(l(ne)(e.row.auditTime)),1)):k("",!0),e.row.auditReason?(r(),s("div",xe,"原因："+i(e.row.auditReason),1)):k("",!0)]),_:1}),a(d,{align:"left",fixed:"right",label:"操作",width:"110px"},{default:o(e=>[e.row.status===l(ce).AUDITING.status?(r(),s(f,{key:0},[A((r(),_(N,{link:"",type:"primary",onClick:Z=>L(e.row.id)},{default:o(()=>t[11]||(t[11]=[w(" 通过 ")])),_:2},1032,["onClick"])),[[S,["trade:brokerage-withdraw:audit"]]]),A((r(),_(N,{link:"",type:"danger",onClick:Z=>H(e.row.id)},{default:o(()=>t[12]||(t[12]=[w("驳回")])),_:2},1032,["onClick"])),[[S,["trade:brokerage-withdraw:audit"]]])],64)):k("",!0)]),_:1})]),_:1},8,["data"])),[[X,l(g)]]),a(J,{limit:l(n).pageSize,"onUpdate:limit":t[6]||(t[6]=e=>l(n).pageSize=e),page:l(n).pageNo,"onUpdate:page":t[7]||(t[7]=e=>l(n).pageNo=e),total:l(B),onPagination:y},null,8,["limit","page","total"])]),_:1}),a(pe,{ref_key:"formRef",ref:C,onSuccess:y},null,512)],64)}}});export{he as default};
