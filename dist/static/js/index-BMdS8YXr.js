/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 13:49:10 
 */
import{_ as M}from"./ContentWrap.vue_vue_type_script_setup_true_lang-58zNwBTb.js";import{d as P,ac as H,H as I,u as K,r as _,b as W,a4 as q,a as o,g as i,h as g,c as w,o as b,w as C,j as e,i as v,k as A,m as l,v as n,K as G,t as c,x as J,F as L}from"./index-BW9ifGp0.js";import{_ as O,a as Q}from"./ContactForm.vue_vue_type_script_setup_true_lang-C9AS5D5X.js";import{_ as U}from"./ContactBasicInfo.vue_vue_type_script_setup_true_lang-BOL-WgNa.js";import{_ as X}from"./ContactDetails.vue_vue_type_script_setup_true_lang-CNVtHU3H.js";import"./dict-BcQRoIPV.js";import"./index-B3qz3hLy.js";import"./index-CaeaK4A-.js";import"./tree-vSlcEeQq.js";import"./DictTag.vue_vue_type_script_lang-CGh0XIVR.js";import"./color-B5phLuB-.js";const Y={class:"flex items-start justify-between"},ut=P({name:"CrmContactDetail",__name:"index",setup(Z){const{delView:k}=H(),$=I(),{currentRoute:D}=K(),d=Number($.params.id),f=_(!0),a=_({}),x=async u=>{f.value=!0;try{a.value=await Q(u)}finally{f.value=!1}},y=_(),N=(u,t)=>{y.value.open(u,t)};return W(async()=>{if(!d){q.warning("参数错误，联系人不能为空！"),k(o(D));return}await x(d)}),(u,t)=>{const s=i("el-button"),r=G,R=i("el-row"),p=i("el-descriptions-item"),V=i("el-descriptions"),z=M,m=i("el-tab-pane"),B=i("el-badge"),T=i("el-tabs"),F=i("el-col"),S=g("hasPermi"),j=g("loading");return b(),w(L,null,[C((b(),w("div",null,[v("div",Y,[v("div",null,[e(U,{contact:o(a)},null,8,["contact"])]),v("div",null,[C((b(),A(s,{onClick:t[0]||(t[0]=E=>N("update",o(a).id))},{default:l(()=>t[2]||(t[2]=[n("编辑")])),_:1})),[[S,["crm:contact:update"]]])])]),e(R,{class:"mt-10px"},{default:l(()=>[e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"ph:calendar-fill"}),t[3]||(t[3]=n(" 创建任务 "))]),_:1}),e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"carbon:email"}),t[4]||(t[4]=n(" 发送邮件 "))]),_:1}),e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"system-uicons:contacts"}),t[5]||(t[5]=n(" 创建联系人 "))]),_:1}),e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"ep:opportunity"}),t[6]||(t[6]=n(" 创建商机 "))]),_:1}),e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"clarity:contract-line"}),t[7]||(t[7]=n(" 创建合同 "))]),_:1}),e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"icon-park:income-one"}),t[8]||(t[8]=n(" 创建回款 "))]),_:1}),e(s,null,{default:l(()=>[e(r,{class:"mr-5px",icon:"fluent:people-team-add-20-filled"}),t[9]||(t[9]=n(" 添加团队成员 "))]),_:1})]),_:1})])),[[j,o(f)]]),e(z,{class:"mt-10px"},{default:l(()=>[e(V,{column:5,direction:"vertical"},{default:l(()=>[e(p,{label:"客户"},{default:l(()=>[n(c(o(a).customerName),1)]),_:1}),e(p,{label:"职务"},{default:l(()=>[n(c(o(a).post),1)]),_:1}),e(p,{label:"手机"},{default:l(()=>[n(c(o(a).mobile),1)]),_:1}),e(p,{label:"创建时间"},{default:l(()=>[n(c(o(a).createTime?o(J)(o(a).createTime):"空"),1)]),_:1})]),_:1})]),_:1}),e(F,{span:18},{default:l(()=>[e(T,null,{default:l(()=>[e(m,{label:"基本信息"},{default:l(()=>[e(X,{class:"ml-2",contact:o(a)},null,8,["contact"])]),_:1}),e(m,{label:"跟进记录",lazy:""},{default:l(()=>t[10]||(t[10]=[n("跟进记录")])),_:1}),e(m,{label:"商机",lazy:""},{default:l(()=>t[11]||(t[11]=[n("商机")])),_:1}),e(m,{label:"附件",lazy:""},{default:l(()=>t[12]||(t[12]=[n("附件")])),_:1}),e(m,{label:"操作记录",lazy:""},{label:l(()=>[t[13]||(t[13]=n(" 操作记录 ")),e(B,{class:"item",type:"primary",value:12})]),default:l(()=>[t[14]||(t[14]=n(" 操作记录 "))]),_:1})]),_:1})]),_:1}),e(O,{ref_key:"formRef",ref:y,onSuccess:t[1]||(t[1]=E=>x(o(d)))},null,512)],64)}}});export{ut as default};
