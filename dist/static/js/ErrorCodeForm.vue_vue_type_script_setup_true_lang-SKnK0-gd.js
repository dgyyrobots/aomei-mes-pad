/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:52:22 
 */
import{V as m,d as S,r as d,f as T,g,h as B,k as C,o as w,m as s,w as j,a as o,j as t,v as x,y as z,_ as I,N as L,z as M}from"./index-DMg0mq0e.js";const K=l=>m.get({url:"/system/error-code/page",params:l}),P=l=>m.get({url:`/system/error-code/get?id=${l}`}),A=l=>m.post({url:"/system/error-code/create",data:l}),G=l=>m.put({url:"/system/error-code/update",data:l}),O=l=>m.delete({url:`/system/error-code/delete?id=${l}`}),Q=l=>m.download({url:"/system/error-code/export-excel",params:l}),W=S({name:"SystemErrorCodeForm",__name:"ErrorCodeForm",emits:["success"],setup(l,{expose:N,emit:E}){const{t:v}=L(),_=M(),n=d(!1),V=d(""),u=d(!1),b=d(""),a=d({id:void 0,code:void 0,applicationName:"",message:"",memo:""}),k=T({applicationName:[{required:!0,message:"应用名不能为空",trigger:"blur"}],code:[{required:!0,message:"错误码编码不能为空",trigger:"blur"}],message:[{required:!0,message:"错误码提示不能为空",trigger:"blur"}]}),i=d();N({open:async(c,e)=>{if(n.value=!0,V.value=v(`action.${c}`),b.value=c,$(),e){u.value=!0;try{a.value=await P(e)}finally{u.value=!1}}}});const F=E,U=async()=>{if(!(!i||!await i.value.validate())){u.value=!0;try{const e=a.value;b.value==="create"?(await A(e),_.success(v("common.createSuccess"))):(await G(e),_.success(v("common.updateSuccess"))),n.value=!1,F("success")}finally{u.value=!1}}},$=()=>{a.value={id:void 0,applicationName:"",code:void 0,message:"",memo:""},i.value?.resetFields()};return(c,e)=>{const p=g("el-input"),f=g("el-form-item"),q=g("el-form"),y=g("el-button"),D=I,R=B("loading");return w(),C(D,{modelValue:o(n),"onUpdate:modelValue":e[5]||(e[5]=r=>z(n)?n.value=r:null),title:o(V)},{footer:s(()=>[t(y,{disabled:o(u),type:"primary",onClick:U},{default:s(()=>e[6]||(e[6]=[x("确 定")])),_:1},8,["disabled"]),t(y,{onClick:e[4]||(e[4]=r=>n.value=!1)},{default:s(()=>e[7]||(e[7]=[x("取 消")])),_:1})]),default:s(()=>[j((w(),C(q,{ref_key:"formRef",ref:i,"label-width":"100px",model:o(a),rules:o(k)},{default:s(()=>[t(f,{label:"应用名",prop:"applicationName"},{default:s(()=>[t(p,{modelValue:o(a).applicationName,"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).applicationName=r),clearable:"",placeholder:"请输入应用名"},null,8,["modelValue"])]),_:1}),t(f,{label:"错误码编码",prop:"code"},{default:s(()=>[t(p,{modelValue:o(a).code,"onUpdate:modelValue":e[1]||(e[1]=r=>o(a).code=r),clearable:"",placeholder:"请输入错误码编码"},null,8,["modelValue"])]),_:1}),t(f,{label:"错误码提示",prop:"message"},{default:s(()=>[t(p,{modelValue:o(a).message,"onUpdate:modelValue":e[2]||(e[2]=r=>o(a).message=r),clearable:"",placeholder:"请输入错误码提示"},null,8,["modelValue"])]),_:1}),t(f,{label:"备注",prop:"memo"},{default:s(()=>[t(p,{modelValue:o(a).memo,"onUpdate:modelValue":e[3]||(e[3]=r=>o(a).memo=r),clearable:"",placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[R,o(u)]])]),_:1},8,["modelValue","title"])}}});export{W as _,O as d,Q as e,K as g};
