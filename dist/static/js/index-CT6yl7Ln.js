/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{u as M,_ as R,a as F}from"./useTable-BOfvTYZR.js";import{_ as I}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CIA3YA7G.js";import{d as T,r as j,b as w,g as _,h as K,c as P,o as r,j as s,m as a,a as n,w as g,k as m,v as f,K as O,F as b,n as W,z as q}from"./index-BdmDrM2Y.js";import{_ as G}from"./index-63l7YclF.js";import{a as L,_ as H}from"./SeckillConfigForm.vue_vue_type_script_name_SeckillConfigForm_setup_true_lang-DuaS1GKa.js";import{b as J,d as Q,e as X}from"./seckillConfig-Cu8QkkkT.js";import{c as Y}from"./index-DAvM7WNv.js";import{C as c}from"./constants-BPQb3nxh.js";import"./Form-vqOdGcgT.js";import"./style.css_vue_type_style_index_0_src_true_lang-CMBP_pq0.js";import"./locale-BJDO36XM.js";import"./InputPassword-BOPnvoR-.js";import"./UploadImg-BE45TJSs.js";import"./UploadImgs-CwkRwUw3.js";import"./UploadImgs.vue_vue_type_script_setup_true_lang-6j2zQmpw.js";import"./UploadFile-B0OdqIyB.js";import"./UploadFile.vue_vue_type_script_setup_true_lang-mGQpJ1T_.js";import"./useForm-BSymIJ-M.js";import"./download-U6qaYcnP.js";import"./formRules-wW3jWK7m.js";import"./dict-Cm-9nniQ.js";import"./useCrudSchemas-CKDeb1Cb.js";import"./tree-vSlcEeQq.js";import"./DictTag.vue_vue_type_script_lang-bjcRCBWf.js";import"./color-B5phLuB-.js";const xe=T({__name:"index",setup(Z){const $=q(),{tableObject:i,tableMethods:k}=M({getListApi:X,delListApi:Q}),{getList:p,setSearchParams:C}=k,S=j(),v=(o,e)=>{S.value.open(o,e)},x=o=>{k.delList(o,!1)},y=async o=>{try{const e=o.status===c.ENABLE?"启用":"停用";await $.confirm(`确认要"${e}""${o.name}?`),await J(o.id,o.status),await p()}catch{o.status=o.status===c.ENABLE?c.DISABLE:c.ENABLE}},E=o=>{Y({urlList:o})};return w(()=>{p()}),(o,e)=>{const B=G,U=O,u=_("el-button"),V=R,h=I,z=_("el-image"),A=_("el-switch"),N=F,d=K("hasPermi");return r(),P(b,null,[s(B,{title:"功能开启",url:"https://doc.iocoder.cn/mall/build/"}),s(h,null,{default:a(()=>[s(V,{schema:n(L).searchSchema,onReset:n(C),onSearch:n(C)},{actionMore:a(()=>[g((r(),m(u,{plain:"",type:"primary",onClick:e[0]||(e[0]=t=>v("create"))},{default:a(()=>[s(U,{class:"mr-5px",icon:"ep:plus"}),e[3]||(e[3]=f(" 新增 "))]),_:1})),[[d,["promotion:seckill-config:create"]]])]),_:1},8,["schema","onReset","onSearch"])]),_:1}),s(h,null,{default:a(()=>[s(N,{currentPage:n(i).currentPage,"onUpdate:currentPage":e[1]||(e[1]=t=>n(i).currentPage=t),pageSize:n(i).pageSize,"onUpdate:pageSize":e[2]||(e[2]=t=>n(i).pageSize=t),columns:n(L).tableColumns,data:n(i).tableList,loading:n(i).loading,pagination:{total:n(i).total}},{sliderPicUrls:a(({row:t})=>[(r(!0),P(b,null,W(t.sliderPicUrls,(l,D)=>(r(),m(z,{key:D,class:"mr-10px h-60px w-60px",src:l,onClick:ee=>E(t.sliderPicUrls)},null,8,["src","onClick"]))),128))]),status:a(({row:t})=>[s(A,{modelValue:t.status,"onUpdate:modelValue":l=>t.status=l,"active-value":0,"inactive-value":1,onChange:l=>y(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),action:a(({row:t})=>[g((r(),m(u,{link:"",type:"primary",onClick:l=>v("update",t.id)},{default:a(()=>e[4]||(e[4]=[f("编辑")])),_:2},1032,["onClick"])),[[d,["promotion:seckill-config:update"]]]),g((r(),m(u,{link:"",type:"danger",onClick:l=>x(t.id)},{default:a(()=>e[5]||(e[5]=[f("删除")])),_:2},1032,["onClick"])),[[d,["promotion:seckill-config:delete"]]])]),_:1},8,["currentPage","pageSize","columns","data","loading","pagination"])]),_:1}),s(H,{ref_key:"formRef",ref:S,onSuccess:n(p)},null,8,["onSuccess"])],64)}}});export{xe as default};
