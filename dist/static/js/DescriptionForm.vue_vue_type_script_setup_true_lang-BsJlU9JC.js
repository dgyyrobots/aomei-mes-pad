/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{_ as N}from"./Descriptions-B5j8Edvs.js";import{d as C}from"./spu.data-BeA1BJpk.js";import{_ as B}from"./style.css_vue_type_style_index_0_src_true_lang-DzOdDvxI.js";import{d as S,az as p,r as l,f as j,Y as d,g as u,h as T,c as z,o as i,k as f,l as _,a as t,m as n,j as v,w as E,i as O,F as R,z as q,c1 as M}from"./index-D3S9e4gi.js";import{u as U}from"./useCrudSchemas-D6OD8Gad.js";import{r as Y}from"./formRules-B4PUue2L.js";const $={style:{width:"600px"}},P=S({name:"DescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:p.string.def(""),isDetail:p.bool.def(!1)},emits:["update:activeName"],setup(a,{expose:h,emit:D}){const w=q(),{allSchemas:y}=U(C),m=a,r=l(),e=l({description:""}),F=j({description:[Y]});d(()=>e.value.description,o=>{o==="<p><br></p>"&&(e.value.description="")},{deep:!0,immediate:!0}),d(()=>m.propFormData,o=>{o&&M(e.value,o)},{immediate:!0});const g=D;return h({validate:async()=>{if(r)return await t(r).validate(o=>{if(o)Object.assign(m.propFormData,e.value);else throw w.warning("商品详情为完善!!"),g("update:activeName","description"),new Error("商品详情为完善!!")})}}),(o,c)=>{const k=u("el-form-item"),V=u("el-form"),b=N,x=T("dompurify-html");return i(),z(R,null,[a.isDetail?_("",!0):(i(),f(V,{key:0,ref_key:"descriptionFormRef",ref:r,"label-width":"120px",model:t(e),rules:t(F)},{default:n(()=>[v(k,{label:"商品详情",prop:"description"},{default:n(()=>[v(t(B),{modelValue:t(e).description,"onUpdate:modelValue":c[0]||(c[0]=s=>t(e).description=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),a.isDetail?(i(),f(b,{key:1,class:"descriptionFormDescriptions",data:t(e),schema:t(y).detailSchema},{description:n(({row:s})=>[E(O("div",$,null,512),[[x,s.description]])]),_:1},8,["data","schema"])):_("",!0)],64)}}});export{P as _};
