/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:21:26 
 */
import{dt as ee,du as ae,dv as te,dw as ne,dx as H,d3 as le,dy as se,dz as oe,dA as pe,cR as ie,d as W,r as d,g as h,c as C,o as g,F as R,j as u,_ as re,a as i,y as Z,m as r,i as X,n as w,k as B,v as k,t as G,p as ue,l as me,X as ce,dB as de,aA as ge,Y as q}from"./index-5TqN_QR1.js";function fe(e,s,t){var l=e.length;return t=t===void 0?l:t,t>=l?e:ee(e,s,t)}var he="[object RegExp]";function ve(e){return ae(e)&&te(e)==he}var J=H&&H.isRegExp,ye=J?ne(J):ve,Ce=4294967295;function Q(e,s,t){return t&&typeof t!="number"&&ie(e,s,t)&&(s=t=void 0),t=t===void 0?Ce:t>>>0,t?(e=le(e),e&&(typeof s=="string"||s!=null&&!ye(s))&&(s=se(s),!s&&oe(e))?fe(pe(e),0,t):e.split(s,t)):[]}var $=(e=>(e[e.ACTIVITY_COMBINATION=0]="ACTIVITY_COMBINATION",e[e.ACTIVITY_SECKILL=1]="ACTIVITY_SECKILL",e[e.ARTICLE_DETAIL=2]="ARTICLE_DETAIL",e[e.COUPON_DETAIL=3]="COUPON_DETAIL",e[e.DIY_PAGE_DETAIL=4]="DIY_PAGE_DETAIL",e[e.PRODUCT_CATEGORY_LIST=5]="PRODUCT_CATEGORY_LIST",e[e.PRODUCT_LIST=6]="PRODUCT_LIST",e[e.PRODUCT_DETAIL_NORMAL=7]="PRODUCT_DETAIL_NORMAL",e[e.PRODUCT_DETAIL_COMBINATION=8]="PRODUCT_DETAIL_COMBINATION",e[e.PRODUCT_DETAIL_POINT=9]="PRODUCT_DETAIL_POINT",e[e.PRODUCT_DETAIL_SECKILL=10]="PRODUCT_DETAIL_SECKILL",e))($||{});const S=[{name:"商城",links:[{name:"首页",path:"/pages/index/index"},{name:"商品分类",path:"/pages/index/category",type:5},{name:"购物车",path:"/pages/index/cart"},{name:"个人中心",path:"/pages/index/user"},{name:"商品搜索",path:"/pages/index/search"},{name:"自定义页面",path:"/pages/index/page",type:4},{name:"客服",path:"/pages/chat/index"},{name:"系统设置",path:"/pages/public/setting"},{name:"问题反馈",path:"/pages/public/feedback"},{name:"常见问题",path:"/pages/public/faq"}]},{name:"商品",links:[{name:"商品列表",path:"/pages/goods/list",type:6},{name:"商品详情",path:"/pages/goods/index",type:7},{name:"拼团商品详情",path:"/pages/goods/groupon",type:8},{name:"秒杀商品详情",path:"/pages/goods/seckill",type:10},{name:"积分商品详情",path:"/pages/goods/score",type:9}]},{name:"营销活动",links:[{name:"拼团订单",path:"/pages/activity/groupon/order"},{name:"营销商品",path:"/pages/activity/index"},{name:"拼团活动",path:"/pages/activity/groupon/list",type:0},{name:"秒杀活动",path:"/pages/activity/seckill/list",type:1},{name:"签到中心",path:"/pages/app/sign"},{name:"积分商城",path:"/pages/app/score-shop"},{name:"优惠券中心",path:"/pages/coupon/list"},{name:"优惠券详情",path:"/pages/coupon/detail",type:3},{name:"文章详情",path:"/pages/public/richtext",type:2}]},{name:"分销商城",links:[{name:"分销中心",path:"/pages/commission/index"},{name:"申请分销商",path:"/pages/commission/apply"},{name:"推广商品",path:"/pages/commission/goods"},{name:"分销订单",path:"/pages/commission/order"},{name:"分享记录",path:"/pages/commission/share-log"},{name:"我的团队",path:"/pages/commission/team"}]},{name:"支付",links:[{name:"充值余额",path:"/pages/pay/recharge"},{name:"充值记录",path:"/pages/pay/recharge-log"},{name:"申请提现",path:"/pages/pay/withdraw"},{name:"提现记录",path:"/pages/pay/withdraw-log"}]},{name:"用户中心",links:[{name:"用户信息",path:"/pages/user/info"},{name:"用户订单",path:"/pages/order/list"},{name:"售后订单",path:"/pages/order/aftersale/list"},{name:"商品收藏",path:"/pages/user/goods-collect"},{name:"浏览记录",path:"/pages/user/goods-log"},{name:"地址管理",path:"/pages/user/address/list"},{name:"发票管理",path:"/pages/user/invoice/list"},{name:"用户佣金",path:"/pages/user/wallet/commission"},{name:"用户余额",path:"/pages/user/wallet/money"},{name:"用户积分",path:"/pages/user/wallet/score"}]}],Te={class:"h-500px flex gap-8px"},xe=W({name:"AppLinkSelectDialog",__name:"AppLinkSelectDialog",emits:["change"],setup(e,{expose:s,emit:t}){const l=d(S[0].name),m=d(""),f=d(!1);s({open:n=>{m.value=n,f.value=!0;const a=S.find(p=>p.links.some(y=>A(y.path,n)));a&&ce(()=>b(a.name))}});const I=n=>{switch(A(n.path,m.value)||(m.value=n.path),n.type){case $.PRODUCT_CATEGORY_LIST:c.value.visible=!0,c.value.type=n.type,c.value.id=de("id",`http://127.0.0.1${m.value}`)||void 0;break}},O=t,v=()=>{f.value=!1,O("change",m.value)},T=d([]),V=({scrollTop:n})=>{const a=T.value.find(p=>{const{offsetHeight:y,offsetTop:D}=p;return n>=D&&n<D+y});a&&l.value!==a.textContent&&(l.value=a.textContent||"",E(l.value))},_=d(),b=n=>{l.value=n;const a=T.value.find(p=>p.textContent===n);a&&_.value?.setScrollTop(a.offsetTop)},j=d(),z=d([]),E=n=>{const a=z.value.map(p=>p.ref).find(p=>p.textContent===n);a&&j.value?.setScrollTop(a.offsetTop)},A=(n,a)=>Q(n,"?",1)[0]===Q(a,"?",1)[0],c=d({visible:!1,id:void 0,type:void 0}),Y=n=>{const a=new URL(m.value,"http://127.0.0.1");a.searchParams.set("id",`${n}`),m.value=`${a.pathname}${a.search}`,c.value.visible=!1,c.value.id=void 0};return(n,a)=>{const p=h("el-button"),y=h("el-scrollbar"),D=h("el-tooltip"),F=re,M=h("product-category-select"),K=h("el-form-item"),N=h("el-form");return g(),C(R,null,[u(F,{modelValue:i(f),"onUpdate:modelValue":a[1]||(a[1]=o=>Z(f)?f.value=o:null),title:"选择链接",width:"65%"},{footer:r(()=>[u(p,{type:"primary",onClick:v},{default:r(()=>a[4]||(a[4]=[k("确 定")])),_:1}),u(p,{onClick:a[0]||(a[0]=o=>f.value=!1)},{default:r(()=>a[5]||(a[5]=[k("取 消")])),_:1})]),default:r(()=>[X("div",Te,[u(y,{ref_key:"groupScrollbar",ref:j,"view-class":"flex flex-col","wrap-class":"h-full"},{default:r(()=>[(g(!0),C(R,null,w(i(S),(o,L)=>(g(),B(p,{key:L,ref_for:!0,ref_key:"groupBtnRefs",ref:z,class:ue(["m-r-16px m-l-0px! justify-start! w-90px",{active:i(l)===o.name}]),text:i(l)!==o.name,type:i(l)===o.name?"primary":"default",onClick:x=>b(o.name)},{default:r(()=>[k(G(o.name),1)]),_:2},1032,["class","text","type","onClick"]))),128))]),_:1},512),u(y,{ref_key:"linkScrollbar",ref:_,class:"h-full flex-1",onScroll:V},{default:r(()=>[(g(!0),C(R,null,w(i(S),(o,L)=>(g(),C("div",{key:L},[X("div",{ref_for:!0,ref_key:"groupTitleRefs",ref:T,class:"font-bold"},G(o.name),513),(g(!0),C(R,null,w(o.links,(x,P)=>(g(),B(D,{key:P,content:x.path,placement:"bottom"},{default:r(()=>[u(p,{class:"m-b-8px m-r-8px m-l-0px!",type:A(x.path,i(m))?"primary":"default",onClick:Re=>I(x)},{default:r(()=>[k(G(x.name),1)]),_:2},1032,["type","onClick"])]),_:2},1032,["content"]))),128))]))),128))]),_:1},512)])]),_:1},8,["modelValue"]),u(F,{modelValue:i(c).visible,"onUpdate:modelValue":a[3]||(a[3]=o=>i(c).visible=o),title:"",width:"50%"},{default:r(()=>[u(N,{class:"min-h-200px"},{default:r(()=>[i(c).type===i($).PRODUCT_CATEGORY_LIST?(g(),B(K,{key:0,label:"选择分类"},{default:r(()=>[u(M,{modelValue:i(c).id,"onUpdate:modelValue":[a[2]||(a[2]=o=>i(c).id=o),Y],"parent-id":0},null,8,["modelValue"])]),_:1})):me("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),Oe=W({name:"AppLinkInput",__name:"index",props:{modelValue:ge.string.def("")},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,l=d(""),m=d(),f=()=>m.value?.open(l.value),U=O=>l.value=O;q(()=>t.modelValue,()=>l.value=t.modelValue,{immediate:!0});const I=s;return q(()=>l,()=>I("update:modelValue",l.value)),(O,v)=>{const T=h("el-button"),V=h("el-input"),_=xe;return g(),C(R,null,[u(V,{modelValue:i(l),"onUpdate:modelValue":v[0]||(v[0]=b=>Z(l)?l.value=b:null),placeholder:"输入或选择链接"},{append:r(()=>[u(T,{onClick:f},{default:r(()=>v[1]||(v[1]=[k("选择")])),_:1})]),_:1},8,["modelValue"]),u(_,{ref_key:"dialogRef",ref:m,onChange:U},null,512)],64)}}});export{Oe as _};
