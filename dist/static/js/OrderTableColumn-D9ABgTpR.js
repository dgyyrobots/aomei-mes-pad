/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{d as j,r as O,g as y,k as T,o as u,m as o,j as s,i as e,c as x,K as V,t as r,F as Y,n as $,l as b,a as l,x as k,v as E,b$ as g,U as B,q as m,A as F}from"./index-BdmDrM2Y.js";import{_ as M}from"./DictTag.vue_vue_type_script_lang-bjcRCBWf.js";import{D as _}from"./dict-Cm-9nniQ.js";import{D as C}from"./constants-BPQb3nxh.js";import{c as W}from"./index-DAvM7WNv.js";import"./color-B5phLuB-.js";const H={class:"flex items-center",style:{width:"100%"}},K={class:"mr-[20px] h-[35px] flex items-center pl-[10px] pr-[10px]",style:{"background-color":"#f7f7f7"}},q={class:"mr-20px"},z={class:"mr-20px"},X={key:1,class:"mr-20px"},G={key:2,class:"mr-20px"},J={class:"flex flex-wrap"},Q={class:"mb-[10px] mr-[10px] flex items-start"},Z={class:"mr-[10px]"},ee={class:"image-slot"},te={class:"overflow-ellipsis max-h-[45px] overflow-hidden"},le={key:0,class:"flex flex-col"},ae={key:1,class:"flex flex-col"},se=j({name:"OrderTableColumn",__name:"OrderTableColumn",props:{list:{},pickUpStoreList:{}},setup(A){const D=A,R=({row:a,columnIndex:i})=>{if(i===0)a[i].colSpan=8;else return a[i].colSpan=0,{display:"none"}},N=({row:a,rowIndex:i,columnIndex:d})=>{const f=D.list.find(v=>v.items?.findIndex(w=>w.id===a.id)!==-1)?.items?.length;if([3,4,5,6,7].includes(d))return i!==0?{rowspan:0,colspan:0}:{rowspan:f,colspan:1}},I=a=>{a&&a.tableId==="el-table_2"&&U(a)},p=O([300,150,120,120,160,120,120,160]),U=a=>{const i=a.store.states.columns.value;i.length!==0&&i.forEach((d,f)=>{d.realWidth&&(p.value[f]=d.realWidth)})},L=a=>{W({urlList:[a]})};return(a,i)=>{const d=M,f=V,S=y("el-image"),v=y("ElTooltip"),w=y("el-tag"),c=y("el-table-column"),P=y("el-table");return u(),T(c,{"class-name":"order-table-col"},{header:o(()=>[e("div",H,[e("div",{class:"flex justify-center",style:m({width:l(p)[0]+"px"})},"商品信息",4),e("div",{class:"flex justify-center",style:m({width:l(p)[1]+"px"})},"单价(元)/数量",4),e("div",{class:"flex justify-center",style:m({width:l(p)[2]+"px"})},"售后状态",4),e("div",{class:"flex justify-center",style:m({width:l(p)[3]+"px"})},"实付金额(元)",4),e("div",{class:"flex justify-center",style:m({width:l(p)[4]+"px"})},"买家/收货人",4),e("div",{class:"flex justify-center",style:m({width:l(p)[5]+"px"})},"配送方式",4),e("div",{class:"flex justify-center",style:m({width:l(p)[6]+"px"})},"订单状态",4),e("div",{class:"flex justify-center",style:m({width:l(p)[7]+"px"})},"操作",4)])]),default:o(t=>[s(P,{ref:I,border:!0,data:t.row.items,"header-cell-style":R,"span-method":N,style:{width:"100%"}},{default:o(()=>[s(c,{"min-width":"300",prop:"spuName"},{header:o(()=>[e("div",K,[e("span",q,"订单号："+r(t.row.no),1),e("span",z,"下单时间："+r(l(k)(t.row.createTime)),1),i[0]||(i[0]=e("span",null,"订单来源：",-1)),s(d,{class:"mr-20px",type:l(_).TERMINAL,value:t.row.terminal},null,8,["type","value"]),i[1]||(i[1]=e("span",null,"支付方式：",-1)),t.row.payChannelCode?(u(),T(d,{key:0,class:"mr-20px",type:l(_).PAY_CHANNEL_CODE,value:t.row.payChannelCode},null,8,["type","value"])):(u(),x("span",X,"未支付")),t.row.payTime?(u(),x("span",G,"支付时间："+r(l(k)(t.row.payTime)),1)):b("",!0),i[2]||(i[2]=e("span",null,"订单类型：",-1)),s(d,{type:l(_).TRADE_ORDER_TYPE,value:t.row.type},null,8,["type","value"])])]),default:o(({row:n})=>[e("div",J,[e("div",Q,[e("div",Z,[s(S,{class:"!h-[45px] !w-[45px]",fit:"contain",src:n.picUrl,onClick:h=>L(n.picUrl)},{error:o(()=>[e("div",ee,[s(f,{icon:"ep:picture"})])]),_:2},1032,["src","onClick"])]),s(v,{content:n.spuName,placement:"top"},{default:o(()=>[e("span",te,r(n.spuName),1)]),_:2},1032,["content"])]),(u(!0),x(Y,null,$(n.properties,h=>(u(),T(w,{key:h.propertyId,class:"mb-[10px] mr-[10px]"},{default:o(()=>[E(r(h.propertyName)+": "+r(h.valueName),1)]),_:2},1024))),128))])]),_:2},1024),s(c,{label:"商品原价*数量",prop:"price",width:"150"},{default:o(({row:n})=>[E(r(l(g)(n.price))+" 元 / "+r(n.count),1)]),_:1}),s(c,{label:"售后状态",prop:"afterSaleStatus",width:"120"},{default:o(({row:n})=>[s(d,{type:l(_).TRADE_ORDER_ITEM_AFTER_SALE_STATUS,value:n.afterSaleStatus},null,8,["type","value"])]),_:1}),s(c,{align:"center",label:"实际支付","min-width":"120",prop:"payPrice"},{default:o(()=>[E(r(l(g)(t.row.payPrice)+"元"),1)]),_:2},1024),s(c,{label:"买家/收货人","min-width":"160"},{default:o(()=>[t.row.deliveryType===l(C).EXPRESS.type?(u(),x("div",le,[e("span",null,"买家："+r(t.row.user.nickname),1),e("span",null," 收货人："+r(t.row.receiverName)+" "+r(t.row.receiverMobile)+" "+r(t.row.receiverAreaName)+" "+r(t.row.receiverDetailAddress),1)])):b("",!0),t.row.deliveryType===l(C).PICK_UP.type?(u(),x("div",ae,[e("span",null," 门店名称： "+r(a.pickUpStoreList.find(n=>n.id===t.row.pickUpStoreId)?.name),1),e("span",null," 门店手机： "+r(a.pickUpStoreList.find(n=>n.id===t.row.pickUpStoreId)?.phone),1),e("span",null," 自提门店: "+r(a.pickUpStoreList.find(n=>n.id===t.row.pickUpStoreId)?.detailAddress),1)])):b("",!0)]),_:2},1024),s(c,{align:"center",label:"配送方式",width:"120"},{default:o(()=>[s(d,{type:l(_).TRADE_DELIVERY_TYPE,value:t.row.deliveryType},null,8,["type","value"])]),_:2},1024),s(c,{align:"center",label:"订单状态",width:"120"},{default:o(()=>[s(d,{type:l(_).TRADE_ORDER_STATUS,value:t.row.status},null,8,["type","value"])]),_:2},1024),s(c,{align:"center",fixed:"right",label:"操作",width:"160"},{default:o(()=>[B(a.$slots,"default",{row:t.row},void 0,!0)]),_:2},1024)]),_:2},1032,["data"])]),_:3})}}}),ce=F(se,[["__scopeId","data-v-912934e9"]]);export{ce as default};
