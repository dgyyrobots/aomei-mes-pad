/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 15:23:48 
 */
import{d as z,r as d,f as I,g as r,h as M,k as u,o as _,m as l,j as t,a as o,v as s,K as R,w as S,L as E,M as H,y as Q,_ as j}from"./index-C8VsLzxx.js";import{_ as K}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DmvxiVVs.js";import{g as O}from"./index-Bh5QEr6b.js";const Z=z({name:"BrokerageUserListDialog",__name:"BrokerageUserListDialog",setup(W,{expose:N}){const f=d(!0),v=d(0),w=d([]),n=I({pageNo:1,pageSize:10,bindUserId:null,level:"",bindUserTime:[]}),k=d(),m=d(!1);N({open:async p=>{m.value=!0,n.bindUserId=p,U()}});const x=async()=>{f.value=!0;try{const p=await O(n);w.value=p.list,v.value=p.total}finally{f.value=!1}},g=()=>{n.pageNo=1,x()},U=()=>{k.value?.resetFields(),g()};return(p,e)=>{const c=r("el-radio-button"),T=r("el-radio-group"),b=r("el-form-item"),B=r("el-date-picker"),y=R,V=r("el-button"),F=r("el-form"),C=K,i=r("el-table-column"),L=r("el-avatar"),D=r("el-tag"),P=r("el-table"),Y=H,$=j,q=M("loading");return _(),u($,{modelValue:o(m),"onUpdate:modelValue":e[4]||(e[4]=a=>Q(m)?m.value=a:null),title:"推广人列表",width:"75%"},{default:l(()=>[t(C,null,{default:l(()=>[t(F,{ref_key:"queryFormRef",ref:k,class:"-mb-15px",inline:!0,"label-width":"85px",model:o(n)},{default:l(()=>[t(b,{label:"用户类型",prop:"level"},{default:l(()=>[t(T,{modelValue:o(n).level,"onUpdate:modelValue":e[0]||(e[0]=a=>o(n).level=a),onChange:g},{default:l(()=>[t(c,{checked:""},{default:l(()=>e[5]||(e[5]=[s("全部")])),_:1}),t(c,{label:"1"},{default:l(()=>e[6]||(e[6]=[s("一级推广人")])),_:1}),t(c,{label:"2"},{default:l(()=>e[7]||(e[7]=[s("二级推广人")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,{label:"绑定时间",prop:"bindUserTime"},{default:l(()=>[t(B,{modelValue:o(n).bindUserTime,"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).bindUserTime=a),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(b,null,{default:l(()=>[t(V,{onClick:g},{default:l(()=>[t(y,{class:"mr-5px",icon:"ep:search"}),e[8]||(e[8]=s(" 搜索 "))]),_:1}),t(V,{onClick:U},{default:l(()=>[t(y,{class:"mr-5px",icon:"ep:refresh"}),e[9]||(e[9]=s(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(C,null,{default:l(()=>[S((_(),u(P,{data:o(w),"show-overflow-tooltip":!0,stripe:!0},{default:l(()=>[t(i,{align:"center",label:"用户编号","min-width":"80px",prop:"id"}),t(i,{align:"center",label:"头像",prop:"avatar",width:"70px"},{default:l(a=>[t(L,{src:a.row.avatar},null,8,["src"])]),_:1}),t(i,{align:"center",label:"昵称","min-width":"80px",prop:"nickname"}),t(i,{align:"center",label:"推广人数","min-width":"80px",prop:"brokerageUserCount"}),t(i,{align:"center",label:"推广订单数量","min-width":"110px",prop:"brokerageOrderCount"}),t(i,{align:"center",label:"推广资格","min-width":"80px",prop:"brokerageEnabled"},{default:l(a=>[a.row.brokerageEnabled?(_(),u(D,{key:0},{default:l(()=>e[10]||(e[10]=[s("有")])),_:1})):(_(),u(D,{key:1,type:"info"},{default:l(()=>e[11]||(e[11]=[s("无")])),_:1}))]),_:1}),t(i,{align:"center",formatter:o(E),label:"绑定时间",prop:"bindUserTime",width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[q,o(f)]]),t(Y,{limit:o(n).pageSize,"onUpdate:limit":e[2]||(e[2]=a=>o(n).pageSize=a),page:o(n).pageNo,"onUpdate:page":e[3]||(e[3]=a=>o(n).pageNo=a),total:o(v),onPagination:x},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{Z as _};
