/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{d as Q,r as u,f as j,b as J,g as s,h as M,c as N,o as i,j as t,m as n,a as l,J as h,F as D,n as G,k as d,w as g,v as _,K as W,L as X,M as Z,z as ee,N as te}from"./index-BdmDrM2Y.js";import{_ as ae}from"./DictTag.vue_vue_type_script_lang-bjcRCBWf.js";import{_ as le}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CIA3YA7G.js";import{_ as ne}from"./index-63l7YclF.js";import oe from"./TenantPackageForm-D8pzKWVM.js";import{b as se,d as re}from"./index--4cKtZG9.js";import{c as ie,D as F}from"./dict-Cm-9nniQ.js";import"./color-B5phLuB-.js";import"./index-DmCSPnK7.js";import"./constants-BPQb3nxh.js";import"./tree-vSlcEeQq.js";const we=Q({name:"SystemTenantPackage",__name:"index",setup(me){const b=ee(),{t:U}=te(),k=u(!0),w=u(0),T=u([]),o=j({pageNo:1,pageSize:10,name:void 0,status:void 0,remark:void 0,createTime:[]}),x=u(),m=async()=>{k.value=!0;try{const r=await se(o);T.value=r.list,w.value=r.total}finally{k.value=!1}},C=()=>{o.pageNo=1,m()},$=()=>{x.value?.resetFields(),m()},S=u(),V=(r,e)=>{S.value.open(r,e)},O=async r=>{try{await b.delConfirm(),await re(r),b.success(U("common.delSuccess")),await m()}catch(e){console.log(e)}};return J(()=>{m()}),(r,e)=>{const Y=ne,z=s("el-input"),f=s("el-form-item"),R=s("el-option"),q=s("el-select"),B=s("el-date-picker"),v=W,c=s("el-button"),I=s("el-form"),P=le,p=s("el-table-column"),K=ae,L=s("el-table"),A=Z,y=M("hasPermi"),E=M("loading");return i(),N(D,null,[t(Y,{title:"SaaS 多租户",url:"https://doc.iocoder.cn/saas-tenant/"}),t(P,null,{default:n(()=>[t(I,{ref_key:"queryFormRef",ref:x,class:"-mb-15px",inline:!0,"label-width":"68px",model:l(o)},{default:n(()=>[t(f,{label:"套餐名",prop:"name"},{default:n(()=>[t(z,{modelValue:l(o).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).name=a),class:"!w-240px",clearable:"",placeholder:"请输入套餐名",onKeyup:h(C,["enter"])},null,8,["modelValue"])]),_:1}),t(f,{label:"状态",prop:"status"},{default:n(()=>[t(q,{modelValue:l(o).status,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).status=a),class:"!w-240px",clearable:"",placeholder:"请选择状态"},{default:n(()=>[(i(!0),N(D,null,G(l(ie)(l(F).COMMON_STATUS),a=>(i(),d(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"创建时间",prop:"createTime"},{default:n(()=>[t(B,{modelValue:l(o).createTime,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).createTime=a),class:"!w-240px","end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),t(f,null,{default:n(()=>[t(c,{onClick:C},{default:n(()=>[t(v,{class:"mr-5px",icon:"ep:search"}),e[6]||(e[6]=_(" 搜索 "))]),_:1}),t(c,{onClick:$},{default:n(()=>[t(v,{class:"mr-5px",icon:"ep:refresh"}),e[7]||(e[7]=_(" 重置 "))]),_:1}),g((i(),d(c,{plain:"",type:"primary",onClick:e[3]||(e[3]=a=>V("create"))},{default:n(()=>[t(v,{class:"mr-5px",icon:"ep:plus"}),e[8]||(e[8]=_(" 新增 "))]),_:1})),[[y,["system:tenant-package:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(P,null,{default:n(()=>[g((i(),d(L,{data:l(T)},{default:n(()=>[t(p,{align:"center",label:"套餐编号",prop:"id",width:"120"}),t(p,{align:"center",label:"套餐名",prop:"name"}),t(p,{align:"center",label:"状态",prop:"status",width:"100"},{default:n(a=>[t(K,{type:l(F).COMMON_STATUS,value:a.row.status},null,8,["type","value"])]),_:1}),t(p,{align:"center",label:"备注",prop:"remark"}),t(p,{align:"center",formatter:l(X),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),t(p,{align:"center","class-name":"small-padding fixed-width",label:"操作"},{default:n(a=>[g((i(),d(c,{link:"",type:"primary",onClick:H=>V("update",a.row.id)},{default:n(()=>e[9]||(e[9]=[_(" 修改 ")])),_:2},1032,["onClick"])),[[y,["system:tenant-package:update"]]]),g((i(),d(c,{link:"",type:"danger",onClick:H=>O(a.row.id)},{default:n(()=>e[10]||(e[10]=[_("删除")])),_:2},1032,["onClick"])),[[y,["system:tenant-package:delete"]]])]),_:1})]),_:1},8,["data"])),[[E,l(k)]]),t(A,{limit:l(o).pageSize,"onUpdate:limit":e[4]||(e[4]=a=>l(o).pageSize=a),page:l(o).pageNo,"onUpdate:page":e[5]||(e[5]=a=>l(o).pageNo=a),total:l(w),onPagination:m},null,8,["limit","page","total"])]),_:1}),t(oe,{ref_key:"formRef",ref:S,onSuccess:m},null,512)],64)}}});export{we as default};
