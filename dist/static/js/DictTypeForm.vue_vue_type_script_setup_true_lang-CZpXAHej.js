/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:21:26 
 */
import{d as R,r as u,f as q,g as m,h as A,k as v,o as f,m as o,w as I,a as t,j as s,c as M,F as O,n as $,v as y,t as j,y as z,_ as P,N as Y,z as G}from"./index-5TqN_QR1.js";import{a as H,c as J,u as K}from"./dict.type-CtWUtlUT.js";import{C as D}from"./constants-BPQb3nxh.js";import{c as Q,D as W}from"./dict-B2yk4gHf.js";const le=R({name:"SystemDictTypeForm",__name:"DictTypeForm",emits:["success"],setup(X,{expose:T,emit:C}){const{t:c}=Y(),g=G(),r=u(!1),b=u(""),n=u(!1),V=u(""),l=u({id:void 0,name:"",type:"",status:D.ENABLE,remark:""}),w=q({name:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],type:[{required:!0,message:"字典类型不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}),i=u();T({open:async(d,e)=>{if(r.value=!0,b.value=c(`action.${d}`),V.value=d,F(),e){n.value=!0;try{l.value=await H(e)}finally{n.value=!1}}}});const x=C,E=async()=>{if(!(!i||!await i.value.validate())){n.value=!0;try{const e=l.value;V.value==="create"?(await J(e),g.success(c("common.createSuccess"))):(await K(e),g.success(c("common.updateSuccess"))),r.value=!1,x("success")}finally{n.value=!1}}},F=()=>{l.value={id:void 0,type:"",name:"",status:D.ENABLE,remark:""},i.value?.resetFields()};return(d,e)=>{const _=m("el-input"),p=m("el-form-item"),S=m("el-radio"),N=m("el-radio-group"),U=m("el-form"),k=m("el-button"),B=P,L=A("loading");return f(),v(B,{modelValue:t(r),"onUpdate:modelValue":e[5]||(e[5]=a=>z(r)?r.value=a:null),title:t(b)},{footer:o(()=>[s(k,{disabled:t(n),type:"primary",onClick:E},{default:o(()=>e[6]||(e[6]=[y("确 定")])),_:1},8,["disabled"]),s(k,{onClick:e[4]||(e[4]=a=>r.value=!1)},{default:o(()=>e[7]||(e[7]=[y("取 消")])),_:1})]),default:o(()=>[I((f(),v(U,{ref_key:"formRef",ref:i,"label-width":"80px",model:t(l),rules:t(w)},{default:o(()=>[s(p,{label:"字典名称",prop:"name"},{default:o(()=>[s(_,{modelValue:t(l).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(l).name=a),placeholder:"请输入字典名称"},null,8,["modelValue"])]),_:1}),s(p,{label:"字典类型",prop:"type"},{default:o(()=>[s(_,{modelValue:t(l).type,"onUpdate:modelValue":e[1]||(e[1]=a=>t(l).type=a),disabled:typeof t(l).id<"u",placeholder:"请输入参数名称"},null,8,["modelValue","disabled"])]),_:1}),s(p,{label:"状态",prop:"status"},{default:o(()=>[s(N,{modelValue:t(l).status,"onUpdate:modelValue":e[2]||(e[2]=a=>t(l).status=a)},{default:o(()=>[(f(!0),M(O,null,$(t(Q)(t(W).COMMON_STATUS),a=>(f(),v(S,{key:a.value,label:a.value},{default:o(()=>[y(j(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(p,{label:"备注",prop:"remark"},{default:o(()=>[s(_,{modelValue:t(l).remark,"onUpdate:modelValue":e[3]||(e[3]=a=>t(l).remark=a),placeholder:"请输入内容",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[L,t(n)]])]),_:1},8,["modelValue","title"])}}});export{le as _};
