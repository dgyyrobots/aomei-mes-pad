/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as h,r as p,f as ee,b as te,g as i,h as W,c as k,o as s,j as t,m as l,a as o,J as Y,F as x,n as V,k as m,w as v,v as u,K as ae,t as le,L as oe,M as ne,z as se,N as re}from"./index-BuFigy1A.js";import{_ as ie}from"./DictTag.vue_vue_type_script_lang-DcBSip_F.js";import{_ as pe}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dq4j5fFx.js";import{_ as me}from"./SensitiveWordForm.vue_vue_type_script_setup_true_lang-Drky17Up.js";import{_ as ue}from"./SensitiveWordTestForm.vue_vue_type_script_setup_true_lang-DgWgGYOH.js";import{a as de,b as ce,d as fe,e as _e}from"./index-BJiZkuNL.js";import{c as ge,D as z}from"./dict-Ve5yp9Dm.js";import{d as ve}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./constants-BPQb3nxh.js";const Me=h({name:"SystemSensitiveWord",__name:"index",setup(ye){const C=se(),{t:K}=re(),S=p(!0),D=p(0),F=p([]),n=ee({pageNo:1,pageSize:10,name:void 0,tag:void 0,status:void 0,createTime:[]}),M=p(),T=p(!1),N=p([]),f=async()=>{S.value=!0;try{const r=await ce(n);F.value=r.list,D.value=r.total}finally{S.value=!1}},y=()=>{n.pageNo=1,f()},q=()=>{M.value.resetFields(),y()},$=p(),U=(r,e)=>{$.value.open(r,e)},L=p(),B=()=>{L.value.open()},E=async r=>{try{await C.delConfirm(),await fe(r),C.success(K("common.delSuccess")),await f()}catch(e){console.log(e)}},I=async()=>{try{await C.exportConfirm(),T.value=!0;const r=await _e(n);ve.excel(r,"敏感词.xls")}catch(r){console.log(r)}finally{T.value=!1}};return te(async()=>{await f(),N.value=await de()}),(r,e)=>{const A=i("el-input"),_=i("el-form-item"),P=i("el-option"),R=i("el-select"),H=i("el-date-picker"),g=ae,d=i("el-button"),Q=i("el-form"),O=pe,c=i("el-table-column"),j=ie,J=i("el-tag"),G=i("el-table"),X=ne,b=W("hasPermi"),Z=W("loading");return s(),k(x,null,[t(O,null,{default:l(()=>[t(Q,{ref_key:"queryFormRef",ref:M,class:"-mb-15px",inline:!0,"label-width":"68px",model:o(n)},{default:l(()=>[t(_,{label:"敏感词",prop:"name"},{default:l(()=>[t(A,{modelValue:o(n).name,"onUpdate:modelValue":e[0]||(e[0]=a=>o(n).name=a),class:"!w-240px",clearable:"",placeholder:"请输入敏感词",onKeyup:Y(y,["enter"])},null,8,["modelValue"])]),_:1}),t(_,{label:"标签",prop:"tag"},{default:l(()=>[t(R,{modelValue:o(n).tag,"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).tag=a),class:"!w-240px",clearable:"",placeholder:"请选择标签",onKeyup:Y(y,["enter"])},{default:l(()=>[(s(!0),k(x,null,V(o(N),a=>(s(),m(P,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"状态",prop:"status"},{default:l(()=>[t(R,{modelValue:o(n).status,"onUpdate:modelValue":e[2]||(e[2]=a=>o(n).status=a),clearable:"",placeholder:"请选择启用状态"},{default:l(()=>[(s(!0),k(x,null,V(o(ge)(o(z).COMMON_STATUS),a=>(s(),m(P,{key:a.value,class:"!w-240px",label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"创建时间",prop:"createTime"},{default:l(()=>[t(H,{modelValue:o(n).createTime,"onUpdate:modelValue":e[3]||(e[3]=a=>o(n).createTime=a),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(_,null,{default:l(()=>[t(d,{onClick:y},{default:l(()=>[t(g,{class:"mr-5px",icon:"ep:search"}),e[7]||(e[7]=u(" 搜索 "))]),_:1}),t(d,{onClick:q},{default:l(()=>[t(g,{class:"mr-5px",icon:"ep:refresh"}),e[8]||(e[8]=u(" 重置 "))]),_:1}),v((s(),m(d,{plain:"",type:"primary",onClick:e[4]||(e[4]=a=>U("create"))},{default:l(()=>[t(g,{class:"mr-5px",icon:"ep:plus"}),e[9]||(e[9]=u(" 新增 "))]),_:1})),[[b,["system:sensitive-word:create"]]]),v((s(),m(d,{loading:o(T),plain:"",type:"success",onClick:I},{default:l(()=>[t(g,{class:"mr-5px",icon:"ep:download"}),e[10]||(e[10]=u(" 导出 "))]),_:1},8,["loading"])),[[b,["system:sensitive-word:export"]]]),t(d,{plain:"",type:"warning",onClick:B},{default:l(()=>[t(g,{class:"mr-5px",icon:"ep:document-checked"}),e[11]||(e[11]=u(" 测试 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(O,null,{default:l(()=>[v((s(),m(G,{data:o(F)},{default:l(()=>[t(c,{align:"center",label:"编号",prop:"id"}),t(c,{align:"center",label:"敏感词",prop:"name"}),t(c,{align:"center",label:"状态",prop:"status"},{default:l(a=>[t(j,{type:o(z).COMMON_STATUS,value:a.row.status},null,8,["type","value"])]),_:1}),t(c,{align:"center",label:"描述",prop:"description"}),t(c,{align:"center",label:"标签",prop:"tags"},{default:l(a=>[(s(!0),k(x,null,V(a.row.tags,w=>(s(),m(J,{key:w,class:"mr-5px","disable-transitions":!0},{default:l(()=>[u(le(w),1)]),_:2},1024))),128))]),_:1}),t(c,{align:"center",formatter:o(oe),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),t(c,{align:"center",label:"操作"},{default:l(a=>[v((s(),m(d,{link:"",type:"primary",onClick:w=>U("update",a.row.id)},{default:l(()=>e[12]||(e[12]=[u("编辑")])),_:2},1032,["onClick"])),[[b,["infra:config:update"]]]),v((s(),m(d,{link:"",type:"danger",onClick:w=>E(a.row.id)},{default:l(()=>e[13]||(e[13]=[u("删除")])),_:2},1032,["onClick"])),[[b,["infra:config:delete"]]])]),_:1})]),_:1},8,["data"])),[[Z,o(S)]]),t(X,{limit:o(n).pageSize,"onUpdate:limit":e[5]||(e[5]=a=>o(n).pageSize=a),page:o(n).pageNo,"onUpdate:page":e[6]||(e[6]=a=>o(n).pageNo=a),total:o(D),onPagination:f},null,8,["limit","page","total"])]),_:1}),t(me,{ref_key:"formRef",ref:$,onSuccess:f},null,512),t(ue,{ref_key:"testFormRef",ref:L},null,512)],64)}}});export{Me as default};
