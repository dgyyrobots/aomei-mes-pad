/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{d as Q,r as m,f as j,b as J,g as r,h as C,c as S,o as c,j as e,m as o,a as l,F as D,n as G,k as g,J as P,v,K as W,w as Y,L as U,M as X}from"./index-BdmDrM2Y.js";import{_ as Z}from"./DictTag.vue_vue_type_script_lang-bjcRCBWf.js";import{_ as ee}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CIA3YA7G.js";import{_ as te}from"./index-63l7YclF.js";import{_ as le,g as ae}from"./SocialUserDetail.vue_vue_type_script_setup_true_lang-DQzBY3Ws.js";import{c as oe}from"./index-DAvM7WNv.js";import{c as ne,D as $}from"./dict-Cm-9nniQ.js";import"./color-B5phLuB-.js";const fe=Q({name:"SocialUser",__name:"index",setup(re){const d=m(!0),y=m(0),b=m([]),n=j({pageNo:1,pageSize:10,type:void 0,openid:void 0,nickname:void 0,createTime:[]}),k=m(),_=async()=>{d.value=!0;try{const i=await ae(n);b.value=i.list,y.value=i.total}finally{d.value=!1}},u=()=>{n.pageNo=1,_()},E=()=>{k.value.resetFields(),u()},F=i=>{oe({urlList:[i]})},w=m(),L=i=>{w.value.open(i)};return J(()=>{_()}),(i,a)=>{const M=te,N=r("el-option"),I=r("el-select"),s=r("el-form-item"),x=r("el-input"),h=r("el-date-picker"),V=W,f=r("el-button"),q=r("el-form"),T=ee,K=Z,p=r("el-table-column"),R=r("el-image"),z=r("el-table"),B=X,O=C("hasPermi"),A=C("loading");return c(),S(D,null,[e(M,{title:"三方登录",url:"https://doc.iocoder.cn/social-user/"}),e(T,null,{default:o(()=>[e(q,{ref_key:"queryFormRef",ref:k,class:"-mb-15px",inline:!0,"label-width":"120px",model:l(n)},{default:o(()=>[e(s,{label:"社交平台",prop:"type"},{default:o(()=>[e(I,{modelValue:l(n).type,"onUpdate:modelValue":a[0]||(a[0]=t=>l(n).type=t),class:"!w-240px",clearable:"",placeholder:"请选择社交平台"},{default:o(()=>[(c(!0),S(D,null,G(l(ne)(l($).SYSTEM_SOCIAL_TYPE),t=>(c(),g(N,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"用户昵称",prop:"nickname"},{default:o(()=>[e(x,{modelValue:l(n).nickname,"onUpdate:modelValue":a[1]||(a[1]=t=>l(n).nickname=t),class:"!w-240px",clearable:"",placeholder:"请输入用户昵称",onKeyup:P(u,["enter"])},null,8,["modelValue"])]),_:1}),e(s,{label:"社交 openid",prop:"openid"},{default:o(()=>[e(x,{modelValue:l(n).openid,"onUpdate:modelValue":a[2]||(a[2]=t=>l(n).openid=t),class:"!w-240px",clearable:"",placeholder:"请输入社交 openid",onKeyup:P(u,["enter"])},null,8,["modelValue"])]),_:1}),e(s,{label:"创建时间",prop:"createTime"},{default:o(()=>[e(h,{modelValue:l(n).createTime,"onUpdate:modelValue":a[3]||(a[3]=t=>l(n).createTime=t),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(s,null,{default:o(()=>[e(f,{onClick:u},{default:o(()=>[e(V,{class:"mr-5px",icon:"ep:search"}),a[6]||(a[6]=v(" 搜索 "))]),_:1}),e(f,{onClick:E},{default:o(()=>[e(V,{class:"mr-5px",icon:"ep:refresh"}),a[7]||(a[7]=v(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(T,null,{default:o(()=>[Y((c(),g(z,{data:l(b),"show-overflow-tooltip":!0,stripe:!0},{default:o(()=>[e(p,{align:"center",label:"社交平台",prop:"type"},{default:o(t=>[e(K,{type:l($).SYSTEM_SOCIAL_TYPE,value:t.row.type},null,8,["type","value"])]),_:1}),e(p,{align:"center",label:"社交 openid",prop:"openid"}),e(p,{align:"center",label:"用户昵称",prop:"nickname"}),e(p,{align:"center",label:"用户头像",prop:"avatar"},{default:o(({row:t})=>[e(R,{class:"h-30px w-30px",src:t.avatar,onClick:H=>F(t.avatar)},null,8,["src","onClick"])]),_:1}),e(p,{align:"center",formatter:l(U),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),e(p,{align:"center",formatter:l(U),label:"更新时间",prop:"updateTime",width:"180px"},null,8,["formatter"]),e(p,{align:"center",fixed:"right",label:"操作"},{default:o(t=>[Y((c(),g(f,{link:"",type:"primary",onClick:H=>L(t.row.id)},{default:o(()=>a[8]||(a[8]=[v("详情")])),_:2},1032,["onClick"])),[[O,["system:social-user:query"]]])]),_:1})]),_:1},8,["data"])),[[A,l(d)]]),e(B,{limit:l(n).pageSize,"onUpdate:limit":a[4]||(a[4]=t=>l(n).pageSize=t),page:l(n).pageNo,"onUpdate:page":a[5]||(a[5]=t=>l(n).pageNo=t),total:l(y),onPagination:_},null,8,["limit","page","total"])]),_:1}),e(le,{ref_key:"detailRef",ref:w},null,512)],64)}}});export{fe as default};
