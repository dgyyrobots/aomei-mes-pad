/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 13:49:10 
 */
import{d as M,r as d,f as P,b as Y,g as r,h as z,c as S,o as m,F as $,j as t,m as l,a,v as s,K as H,w as Q,k as b,L as R,M as j}from"./index-BW9ifGp0.js";import{_ as E}from"./ContentWrap.vue_vue_type_script_setup_true_lang-58zNwBTb.js";import{g as K}from"./index-CCsvWnvT.js";const J=M({name:"UserBrokerageList",__name:"UserBrokerageList",props:{bindUserId:{type:Number,required:!0}},setup(v){const p=d(!0),U=d(0),w=d([]),o=P({pageNo:1,pageSize:10,bindUserId:null,level:"",bindUserTime:[]}),k=d(),u=async()=>{p.value=!0;try{o.bindUserId=v.bindUserId;const f=await K(o);w.value=f.list,U.value=f.total}finally{p.value=!1}},_=()=>{o.pageNo=1,u()},I=()=>{k.value?.resetFields(),_()};return Y(()=>{u()}),(f,e)=>{const c=r("el-radio-button"),N=r("el-radio-group"),g=r("el-form-item"),B=r("el-date-picker"),x=H,y=r("el-button"),D=r("el-form"),V=E,i=r("el-table-column"),F=r("el-avatar"),C=r("el-tag"),T=r("el-table"),q=j,L=z("loading");return m(),S($,null,[t(V,null,{default:l(()=>[t(D,{ref_key:"queryFormRef",ref:k,class:"-mb-15px",inline:!0,"label-width":"85px",model:a(o)},{default:l(()=>[t(g,{label:"用户类型",prop:"level"},{default:l(()=>[t(N,{modelValue:a(o).level,"onUpdate:modelValue":e[0]||(e[0]=n=>a(o).level=n),onChange:_},{default:l(()=>[t(c,{checked:""},{default:l(()=>e[4]||(e[4]=[s("全部")])),_:1}),t(c,{label:"1"},{default:l(()=>e[5]||(e[5]=[s("一级推广人")])),_:1}),t(c,{label:"2"},{default:l(()=>e[6]||(e[6]=[s("二级推广人")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"绑定时间",prop:"bindUserTime"},{default:l(()=>[t(B,{modelValue:a(o).bindUserTime,"onUpdate:modelValue":e[1]||(e[1]=n=>a(o).bindUserTime=n),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(g,null,{default:l(()=>[t(y,{onClick:_},{default:l(()=>[t(x,{class:"mr-5px",icon:"ep:search"}),e[7]||(e[7]=s(" 搜索 "))]),_:1}),t(y,{onClick:I},{default:l(()=>[t(x,{class:"mr-5px",icon:"ep:refresh"}),e[8]||(e[8]=s(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(V,null,{default:l(()=>[Q((m(),b(T,{data:a(w),"show-overflow-tooltip":!0,stripe:!0},{default:l(()=>[t(i,{align:"center",label:"用户编号","min-width":"80px",prop:"id"}),t(i,{align:"center",label:"头像",prop:"avatar",width:"70px"},{default:l(n=>[t(F,{src:n.row.avatar},null,8,["src"])]),_:1}),t(i,{align:"center",label:"昵称","min-width":"80px",prop:"nickname"}),t(i,{align:"center",label:"等级","min-width":"80px",prop:"level"},{default:l(n=>[n.row.bindUserId===v.bindUserId?(m(),b(C,{key:0},{default:l(()=>e[9]||(e[9]=[s("一级")])),_:1})):(m(),b(C,{key:1},{default:l(()=>e[10]||(e[10]=[s("二级")])),_:1}))]),_:1}),t(i,{align:"center",formatter:a(R),label:"绑定时间",prop:"bindUserTime",width:"170px"},null,8,["formatter"])]),_:1},8,["data"])),[[L,a(p)]]),t(q,{limit:a(o).pageSize,"onUpdate:limit":e[2]||(e[2]=n=>a(o).pageSize=n),page:a(o).pageNo,"onUpdate:page":e[3]||(e[3]=n=>a(o).pageNo=n),total:a(U),onPagination:u},null,8,["limit","page","total"])]),_:1})],64)}}});export{J as _};
