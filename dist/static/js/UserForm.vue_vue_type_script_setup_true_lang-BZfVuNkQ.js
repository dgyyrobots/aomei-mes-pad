/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{d as N,r as u,f as M,g as m,h as S,k as c,o as p,m as t,w as T,a,j as s,c as $,F as j,n as z,v as k,y as E,_ as q,z as A,N as G}from"./index-lcC3l4R2.js";import{b as H}from"./index-C9UrC2hr.js";import{g as J,u as K}from"./index-mwJvQkK8.js";const Y=N({name:"MpUserForm",__name:"UserForm",emits:["success"],setup(O,{expose:V,emit:b}){const{t:y}=G(),w=A(),n=u(!1),r=u(!1),o=u({id:void 0,nickname:void 0,remark:void 0,tagIds:[]}),I=M({}),i=u(),v=u([]);V({open:async d=>{if(n.value=!0,x(),d){r.value=!0;try{o.value=await J(d)}finally{r.value=!1}}v.value=await H()}});const U=b,F=async()=>{if(!(!i||!await i.value.validate())){r.value=!0;try{await K(o.value),w.success(y("common.updateSuccess")),n.value=!1,U("success")}finally{r.value=!1}}},x=()=>{o.value={id:void 0,nickname:void 0,remark:void 0,tagIds:[]},i.value?.resetFields()};return(d,e)=>{const _=m("el-input"),f=m("el-form-item"),C=m("el-option"),D=m("el-select"),L=m("el-form"),g=m("el-button"),R=q,B=S("loading");return p(),c(R,{modelValue:a(n),"onUpdate:modelValue":e[4]||(e[4]=l=>E(n)?n.value=l:null),title:"修改"},{footer:t(()=>[s(g,{disabled:a(r),type:"primary",onClick:F},{default:t(()=>e[5]||(e[5]=[k("确 定")])),_:1},8,["disabled"]),s(g,{onClick:e[3]||(e[3]=l=>n.value=!1)},{default:t(()=>e[6]||(e[6]=[k("取 消")])),_:1})]),default:t(()=>[T((p(),c(L,{ref_key:"formRef",ref:i,"label-width":"80px",model:a(o),rules:a(I)},{default:t(()=>[s(f,{label:"昵称",prop:"nickname"},{default:t(()=>[s(_,{modelValue:a(o).nickname,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).nickname=l),placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1}),s(f,{label:"备注",prop:"remark"},{default:t(()=>[s(_,{modelValue:a(o).remark,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).remark=l),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1}),s(f,{label:"标签",prop:"tagIds"},{default:t(()=>[s(D,{modelValue:a(o).tagIds,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).tagIds=l),clearable:"",multiple:"",placeholder:"请选择标签"},{default:t(()=>[(p(!0),$(j,null,z(a(v),l=>(p(),c(C,{key:l.tagId,label:l.name,value:l.tagId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[B,a(r)]])]),_:1},8,["modelValue"])}}});export{Y as _};
