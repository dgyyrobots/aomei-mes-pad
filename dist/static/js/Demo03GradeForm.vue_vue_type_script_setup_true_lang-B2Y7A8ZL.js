/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{d as N,r as u,f as T,g as m,h as U,k as V,o as y,m as o,w as $,a,j as i,v as w,y as h,_ as j,N as B,z as S}from"./index-BdC40rFX.js";import{h as z,i as L,j as M}from"./index-Cihcvdfj.js";const K=N({__name:"Demo03GradeForm",emits:["success"],setup(A,{expose:D,emit:k}){const{t:c}=B(),v=S(),l=u(!1),p=u(""),s=u(!1),_=u(""),t=u({id:void 0,studentId:void 0,name:void 0,teacher:void 0}),x=T({studentId:[{required:!0,message:"学生编号不能为空",trigger:"blur"}],name:[{required:!0,message:"名字不能为空",trigger:"blur"}],teacher:[{required:!0,message:"班主任不能为空",trigger:"blur"}]}),f=u();D({open:async(r,e,d)=>{if(l.value=!0,p.value=c(`action.${r}`),_.value=r,F(),t.value.studentId=d,e){s.value=!0;try{t.value=await z(e)}finally{s.value=!1}}}});const C=k,I=async()=>{await f.value.validate(),s.value=!0;try{const r=t.value;_.value==="create"?(await L(r),v.success(c("common.createSuccess"))):(await M(r),v.success(c("common.updateSuccess"))),l.value=!1,C("success")}finally{s.value=!1}},F=()=>{t.value={id:void 0,studentId:void 0,name:void 0,teacher:void 0},f.value?.resetFields()};return(r,e)=>{const d=m("el-input"),g=m("el-form-item"),G=m("el-form"),b=m("el-button"),R=j,q=U("loading");return y(),V(R,{modelValue:a(l),"onUpdate:modelValue":e[3]||(e[3]=n=>h(l)?l.value=n:null),title:a(p)},{footer:o(()=>[i(b,{disabled:a(s),type:"primary",onClick:I},{default:o(()=>e[4]||(e[4]=[w("确 定")])),_:1},8,["disabled"]),i(b,{onClick:e[2]||(e[2]=n=>l.value=!1)},{default:o(()=>e[5]||(e[5]=[w("取 消")])),_:1})]),default:o(()=>[$((y(),V(G,{ref_key:"formRef",ref:f,"label-width":"100px",model:a(t),rules:a(x)},{default:o(()=>[i(g,{label:"名字",prop:"name"},{default:o(()=>[i(d,{modelValue:a(t).name,"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).name=n),placeholder:"请输入名字"},null,8,["modelValue"])]),_:1}),i(g,{label:"班主任",prop:"teacher"},{default:o(()=>[i(d,{modelValue:a(t).teacher,"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).teacher=n),placeholder:"请输入班主任"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,a(s)]])]),_:1},8,["modelValue","title"])}}});export{K as _};
