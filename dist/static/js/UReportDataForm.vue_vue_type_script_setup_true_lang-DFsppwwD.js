/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{V as p,d as I,r as i,f as M,g as m,h as O,k as g,o as f,m as r,w as L,a as t,j as s,c as P,F as j,n as z,v as k,y as A,_ as Y,N as G,z as H}from"./index-D3S9e4gi.js";import{_ as J}from"./style.css_vue_type_style_index_0_src_true_lang-DzOdDvxI.js";import{c as K,D as Q}from"./dict-D5UmY5m8.js";const oe=async o=>await p.get({url:"/report/ureport-data/page",params:o}),W=async o=>await p.get({url:`/report/ureport-data/get?id=${o}`}),X=async o=>await p.post({url:"/report/ureport-data/create",data:o}),Z=async o=>await p.put({url:"/report/ureport-data/update",data:o}),le=async o=>await p.delete({url:`/report/ureport-data/delete?id=${o}`}),re=async o=>await p.download({url:"/report/ureport-data/export-excel",params:o}),se=I({__name:"UReportDataForm",emits:["success"],setup(o,{expose:U,emit:R}){const{t:v}=G(),V=H(),n=i(!1),y=i(""),u=i(!1),b=i(""),l=i({id:void 0,name:void 0,status:void 0,content:void 0,remark:void 0}),x=M({name:[{required:!0,message:"文件名称不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}),_=i();U({open:async(d,e)=>{if(n.value=!0,y.value=v(`action.${d}`),b.value=d,F(),e){u.value=!0;try{l.value=await W(e)}finally{u.value=!1}}}});const C=R,T=async()=>{await _.value.validate(),u.value=!0;try{const d=l.value;b.value==="create"?(await X(d),V.success(v("common.createSuccess"))):(await Z(d),V.success(v("common.updateSuccess"))),n.value=!1,C("success")}finally{u.value=!1}},F=()=>{l.value={id:void 0,name:void 0,status:void 0,content:void 0,remark:void 0},_.value?.resetFields()};return(d,e)=>{const w=m("el-input"),c=m("el-form-item"),$=m("el-option"),N=m("el-select"),S=J,q=m("el-form"),D=m("el-button"),B=Y,E=O("loading");return f(),g(B,{modelValue:t(n),"onUpdate:modelValue":e[5]||(e[5]=a=>A(n)?n.value=a:null),title:t(y)},{footer:r(()=>[s(D,{disabled:t(u),type:"primary",onClick:T},{default:r(()=>e[6]||(e[6]=[k("确 定")])),_:1},8,["disabled"]),s(D,{onClick:e[4]||(e[4]=a=>n.value=!1)},{default:r(()=>e[7]||(e[7]=[k("取 消")])),_:1})]),default:r(()=>[L((f(),g(q,{ref_key:"formRef",ref:_,"label-width":"100px",model:t(l),rules:t(x)},{default:r(()=>[s(c,{label:"文件名称",prop:"name"},{default:r(()=>[s(w,{modelValue:t(l).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(l).name=a),placeholder:"请输入文件名称"},null,8,["modelValue"])]),_:1}),s(c,{label:"状态",prop:"status"},{default:r(()=>[s(N,{modelValue:t(l).status,"onUpdate:modelValue":e[1]||(e[1]=a=>t(l).status=a),placeholder:"请选择状态"},{default:r(()=>[(f(!0),P(j,null,z(t(K)(t(Q).COMMON_STATUS),a=>(f(),g($,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(c,{label:"文件内容",prop:"content"},{default:r(()=>[s(S,{modelValue:t(l).content,"onUpdate:modelValue":e[2]||(e[2]=a=>t(l).content=a),height:"150px"},null,8,["modelValue"])]),_:1}),s(c,{label:"备注",prop:"remark"},{default:r(()=>[s(w,{modelValue:t(l).remark,"onUpdate:modelValue":e[3]||(e[3]=a=>t(l).remark=a),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[E,t(u)]])]),_:1},8,["modelValue","title"])}}});export{se as _,le as d,re as e,oe as g};
