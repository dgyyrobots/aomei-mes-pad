/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{d as $,r as l,g as c,h as B,k as y,o as b,m as n,w as M,a as t,j as d,v as V,y as S,_ as U,N as j,z as q}from"./index-BdC40rFX.js";import{g as z,c as L,u as A}from"./index-Ck5vcNis.js";const K=$({name:"MpTagForm",__name:"TagForm",emits:["success"],setup(E,{expose:w,emit:T}){const{t:f}=j(),p=q(),o=l(!1),v=l(""),s=l(!1),_=l(""),a=l({accountId:-1,name:""}),k={name:[{required:!0,message:"请输入标签名称",trigger:"blur"}]},u=l(null),x=T;w({open:async(r,e,m)=>{if(o.value=!0,v.value=f(`action.${r}`),_.value=r,F(),a.value.accountId=e,m){s.value=!0;try{a.value=await z(m)}finally{s.value=!1}}}});const C=async()=>{if(!(!u||!await u.value?.validate())){s.value=!0;try{const e=a.value;_.value==="create"?(await L(e),p.success(f("common.createSuccess"))):(await A(e),p.success(f("common.updateSuccess"))),o.value=!1,x("success")}finally{s.value=!1}}},F=()=>{a.value={accountId:-1,name:""},u.value?.resetFields()};return(r,e)=>{const m=c("el-input"),D=c("el-form-item"),I=c("el-form"),g=c("el-button"),R=U,N=B("loading");return b(),y(R,{modelValue:t(o),"onUpdate:modelValue":e[2]||(e[2]=i=>S(o)?o.value=i:null),title:t(v)},{footer:n(()=>[d(g,{disabled:t(s),type:"primary",onClick:C},{default:n(()=>e[3]||(e[3]=[V("确 定")])),_:1},8,["disabled"]),d(g,{onClick:e[1]||(e[1]=i=>o.value=!1)},{default:n(()=>e[4]||(e[4]=[V("取 消")])),_:1})]),default:n(()=>[M((b(),y(I,{ref_key:"formRef",ref:u,"label-width":"80px",model:t(a),rules:k},{default:n(()=>[d(D,{label:"标签名称",prop:"name"},{default:n(()=>[d(m,{modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=i=>t(a).name=i),placeholder:"请输入标签名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[N,t(s)]])]),_:1},8,["modelValue","title"])}}});export{K as _};
