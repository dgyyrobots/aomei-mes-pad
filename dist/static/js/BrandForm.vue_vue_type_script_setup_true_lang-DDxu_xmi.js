/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{d as q,r as i,f as A,g as n,h as M,k as _,o as c,m as a,w as O,a as t,j as s,c as $,F as P,n as j,v,t as z,y as Y,_ as G,N as H,z as J}from"./index-lcC3l4R2.js";import{_ as K}from"./UploadImg-CCDcPQew.js";import{a as Q,c as W,u as X}from"./brand-1eXc23Dc.js";import{C as B}from"./constants-BPQb3nxh.js";import{c as Z,D as h}from"./dict-B7jb0IEc.js";const re=q({name:"ProductBrandForm",__name:"BrandForm",emits:["success"],setup(ee,{expose:w,emit:C}){const{t:f}=H(),g=J(),r=i(!1),V=i(""),u=i(!1),b=i(""),o=i({id:void 0,name:"",picUrl:"",status:B.ENABLE,description:""}),k=A({name:[{required:!0,message:"品牌名称不能为空",trigger:"blur"}],picUrl:[{required:!0,message:"品牌图片不能为空",trigger:"blur"}],sort:[{required:!0,message:"品牌排序不能为空",trigger:"blur"}]}),d=i();w({open:async(p,e)=>{if(r.value=!0,V.value=f(`action.${p}`),b.value=p,E(),e){u.value=!0;try{o.value=await Q(e)}finally{u.value=!1}}}});const D=C,x=async()=>{if(!(!d||!await d.value.validate())){u.value=!0;try{const e=o.value;b.value==="create"?(await W(e),g.success(f("common.createSuccess"))):(await X(e),g.success(f("common.updateSuccess"))),r.value=!1,D("success")}finally{u.value=!1}}},E=()=>{o.value={id:void 0,name:"",picUrl:"",status:B.ENABLE,description:""},d.value?.resetFields()};return(p,e)=>{const U=n("el-input"),m=n("el-form-item"),F=K,T=n("el-input-number"),N=n("el-radio"),S=n("el-radio-group"),I=n("el-form"),y=n("el-button"),L=G,R=M("loading");return c(),_(L,{modelValue:t(r),"onUpdate:modelValue":e[6]||(e[6]=l=>Y(r)?r.value=l:null),title:t(V)},{footer:a(()=>[s(y,{disabled:t(u),type:"primary",onClick:x},{default:a(()=>e[7]||(e[7]=[v("确 定")])),_:1},8,["disabled"]),s(y,{onClick:e[5]||(e[5]=l=>r.value=!1)},{default:a(()=>e[8]||(e[8]=[v("取 消")])),_:1})]),default:a(()=>[O((c(),_(I,{ref_key:"formRef",ref:d,"label-width":"80px",model:t(o),rules:t(k)},{default:a(()=>[s(m,{label:"品牌名称",prop:"name"},{default:a(()=>[s(U,{modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).name=l),placeholder:"请输入品牌名称"},null,8,["modelValue"])]),_:1}),s(m,{label:"品牌图片",prop:"picUrl"},{default:a(()=>[s(F,{modelValue:t(o).picUrl,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).picUrl=l),"is-show-tip":!1,limit:1},null,8,["modelValue"])]),_:1}),s(m,{label:"品牌排序",prop:"sort"},{default:a(()=>[s(T,{modelValue:t(o).sort,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).sort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),s(m,{label:"品牌状态",prop:"status"},{default:a(()=>[s(S,{modelValue:t(o).status,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).status=l)},{default:a(()=>[(c(!0),$(P,null,j(t(Z)(t(h).COMMON_STATUS),l=>(c(),_(N,{key:l.value,label:l.value},{default:a(()=>[v(z(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(m,{label:"品牌描述"},{default:a(()=>[s(U,{modelValue:t(o).description,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).description=l),placeholder:"请输入品牌描述",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[R,t(u)]])]),_:1},8,["modelValue","title"])}}});export{re as _};
