/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{b as B}from"./spu-Wk_UdoYF.js";import{d as C,r as o,Y as g,b as T,g as w,k as z,o as s,m as L,i as y,q as p,a,c as i,F as S,n as _,l as f,j as b,p as W,t as x}from"./index-BuFigy1A.js";const N={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},F=C({name:"ProductList",__name:"index",props:{property:{}},setup(R){const r=R,l=o([]);g(()=>r.property.spuIds,async()=>{l.value=await B(r.property.spuIds)},{immediate:!0,deep:!0});const n=o(375),v=o(),t=o(2),u=o("100%"),c=o("0"),d=o("");return g(()=>[r.property,n,l.value.length],()=>{t.value=r.property.layoutType==="twoCol"?2:3;const e=(n.value-r.property.space*(t.value-1))/t.value;c.value=t.value===2?"64px":`${e}px`,r.property.layoutType==="horizSwiper"?(d.value=`repeat(auto-fill, ${e}px)`,u.value=`${e*l.value.length+r.property.space*(l.value.length-1)}px`):(d.value=`repeat(${t.value}, auto)`,u.value="100%")},{immediate:!0,deep:!0}),T(()=>{n.value=v.value?.wrapRef?.offsetWidth||375}),(e,V)=>{const h=w("el-image"),k=w("el-scrollbar");return s(),z(k,{ref_key:"containerRef",ref:v,class:"z-1 min-h-30px","wrap-class":"w-full"},{default:L(()=>[y("div",{class:"grid overflow-x-auto",style:p({gridGap:`${e.property.space}px`,gridTemplateColumns:a(d),width:a(u)})},[(s(!0),i(S,null,_(a(l),(m,$)=>(s(),i("div",{key:$,class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:p({borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`})},[e.property.badge.show?(s(),i("div",N,[b(h,{class:"h-26px w-38px",fit:"cover",src:e.property.badge.imgUrl},null,8,["src"])])):f("",!0),b(h,{fit:"cover",src:m.picUrl,style:p({width:a(c),height:a(c)})},null,8,["src","style"]),y("div",{class:W(["flex flex-col gap-8px p-8px box-border",{"w-[calc(100%-64px)]":a(t)===2,"w-full":a(t)===3}])},[e.property.fields.name.show?(s(),i("div",{key:0,class:"truncate text-12px",style:p({color:e.property.fields.name.color})},x(m.name),5)):f("",!0),y("div",null,[e.property.fields.price.show?(s(),i("span",{key:0,class:"text-12px",style:p({color:e.property.fields.price.color})}," ï¿¥"+x(m.price),5)):f("",!0)])],2)],4))),128))],4)]),_:1},512)}}});export{F as default};
