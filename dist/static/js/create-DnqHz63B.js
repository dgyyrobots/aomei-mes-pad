/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{c as D,D as B}from"./dict-C9lD-gwA.js";import{c as E}from"./index-BaTc8mKP.js";import{d as L,ac as R,u as q,r as i,f as U,g as n,h as A,w as F,a as e,o as d,k as c,m as r,j as o,c as O,F as P,n as h,v as I,z as M}from"./index-FPuwcz_Y.js";const S=L({name:"BpmOALeaveCreate",__name:"create",setup(N){const f=M(),{delView:_}=R(),{currentRoute:v}=q(),u=i(!1),l=i({type:void 0,reason:void 0,startTime:void 0,endTime:void 0}),g=U({type:[{required:!0,message:"请假类型不能为空",trigger:"blur"}],reason:[{required:!0,message:"请假原因不能为空",trigger:"change"}],startTime:[{required:!0,message:"请假开始时间不能为空",trigger:"change"}],endTime:[{required:!0,message:"请假结束时间不能为空",trigger:"change"}]}),m=i(),b=async()=>{if(!(!m||!await m.value.validate())){u.value=!0;try{const t=l.value;await E(t),f.success("发起成功"),_(e(v))}finally{u.value=!1}}};return(V,t)=>{const y=n("el-option"),T=n("el-select"),s=n("el-form-item"),p=n("el-date-picker"),k=n("el-input"),w=n("el-button"),x=n("el-form"),C=A("loading");return F((d(),c(x,{ref_key:"formRef",ref:m,"label-width":"80px",model:e(l),rules:e(g)},{default:r(()=>[o(s,{label:"请假类型",prop:"type"},{default:r(()=>[o(T,{modelValue:e(l).type,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).type=a),clearable:"",placeholder:"请选择请假类型"},{default:r(()=>[(d(!0),O(P,null,h(e(D)(e(B).BPM_OA_LEAVE_TYPE),a=>(d(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"开始时间",prop:"startTime"},{default:r(()=>[o(p,{modelValue:e(l).startTime,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).startTime=a),clearable:"",placeholder:"请选择开始时间",type:"datetime","value-format":"x"},null,8,["modelValue"])]),_:1}),o(s,{label:"结束时间",prop:"endTime"},{default:r(()=>[o(p,{modelValue:e(l).endTime,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).endTime=a),clearable:"",placeholder:"请选择结束时间",type:"datetime","value-format":"x"},null,8,["modelValue"])]),_:1}),o(s,{label:"原因",prop:"reason"},{default:r(()=>[o(k,{modelValue:e(l).reason,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).reason=a),placeholder:"请输请假原因",type:"textarea"},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[o(w,{disabled:e(u),type:"primary",onClick:b},{default:r(()=>t[4]||(t[4]=[I("确 定")])),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"])),[[C,e(u)]])}}});export{S as default};
