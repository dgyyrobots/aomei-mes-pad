/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 15:23:48 
 */
import{a1 as _e,cJ as ct,dU as ft,cE as ut,c as ht,bW as gt,bX as vt,aO as mt,bU as pt,a3 as wt,O as we,dV as Ge,a as yt,cv as Xe,g as te,d as je,ap as xt,b8 as St,dW as Tt,dX as bt,cF as Mt,dY as Lt,dZ as Ct,bw as It,aB as He,d_ as Et,b0 as _t,ca as Ne,b9 as kt,d$ as Pt,e0 as Ot,e1 as At,e2 as Rt,aF as zt,e3 as Ft,e4 as Dt,m as Wt,B as ye,e5 as Bt,d3 as Yt,e6 as $t,G as Gt,bq as Xt,e7 as jt,aC as Ht,b3 as Nt,a0 as Ut,aU as Vt,e8 as qt,aj as Zt,e9 as Kt,by as Jt,ea as Qt,eb as ea,cB as ta,ec as aa,ed as ra,bL as na,cS as ia,aD as xe,ee as oa,bK as sa,bS as la,ef as da,eg as ca,k as Se,eh as fa,ei as Ue,d2 as ua,ej as ha,ek as ga,el as va,em as ma,en as pa,eo as wa,a6 as ya,ci as xa,x as Sa,n as Ta,w as ne,A as ba,ao as ae,N as Te,ep as Ma,F as Ve,L as be,be as La,M as Ca,D as Ia,cc as Ea,bF as _a,bT as Me,c4 as Le,S as Ce,C as Ie,z as ke,eq as ka,bv as Pa,E as Oa,v as ze,er as Aa,es as Ra,et as za,eu as Fa,aX as Da,aY as Wa,ev as Fe,ew as Ba,ex as Ya,bh as $a,ey as Ga,u as ie,dz as qe,dS as Xa,K as Ze,ez as Ke,eA as Je,bV as ja,eB as Ha,eC as Na,eD as Ua,eE as Va,eF as qa,eG as Za,eH as Ka,eI as Ja,cC as Qa,eJ as er,eK as tr,eL as ar,eM as rr,dx as nr,eN as ir,eO as or,eP as De,eQ as sr,eR as lr,eS as dr,eT as cr,dT as fr,eU as ur,eV as hr,eW as gr,eX as vr,eY as mr,eZ as pr,e_ as wr,e$ as yr,f0 as xr,dy as Sr,f1 as Tr,f2 as br,f3 as Mr,f4 as Lr,dN as Cr,dM as Ir,dL as Er,dK as _r,dH as kr,dI as Pr,dR as Or,b2 as Ar,dO as Rr,dB as zr,dA as Fr,dC as Dr,dE as Wr,dG as Br,dD as Yr,dF as $r}from"./install-DNIeUnSy.js";import{d as Gr,az as We,ad as Xr,O as J,a as Y,r as Be,aO as Ye,Y as jr,d7 as Hr,b as Nr,as as Ur,bA as Vr,I as qr,c as Zr,o as Kr,q as Jr,p as Qr}from"./index-C8VsLzxx.js";function en(o,t,a,r,e,l,s,n){var f=new _e({style:{text:o,font:t,align:a,verticalAlign:r,padding:e,rich:l,overflow:s?"truncate":null,lineHeight:n}});return f.getBoundingRect()}function tn(o){return ht(null,o)}var an={isDimensionStacked:ut,enableDataStack:ft,getStackedDimension:ct};function rn(o,t){var a=t;t instanceof we||(a=new we(t));var r=gt(a);return r.setExtent(o[0],o[1]),vt(r,a),r}function nn(o){mt(o,pt)}function re(o,t){return t=t||{},wt(o,null,null,t.state!=="normal")}const on=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:Ge,createList:tn,createScale:rn,createSymbol:yt,createTextStyle:re,dataStack:an,enableHoverEmphasis:Xe,getECData:te,getLayoutRect:je,mixinAxisModelCommonMethods:nn},Symbol.toStringTag,{value:"Module"})),sn=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:xt,asc:St,getPercentWithPrecision:Tt,getPixelPrecision:bt,getPrecision:Mt,getPrecisionSafe:Lt,isNumeric:Ct,isRadianAroundZero:It,linearMap:He,nice:Et,numericToNumber:_t,parseDate:Ne,quantile:kt,quantity:Pt,quantityExponent:Ot,reformIntervals:At,remRadian:Rt,round:zt},Symbol.toStringTag,{value:"Module"})),ln=Object.freeze(Object.defineProperty({__proto__:null,format:Ft,parse:Ne},Symbol.toStringTag,{value:"Module"})),dn=Object.freeze(Object.defineProperty({__proto__:null,Arc:Dt,BezierCurve:Wt,BoundingRect:ye,Circle:Bt,CompoundPath:Yt,Ellipse:$t,Group:Gt,Image:Xt,IncrementalDisplayable:jt,Line:Ht,LinearGradient:Nt,Polygon:Ut,Polyline:Vt,RadialGradient:qt,Rect:Zt,Ring:Kt,Sector:Jt,Text:_e,clipPointsByRect:Qt,clipRectByRect:ea,createIcon:ta,extendPath:aa,extendShape:ra,getShapeClass:na,getTransform:ia,initProps:xe,makeImage:oa,makePath:sa,mergePath:la,registerShape:da,resizePath:ca,updateProps:Se},Symbol.toStringTag,{value:"Module"})),cn=Object.freeze(Object.defineProperty({__proto__:null,addCommas:fa,capitalFirst:Ue,encodeHTML:ua,formatTime:ha,formatTpl:ga,getTextRect:en,getTooltipMarker:va,normalizeCssArray:ma,toCamelCase:pa,truncateText:wa},Symbol.toStringTag,{value:"Module"})),fn=Object.freeze(Object.defineProperty({__proto__:null,bind:ya,clone:xa,curry:Sa,defaults:Ta,each:ne,extend:ba,filter:ae,indexOf:Te,inherits:Ma,isArray:Ve,isFunction:be,isObject:La,isString:Ca,map:Ia,merge:Ea,reduce:_a},Symbol.toStringTag,{value:"Module"}));function un(o){var t=Me.extend(o);return Me.registerClass(t),t}function hn(o){var t=Le.extend(o);return Le.registerClass(t),t}function Qe(o){var t=Ce.extend(o);return Ce.registerClass(t),t}function et(o){var t=Ie.extend(o);return Ie.registerClass(t),t}function gn(o){if(o){for(var t=[],a=0;a<o.length;a++)t.push(o[a].slice());return t}}function vn(o,t){var a=o.label,r=t&&t.getTextGuideLine();return{dataIndex:o.dataIndex,dataType:o.dataType,seriesIndex:o.seriesModel.seriesIndex,text:o.label.style.text,rect:o.hostRect,labelRect:o.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:gn(r&&r.shape.points)}}var $e=["align","verticalAlign","width","height","fontSize"],D=new ka,me=ke(),mn=ke();function Q(o,t,a){for(var r=0;r<a.length;r++){var e=a[r];t[e]!=null&&(o[e]=t[e])}}var ee=["x","y","rotation"],pn=function(){function o(){this._labelList=[],this._chartViewList=[]}return o.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},o.prototype._addLabel=function(t,a,r,e,l){var s=e.style,n=e.__hostTarget,f=n.textConfig||{},g=e.getComputedTransform(),u=e.getBoundingRect().plain();ye.applyTransform(u,u,g),g?D.setLocalTransform(g):(D.x=D.y=D.rotation=D.originX=D.originY=0,D.scaleX=D.scaleY=1),D.rotation=Pa(D.rotation);var I=e.__hostTarget,v;if(I){v=I.getBoundingRect().plain();var M=I.getComputedTransform();ye.applyTransform(v,v,M)}var b=v&&I.getTextGuideLine();this._labelList.push({label:e,labelLine:b,seriesModel:r,dataIndex:t,dataType:a,layoutOption:l,computedLayoutOption:null,rect:u,hostRect:v,priority:v?v.width*v.height:0,defaultAttr:{ignore:e.ignore,labelGuideIgnore:b&&b.ignore,x:D.x,y:D.y,scaleX:D.scaleX,scaleY:D.scaleY,rotation:D.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:e.cursor,attachedPos:f.position,attachedRot:f.rotation}})},o.prototype.addLabelsOfSeries=function(t){var a=this;this._chartViewList.push(t);var r=t.__model,e=r.get("labelLayout");(be(e)||Oa(e).length)&&t.group.traverse(function(l){if(l.ignore)return!0;var s=l.getTextContent(),n=te(l);s&&!s.disableLabelLayout&&a._addLabel(n.dataIndex,n.dataType,r,s,e)})},o.prototype.updateLayoutConfig=function(t){var a=t.getWidth(),r=t.getHeight();function e(q,j){return function(){Fe(q,j)}}for(var l=0;l<this._labelList.length;l++){var s=this._labelList[l],n=s.label,f=n.__hostTarget,g=s.defaultAttr,u=void 0;be(s.layoutOption)?u=s.layoutOption(vn(s,f)):u=s.layoutOption,u=u||{},s.computedLayoutOption=u;var I=Math.PI/180;f&&f.setTextConfig({local:!1,position:u.x!=null||u.y!=null?null:g.attachedPos,rotation:u.rotate!=null?u.rotate*I:g.attachedRot,offset:[u.dx||0,u.dy||0]});var v=!1;if(u.x!=null?(n.x=ze(u.x,a),n.setStyle("x",0),v=!0):(n.x=g.x,n.setStyle("x",g.style.x)),u.y!=null?(n.y=ze(u.y,r),n.setStyle("y",0),v=!0):(n.y=g.y,n.setStyle("y",g.style.y)),u.labelLinePoints){var M=f.getTextGuideLine();M&&(M.setShape({points:u.labelLinePoints}),v=!1)}var b=me(n);b.needsUpdateLabelLine=v,n.rotation=u.rotate!=null?u.rotate*I:g.rotation,n.scaleX=g.scaleX,n.scaleY=g.scaleY;for(var A=0;A<$e.length;A++){var x=$e[A];n.setStyle(x,u[x]!=null?u[x]:g.style[x])}if(u.draggable){if(n.draggable=!0,n.cursor="move",f){var R=s.seriesModel;if(s.dataIndex!=null){var $=s.seriesModel.getData(s.dataType);R=$.getItemModel(s.dataIndex)}n.on("drag",e(f,R.getModel("labelLine")))}}else n.off("drag"),n.cursor=g.cursor}},o.prototype.layout=function(t){var a=t.getWidth(),r=t.getHeight(),e=Aa(this._labelList),l=ae(e,function(f){return f.layoutOption.moveOverlap==="shiftX"}),s=ae(e,function(f){return f.layoutOption.moveOverlap==="shiftY"});Ra(l,0,a),za(s,0,r);var n=ae(e,function(f){return f.layoutOption.hideOverlap});Fa(n)},o.prototype.processLabelsOverall=function(){var t=this;ne(this._chartViewList,function(a){var r=a.__model,e=a.ignoreLabelLineUpdate,l=r.isAnimationEnabled();a.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var n=!e,f=s.getTextContent();!n&&f&&(n=me(f).needsUpdateLabelLine),n&&t._updateLabelLine(s,r),l&&t._animateLabels(s,r)})})},o.prototype._updateLabelLine=function(t,a){var r=t.getTextContent(),e=te(t),l=e.dataIndex;if(r&&l!=null){var s=a.getData(e.dataType),n=s.getItemModel(l),f={},g=s.getItemVisual(l,"style");if(g){var u=s.getVisual("drawType");f.stroke=g[u]}var I=n.getModel("labelLine");Da(t,Wa(n),f),Fe(t,I)}},o.prototype._animateLabels=function(t,a){var r=t.getTextContent(),e=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Ba(t))){var l=me(r),s=l.oldLayout,n=te(t),f=n.dataIndex,g={x:r.x,y:r.y,rotation:r.rotation},u=a.getData(n.dataType);if(s){r.attr(s);var v=t.prevStates;v&&(Te(v,"select")>=0&&r.attr(l.oldLayoutSelect),Te(v,"emphasis")>=0&&r.attr(l.oldLayoutEmphasis)),Se(r,g,a,f)}else if(r.attr(g),!Ya(r).valueAnimation){var I=$a(r.style.opacity,1);r.style.opacity=0,xe(r,{style:{opacity:I}},a,f)}if(l.oldLayout=g,r.states.select){var M=l.oldLayoutSelect={};Q(M,g,ee),Q(M,r.states.select,ee)}if(r.states.emphasis){var b=l.oldLayoutEmphasis={};Q(b,g,ee),Q(b,r.states.emphasis,ee)}Ga(r,f,u,a,a)}if(e&&!e.ignore&&!e.invisible){var l=mn(e),s=l.oldLayout,A={points:e.shape.points};s?(e.attr({shape:s}),Se(e,{shape:A},a)):(e.setShape(A),e.style.strokePercent=0,xe(e,{style:{strokePercent:1}},a)),l.oldLayout=A}},o}(),pe=ke();function wn(o){o.registerUpdateLifecycle("series:beforeupdate",function(t,a,r){var e=pe(a).labelManager;e||(e=pe(a).labelManager=new pn),e.clearLabels()}),o.registerUpdateLifecycle("series:layoutlabels",function(t,a,r){var e=pe(a).labelManager;r.updatedSeries.forEach(function(l){e.addLabelsOfSeries(a.getViewOfSeriesModel(l))}),e.updateLayoutConfig(a),e.layout(a),e.processLabelsOverall()})}ie([qe,Xa]);ie(wn);Qe({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(o){return{fill:o.get("color")}},visualDrawType:"fill",optionUpdated:function(){var o=this.option;o.gridSize=Math.max(Math.floor(o.gridSize),4)},getInitialData:function(o,t){var a=Ge(o.data,{coordDimensions:["value"]}),r=new Ze(a,this);return r.initData(o.data),r},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}});et({type:"wordCloud",render:function(o,t,a){var r=this.group;r.removeAll();var e=o.getData(),l=o.get("gridSize");o.layoutInstance.ondraw=function(s,n,f,g){var u=e.getItemModel(f),I=u.getModel("textStyle"),v=new _e({style:re(I),scaleX:1/g.info.mu,scaleY:1/g.info.mu,x:(g.gx+g.info.gw/2)*l,y:(g.gy+g.info.gh/2)*l,rotation:g.rot});v.setStyle({x:g.info.fillTextOffsetX,y:g.info.fillTextOffsetY+n*.5,text:s,verticalAlign:"middle",fill:e.getItemVisual(f,"style").fill,fontSize:n}),r.add(v),e.setItemGraphicEl(f,v),v.ensureState("emphasis").style=re(u.getModel(["emphasis","textStyle"]),{state:"emphasis"}),v.ensureState("blur").style=re(u.getModel(["blur","textStyle"]),{state:"blur"}),Xe(v,u.get(["emphasis","focus"]),u.get(["emphasis","blurScope"])),v.stateTransition={duration:o.get("animation")?o.get(["stateAnimation","duration"]):0,easing:o.get(["stateAnimation","easing"])},v.__highDownDispatcher=!0},this._model=o},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var a=[void 0],r="zero-timeout-message",e=function(s){var n=a.length;return a.push(s),window.postMessage(r+n.toString(36),"*"),n};return window.addEventListener("message",function(s){if(!(typeof s.data!="string"||s.data.substr(0,r.length)!==r)){s.stopImmediatePropagation();var n=parseInt(s.data.substr(r.length),36);a[n]&&(a[n](),a[n]=void 0)}},!0),window.clearImmediate=function(s){a[s]&&(a[s]=void 0)},e}()||function(a){window.setTimeout(a,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(a){window.clearTimeout(a)}}());var Pe=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var a=t.getContext("2d");return!(!a||!a.getImageData||!a.fillText||!Array.prototype.some||!Array.prototype.push)}(),Ee=function(){if(Pe){for(var t=document.createElement("canvas").getContext("2d"),a=20,r,e;a;){if(t.font=a.toString(10)+"px sans-serif",t.measureText("Ｗ").width===r&&t.measureText("m").width===e)return a+1;r=t.measureText("Ｗ").width,e=t.measureText("m").width,a--}return 0}}(),yn=function(o){if(Array.isArray(o)){var t=o.slice();return t.splice(0,2),t}else return[]},xn=function(t){for(var a,r,e=t.length;e;)a=Math.floor(Math.random()*e),r=t[--e],t[e]=t[a],t[a]=r;return t},U={},oe=function(t,a){if(!Pe)return;var r=Math.floor(Math.random()*Date.now());Array.isArray(t)||(t=[t]),t.forEach(function(w,i){if(typeof w=="string"){if(t[i]=document.getElementById(w),!t[i])throw new Error("The element id specified is not found.")}else if(!w.tagName&&!w.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var e={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(a)for(var l in a)l in e&&(e[l]=a[l]);if(typeof e.weightFactor!="function"){var s=e.weightFactor;e.weightFactor=function(i){return i*s}}if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(i){return 1-Math.sin(i)};break;case"diamond":e.shape=function(i){var d=i%(2*Math.PI/4);return 1/(Math.cos(d)+Math.sin(d))};break;case"square":e.shape=function(i){return Math.min(1/Math.abs(Math.cos(i)),1/Math.abs(Math.sin(i)))};break;case"triangle-forward":e.shape=function(i){var d=i%(2*Math.PI/3);return 1/(Math.cos(d)+Math.sqrt(3)*Math.sin(d))};break;case"triangle":case"triangle-upright":e.shape=function(i){var d=(i+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(d)+Math.sqrt(3)*Math.sin(d))};break;case"pentagon":e.shape=function(i){var d=(i+.955)%(2*Math.PI/5);return 1/(Math.cos(d)+.726543*Math.sin(d))};break;case"star":e.shape=function(i){var d=(i+.955)%(2*Math.PI/10);return(i+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-d)+3.07768*Math.sin(2*Math.PI/10-d)):1/(Math.cos(d)+3.07768*Math.sin(d))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var n=e.gridSize,f=n-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),u=Math.min(e.maxRotation,e.minRotation),I=e.rotationStep,v,M,b,A,x,R,$;function q(w,i){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(i-w)+w).toFixed()+"%)"}switch(e.color){case"random-dark":$=function(){return q(10,50)};break;case"random-light":$=function(){return q(50,90)};break;default:typeof e.color=="function"&&($=e.color);break}var j;typeof e.fontWeight=="function"&&(j=e.fontWeight);var se=null;typeof e.classes=="function"&&(se=e.classes);var le=!1,Z=[],de,Oe=function(i){var d=i.currentTarget,c=d.getBoundingClientRect(),m,h;i.touches?(m=i.touches[0].clientX,h=i.touches[0].clientY):(m=i.clientX,h=i.clientY);var p=m-c.left,_=h-c.top,S=Math.floor(p*(d.width/c.width||1)/n),T=Math.floor(_*(d.height/c.height||1)/n);return Z[S]?Z[S][T]:null},Ae=function(i){var d=Oe(i);if(de!==d){if(de=d,!d){e.hover(void 0,void 0,i);return}e.hover(d.item,d.dimension,i)}},ce=function(i){var d=Oe(i);d&&(e.click(d.item,d.dimension,i),i.preventDefault())},fe=[],tt=function(i){if(fe[i])return fe[i];var d=i*8,c=d,m=[];for(i===0&&m.push([A[0],A[1],0]);c--;){var h=1;e.shape!=="circle"&&(h=e.shape(c/d*2*Math.PI)),m.push([A[0]+i*h*Math.cos(-c/d*2*Math.PI),A[1]+i*h*Math.sin(-c/d*2*Math.PI)*e.ellipticity,c/d*2*Math.PI])}return fe[i]=m,m},ue=function(){return e.abortThreshold>0&&new Date().getTime()-R>e.abortThreshold},at=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?u:u+Math.round(Math.random()*g/I)*I},rt=function(i,d,c,m){var h=e.weightFactor(d);if(h<=e.minSize)return!1;var p=1;h<Ee&&(p=function(){for(var ve=2;ve*h<Ee;)ve+=2;return ve}());var _;j?_=j(i,d,h,m):_=e.fontWeight;var S=document.createElement("canvas"),T=S.getContext("2d",{willReadFrequently:!0});T.font=_+" "+(h*p).toString(10)+"px "+e.fontFamily;var z=T.measureText(i).width/p,L=Math.max(h*p,T.measureText("m").width,T.measureText("Ｗ").width)/p,C=z+L*2,P=L*3,F=Math.ceil(C/n),W=Math.ceil(P/n);C=F*n,P=W*n;var k=-z/2,y=-L*.4,E=Math.ceil((C*Math.abs(Math.sin(c))+P*Math.abs(Math.cos(c)))/n),O=Math.ceil((C*Math.abs(Math.cos(c))+P*Math.abs(Math.sin(c)))/n),B=O*n,N=E*n;S.setAttribute("width",B),S.setAttribute("height",N),T.scale(1/p,1/p),T.translate(B*p/2,N*p/2),T.rotate(-c),T.font=_+" "+(h*p).toString(10)+"px "+e.fontFamily,T.fillStyle="#000",T.textBaseline="middle",T.fillText(i,k*p,(y+h*.5)*p);var K=T.getImageData(0,0,B,N).data;if(ue())return!1;for(var Re=[],H=O,X,he,ge,G=[E/2,O/2,E/2,O/2];H--;)for(X=E;X--;){ge=n;e:for(;ge--;)for(he=n;he--;)if(K[((X*n+ge)*B+(H*n+he))*4+3]){Re.push([H,X]),H<G[3]&&(G[3]=H),H>G[1]&&(G[1]=H),X<G[0]&&(G[0]=X),X>G[2]&&(G[2]=X);break e}}return{mu:p,occupied:Re,bounds:G,gw:O,gh:E,fillTextOffsetX:k,fillTextOffsetY:y,fillTextWidth:z,fillTextHeight:L,fontSize:h}},nt=function(i,d,c,m,h){for(var p=h.length;p--;){var _=i+h[p][0],S=d+h[p][1];if(_>=M||S>=b||_<0||S<0){if(!e.drawOutOfBound)return!1;continue}if(!v[_][S])return!1}return!0},it=function(i,d,c,m,h,p,_,S,T,z){var L=c.fontSize,C;$?C=$(m,h,L,p,_,z):C=e.color;var P;j?P=j(m,h,L,z):P=e.fontWeight;var F;se?F=se(m,h,L,z):F=e.classes,t.forEach(function(W){if(W.getContext){var k=W.getContext("2d"),y=c.mu;k.save(),k.scale(1/y,1/y),k.font=P+" "+(L*y).toString(10)+"px "+e.fontFamily,k.fillStyle=C,k.translate((i+c.gw/2)*n*y,(d+c.gh/2)*n*y),S!==0&&k.rotate(-S),k.textBaseline="middle",k.fillText(m,c.fillTextOffsetX*y,(c.fillTextOffsetY+L*.5)*y),k.restore()}else{var E=document.createElement("span"),O="";O="rotate("+-S/Math.PI*180+"deg) ",c.mu!==1&&(O+="translateX(-"+c.fillTextWidth/4+"px) scale("+1/c.mu+")");var B={position:"absolute",display:"block",font:P+" "+L*c.mu+"px "+e.fontFamily,left:(i+c.gw/2)*n+c.fillTextOffsetX+"px",top:(d+c.gh/2)*n+c.fillTextOffsetY+"px",width:c.fillTextWidth+"px",height:c.fillTextHeight+"px",lineHeight:L+"px",whiteSpace:"nowrap",transform:O,webkitTransform:O,msTransform:O,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};C&&(B.color=C),E.textContent=m;for(var N in B)E.style[N]=B[N];if(T)for(var K in T)E.setAttribute(K,T[K]);F&&(E.className+=F),W.appendChild(E)}})},ot=function(i,d,c,m,h){if(!(i>=M||d>=b||i<0||d<0)){if(v[i][d]=!1,c){var p=t[0].getContext("2d");p.fillRect(i*n,d*n,f,f)}le&&(Z[i][d]={item:h,dimension:m})}},st=function(i,d,c,m,h,p){var _=h.occupied,S=e.drawMask,T;S&&(T=t[0].getContext("2d"),T.save(),T.fillStyle=e.maskColor);var z;if(le){var L=h.bounds;z={x:(i+L[3])*n,y:(d+L[0])*n,w:(L[1]-L[3]+1)*n,h:(L[2]-L[0]+1)*n}}for(var C=_.length;C--;){var P=i+_[C][0],F=d+_[C][1];P>=M||F>=b||P<0||F<0||ot(P,F,S,z,p)}S&&T.restore()},lt=function w(i,d){if(d>20)return null;var c,m,h;Array.isArray(i)?(c=i[0],m=i[1]):(c=i.word,m=i.weight,h=i.attributes);var p=at(),_=yn(i),S=rt(c,m,p,_);if(!S||ue())return!1;if(!e.drawOutOfBound&&!e.shrinkToFit){var T=S.bounds;if(T[1]-T[3]+1>M||T[2]-T[0]+1>b)return!1}for(var z=x+1,L=function(W){var k=Math.floor(W[0]-S.gw/2),y=Math.floor(W[1]-S.gh/2),E=S.gw,O=S.gh;return nt(k,y,E,O,S.occupied)?(it(k,y,S,c,m,x-z,W[2],p,h,_),st(k,y,E,O,S,i),{gx:k,gy:y,rot:p,info:S}):!1};z--;){var C=tt(x-z);e.shuffle&&(C=[].concat(C),xn(C));for(var P=0;P<C.length;P++){var F=L(C[P]);if(F)return F}}return e.shrinkToFit?(Array.isArray(i)?i[1]=i[1]*3/4:i.weight=i.weight*3/4,w(i,d+1)):null},V=function(i,d,c){if(d)return!t.some(function(m){var h=new CustomEvent(i,{detail:c||{}});return!m.dispatchEvent(h)},this);t.forEach(function(m){var h=new CustomEvent(i,{detail:c||{}});m.dispatchEvent(h)},this)},dt=function(){var i=t[0];if(i.getContext)M=Math.ceil(i.width/n),b=Math.ceil(i.height/n);else{var d=i.getBoundingClientRect();M=Math.ceil(d.width/n),b=Math.ceil(d.height/n)}if(V("wordcloudstart",!0)){A=e.origin?[e.origin[0]/n,e.origin[1]/n]:[M/2,b/2],x=Math.floor(Math.sqrt(M*M+b*b)),v=[];var c,m,h;if(!i.getContext||e.clearCanvas)for(t.forEach(function(y){if(y.getContext){var E=y.getContext("2d");E.fillStyle=e.backgroundColor,E.clearRect(0,0,M*(n+1),b*(n+1)),E.fillRect(0,0,M*(n+1),b*(n+1))}else y.textContent="",y.style.backgroundColor=e.backgroundColor,y.style.position="relative"}),c=M;c--;)for(v[c]=[],m=b;m--;)v[c][m]=!0;else{var p=document.createElement("canvas").getContext("2d");p.fillStyle=e.backgroundColor,p.fillRect(0,0,1,1);var _=p.getImageData(0,0,1,1).data,S=i.getContext("2d").getImageData(0,0,M*n,b*n).data;c=M;for(var T,z;c--;)for(v[c]=[],m=b;m--;){z=n;e:for(;z--;)for(T=n;T--;)for(h=4;h--;)if(S[((m*n+z)*M*n+(c*n+T))*4+h]!==_[h]){v[c][m]=!1;break e}v[c][m]!==!1&&(v[c][m]=!0)}S=p=_=void 0}if(e.hover||e.click){for(le=!0,c=M+1;c--;)Z[c]=[];e.hover&&i.addEventListener("mousemove",Ae),e.click&&(i.addEventListener("click",ce),i.addEventListener("touchstart",ce),i.addEventListener("touchend",function(y){y.preventDefault()}),i.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),i.addEventListener("wordcloudstart",function y(){i.removeEventListener("wordcloudstart",y),i.removeEventListener("mousemove",Ae),i.removeEventListener("click",ce),de=void 0})}h=0;var L,C,P=!0;e.layoutAnimation?e.wait!==0?(L=window.setTimeout,C=window.clearTimeout):(L=window.setImmediate,C=window.clearImmediate):(L=function(y){y()},C=function(){P=!1});var F=function(E,O){t.forEach(function(B){B.addEventListener(E,O)},this)},W=function(E,O){t.forEach(function(B){B.removeEventListener(E,O)},this)},k=function y(){W("wordcloudstart",y),C(U[r])};F("wordcloudstart",k),U[r]=(e.layoutAnimation?L:setTimeout)(function y(){if(P){if(h>=e.list.length){C(U[r]),V("wordcloudstop",!1),W("wordcloudstart",k),delete U[r];return}R=new Date().getTime();var E=lt(e.list[h],0),O=!V("wordclouddrawn",!0,{item:e.list[h],drawn:E});if(ue()||O){C(U[r]),e.abort(),V("wordcloudabort",!1),V("wordcloudstop",!1),W("wordcloudstart",k);return}h++,U[r]=L(y,e.wait)}},e.wait)}};dt()};oe.isSupported=Pe;oe.minFontSize=Ee;if(!oe.isSupported)throw new Error("Sorry your browser not support wordCloud");function Sn(o){for(var t=o.getContext("2d"),a=t.getImageData(0,0,o.width,o.height),r=t.createImageData(a),e=0,l=0,s=0;s<a.data.length;s+=4){var n=a.data[s+3];if(n>128){var f=a.data[s]+a.data[s+1]+a.data[s+2];e+=f,++l}}for(var g=e/l,s=0;s<a.data.length;s+=4){var f=a.data[s]+a.data[s+1]+a.data[s+2],n=a.data[s+3];n<128||f>g?(r.data[s]=0,r.data[s+1]=0,r.data[s+2]=0,r.data[s+3]=0):(r.data[s]=255,r.data[s+1]=255,r.data[s+2]=255,r.data[s+3]=255)}t.putImageData(r,0,0)}Ke(function(o,t){o.eachSeriesByType("wordCloud",function(a){var r=je(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),e=a.get("keepAspect"),l=a.get("maskImage"),s=l?l.width/l.height:1;e&&Tn(r,s);var n=a.getData(),f=document.createElement("canvas");f.width=r.width,f.height=r.height;var g=f.getContext("2d");if(l)try{g.drawImage(l,0,0,f.width,f.height),Sn(f)}catch(x){console.error("Invalid mask image"),console.error(x.toString())}var u=a.get("sizeRange"),I=a.get("rotationRange"),v=n.getDataExtent("value"),M=Math.PI/180,b=a.get("gridSize");oe(f,{list:n.mapArray("value",function(x,R){var $=n.getItemModel(R);return[n.getName(R),$.get("textStyle.fontSize",!0)||He(x,v,u),R]}).sort(function(x,R){return R[1]-x[1]}),fontFamily:a.get("textStyle.fontFamily")||a.get("emphasis.textStyle.fontFamily")||o.get("textStyle.fontFamily"),fontWeight:a.get("textStyle.fontWeight")||a.get("emphasis.textStyle.fontWeight")||o.get("textStyle.fontWeight"),gridSize:b,ellipticity:r.height/r.width,minRotation:I[0]*M,maxRotation:I[1]*M,clearCanvas:!l,rotateRatio:1,rotationStep:a.get("rotationStep")*M,drawOutOfBound:a.get("drawOutOfBound"),shrinkToFit:a.get("shrinkToFit"),layoutAnimation:a.get("layoutAnimation"),shuffle:!1,shape:a.get("shape")});function A(x){var R=x.detail.item;x.detail.drawn&&a.layoutInstance.ondraw&&(x.detail.drawn.gx+=r.x/b,x.detail.drawn.gy+=r.y/b,a.layoutInstance.ondraw(R[0],R[1],R[2],x.detail.drawn))}f.addEventListener("wordclouddrawn",A),a.layoutInstance&&a.layoutInstance.dispose(),a.layoutInstance={ondraw:null,dispose:function(){f.removeEventListener("wordclouddrawn",A),f.addEventListener("wordclouddrawn",function(x){x.preventDefault()})}}})});Je(function(o){var t=(o||{}).series;!Ve(t)&&(t=t?[t]:[]);var a=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];ne(t,function(e){if(e&&e.type==="wordCloud"){var l=e.textStyle||{};r(l.normal),r(l.emphasis)}});function r(e){e&&ne(a,function(l){e.hasOwnProperty(l)&&(e["text"+Ue(l)]=e[l])})}});function Tn(o,t){var a=o.width,r=o.height;a>r*t?(o.x+=(a-r*t)/2,o.width=r*t):(o.y+=(r-a/t)/2,o.height=a/t)}const bn=Object.freeze(Object.defineProperty({__proto__:null,Axis:ja,ChartView:Ie,ComponentModel:Me,ComponentView:Le,List:Ze,Model:we,PRIORITY:Ha,SeriesModel:Ce,color:Na,connect:Ua,dataTool:Va,dependencies:qa,disConnect:Za,disconnect:Ka,dispose:Ja,env:Qa,extendChartView:et,extendComponentModel:un,extendComponentView:hn,extendSeriesModel:Qe,format:cn,getCoordinateSystemDimensions:er,getInstanceByDom:tr,getInstanceById:ar,getMap:rr,graphic:dn,helper:on,init:nr,innerDrawElementOnCanvas:ir,matrix:or,number:sn,parseGeoJSON:De,parseGeoJson:De,registerAction:sr,registerCoordinateSystem:lr,registerLayout:Ke,registerLoading:dr,registerLocale:cr,registerMap:fr,registerPostInit:ur,registerPostUpdate:hr,registerPreprocessor:Je,registerProcessor:gr,registerTheme:vr,registerTransform:mr,registerUpdateLifecycle:pr,registerVisual:wr,setCanvasCreator:yr,setPlatformAPI:xr,throttle:Sr,time:ln,use:ie,util:fn,vector:Tr,version:br,zrUtil:Mr,zrender:Lr},Symbol.toStringTag,{value:"Module"}));ie([Cr,Ir,Er,_r,kr,Pr,Or,Ar,Rr,zr,Fr,Dr,Wr,qe,Br,Yr,$r]);const In=Gr({name:"EChart",__name:"Echart",props:{options:{type:Object,required:!0},width:We.oneOfType([Number,String]).def(""),height:We.oneOfType([Number,String]).def("500px")},setup(o){const{getPrefixCls:t,variables:a}=Ur(),r=t("echart"),e=Xr(),l=o,s=J(()=>e.mode=="dark"),n=J(()=>Y(s)?!0:"auto"),f=J(()=>Object.assign(l.options,{darkMode:Y(n)})),g=Be();let u=null;const I=Be(),v=J(()=>{const x=Ye(l.width)?l.width:`${l.width}px`,R=Ye(l.height)?l.height:`${l.height}px`;return{width:x,height:R}}),M=()=>{Y(g)&&l.options&&(u=bn.init(Y(g)),u?.setOption(Y(f)))};jr(()=>f.value,x=>{u&&u?.setOption(x)},{deep:!0});const b=Hr(()=>{u&&u.resize()},100),A=async x=>{x.propertyName==="width"&&b()};return Nr(()=>{M(),window.addEventListener("resize",b),I.value=document.getElementsByClassName(`${a.namespace}-layout-content`)[0],Y(I)&&Y(I).addEventListener("transitionend",A)}),Vr(()=>{window.removeEventListener("resize",b),Y(I)&&Y(I).removeEventListener("transitionend",A)}),qr(()=>{u&&u.resize()}),(x,R)=>(Kr(),Zr("div",{ref_key:"elRef",ref:g,class:Qr([x.$attrs.class,Y(r)]),style:Jr(Y(v))},null,6))}});export{In as _,bn as e};
