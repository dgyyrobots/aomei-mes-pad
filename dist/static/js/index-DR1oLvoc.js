/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{d as A,r as c,f as G,b as W,g as s,h as Y,c as P,o as i,j as l,m as o,a,F as $,n as X,k as u,J as V,w as y,v as _,K as Z,L as ee,M as le,z as te,N as ae}from"./index-FPuwcz_Y.js";import{_ as oe}from"./DictTag.vue_vue_type_script_lang-o_bnFpkw.js";import{_ as ne}from"./ContentWrap.vue_vue_type_script_setup_true_lang-32ziCa0j.js";import{_ as re}from"./index-uvMbgyfS.js";import{_ as se,g as pe,d as ie,e as de}from"./ErrorCodeForm.vue_vue_type_script_setup_true_lang-BPkhKSWS.js";import{c as me,D as F}from"./dict-C9lD-gwA.js";import{d as ce}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";const Ce=A({name:"SystemErrorCode",__name:"index",setup(ue){const b=te(),{t:M}=ae(),x=c(!0),C=c(!1),E=c(0),D=c([]),n=G({pageNo:1,pageSize:10,type:void 0,applicationName:void 0,code:void 0,message:void 0,createTime:[]}),N=c(),f=async()=>{x.value=!0;try{const r=await pe(n);D.value=r.list,E.value=r.total}finally{x.value=!1}},g=()=>{n.pageNo=1,f()},U=()=>{N.value.resetFields(),g()},T=c(),R=(r,e)=>{T.value.open(r,e)},K=async r=>{try{await b.delConfirm(),await ie(r),b.success(M("common.delSuccess")),await f()}catch(e){console.log(e)}},O=async()=>{try{await b.exportConfirm(),C.value=!0;const r=await de(n);ce.excel(r,"错误码.xls")}catch(r){console.log(r)}finally{C.value=!1}};return W(()=>{f()}),(r,e)=>{const z=re,L=s("el-option"),q=s("el-select"),d=s("el-form-item"),k=s("el-input"),B=s("el-date-picker"),w=Z,m=s("el-button"),I=s("el-form"),S=ne,p=s("el-table-column"),H=oe,Q=s("el-table"),h=le,v=Y("hasPermi"),j=Y("loading");return i(),P($,null,[l(z,{title:"异常处理（错误码）",url:"https://doc.iocoder.cn/exception/"}),l(S,null,{default:o(()=>[l(I,{ref_key:"queryFormRef",ref:N,class:"-mb-15px",inline:!0,"label-width":"90px",model:a(n)},{default:o(()=>[l(d,{label:"错误码类型",prop:"type"},{default:o(()=>[l(q,{modelValue:a(n).type,"onUpdate:modelValue":e[0]||(e[0]=t=>a(n).type=t),clearable:"",placeholder:"请选择错误码类型"},{default:o(()=>[(i(!0),P($,null,X(a(me)(a(F).SYSTEM_ERROR_CODE_TYPE),t=>(i(),u(L,{key:t.value,class:"!w-240px",label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"应用名",prop:"applicationName"},{default:o(()=>[l(k,{modelValue:a(n).applicationName,"onUpdate:modelValue":e[1]||(e[1]=t=>a(n).applicationName=t),class:"!w-240px",clearable:"",placeholder:"请输入应用名",onKeyup:V(g,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"错误码编码",prop:"code"},{default:o(()=>[l(k,{modelValue:a(n).code,"onUpdate:modelValue":e[2]||(e[2]=t=>a(n).code=t),class:"!w-240px",clearable:"",placeholder:"请输入错误码编码",onKeyup:V(g,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"错误码提示",prop:"message"},{default:o(()=>[l(k,{modelValue:a(n).message,"onUpdate:modelValue":e[3]||(e[3]=t=>a(n).message=t),class:"!w-240px",clearable:"",placeholder:"请输入错误码提示",onKeyup:V(g,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"创建时间",prop:"createTime"},{default:o(()=>[l(B,{modelValue:a(n).createTime,"onUpdate:modelValue":e[4]||(e[4]=t=>a(n).createTime=t),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),l(d,null,{default:o(()=>[l(m,{onClick:g},{default:o(()=>[l(w,{class:"mr-5px",icon:"ep:search"}),e[8]||(e[8]=_(" 搜索 "))]),_:1}),l(m,{onClick:U},{default:o(()=>[l(w,{class:"mr-5px",icon:"ep:refresh"}),e[9]||(e[9]=_(" 重置 "))]),_:1}),y((i(),u(m,{plain:"",type:"primary",onClick:e[5]||(e[5]=t=>R("create"))},{default:o(()=>[l(w,{class:"mr-5px",icon:"ep:plus"}),e[10]||(e[10]=_(" 新增 "))]),_:1})),[[v,["system:error-code:create"]]]),y((i(),u(m,{loading:a(C),plain:"",type:"success",onClick:O},{default:o(()=>[l(w,{class:"mr-5px",icon:"ep:download"}),e[11]||(e[11]=_(" 导出 "))]),_:1},8,["loading"])),[[v,["system:error-code:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),l(S,null,{default:o(()=>[y((i(),u(Q,{data:a(D)},{default:o(()=>[l(p,{align:"center",label:"编号",prop:"id"}),l(p,{align:"center",label:"类型",prop:"type",width:"80"},{default:o(t=>[l(H,{type:a(F).SYSTEM_ERROR_CODE_TYPE,value:t.row.type},null,8,["type","value"])]),_:1}),l(p,{align:"center",label:"应用名",prop:"applicationName",width:"200"}),l(p,{align:"center",label:"错误码编码",prop:"code",width:"120"}),l(p,{align:"center",label:"错误码提示",prop:"message",width:"300"}),l(p,{align:"center",label:"备注",prop:"memo",width:"200"}),l(p,{align:"center",formatter:a(ee),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),l(p,{align:"center","class-name":"small-paddingfixed-width",label:"操作"},{default:o(t=>[y((i(),u(m,{link:"",type:"primary",onClick:J=>R("update",t.row.id)},{default:o(()=>e[12]||(e[12]=[_(" 编辑 ")])),_:2},1032,["onClick"])),[[v,["system:error-code:update"]]]),y((i(),u(m,{link:"",type:"danger",onClick:J=>K(t.row.id)},{default:o(()=>e[13]||(e[13]=[_("删除")])),_:2},1032,["onClick"])),[[v,["system:error-code:delete"]]])]),_:1})]),_:1},8,["data"])),[[j,a(x)]]),l(h,{limit:a(n).pageSize,"onUpdate:limit":e[6]||(e[6]=t=>a(n).pageSize=t),page:a(n).pageNo,"onUpdate:page":e[7]||(e[7]=t=>a(n).pageNo=t),total:a(E),onPagination:f},null,8,["limit","page","total"])]),_:1}),l(se,{ref_key:"formRef",ref:T,onSuccess:f},null,512)],64)}}});export{Ce as default};
