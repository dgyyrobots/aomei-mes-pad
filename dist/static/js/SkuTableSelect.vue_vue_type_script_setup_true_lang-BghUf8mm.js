/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as U,az as N,r,b as j,Y as B,g as m,h as Y,k as v,o as g,m as a,w as $,a as t,aS as z,j as o,y as b,v as _,t as w,c5 as E,_ as M}from"./index-BuFigy1A.js";import{g as R}from"./spu-Wk_UdoYF.js";const G=U({name:"SkuTableSelect",__name:"SkuTableSelect",props:{spuId:N.number.def(null)},emits:["change"],setup(h,{expose:S,emit:V}){const p=h,f=r([]),c=r(!1),n=r(!1),s=r(),y=i=>{k("change",i),n.value=!1,s.value=void 0},k=V;S({open:()=>{n.value=!0}});const x=async()=>{c.value=!0;try{const i=await R(p.spuId);f.value=i.skus}finally{c.value=!1}};return j(async()=>{}),B(()=>p.spuId,()=>{p.spuId&&x()}),(i,l)=>{const T=m("el-radio"),u=m("el-table-column"),C=m("el-image"),D=M,I=Y("loading");return g(),v(D,{modelValue:t(n),"onUpdate:modelValue":l[1]||(l[1]=e=>b(n)?n.value=e:null),"append-to-body":!0,title:"选择规格",width:"700"},{default:a(()=>[$((g(),v(t(z),{data:t(f),"show-overflow-tooltip":""},{default:a(()=>[o(u,{label:"#",width:"55"},{default:a(({row:e})=>[o(T,{modelValue:t(s),"onUpdate:modelValue":l[0]||(l[0]=d=>b(s)?s.value=d:null),label:e.id,onChange:d=>y(e)},{default:a(()=>l[2]||(l[2]=[_(" ")])),_:2},1032,["modelValue","label","onChange"])]),_:1}),o(u,{label:"图片","min-width":"80"},{default:a(({row:e})=>[o(C,{class:"h-30px w-30px","preview-src-list":[e.picUrl],"preview-teleported":"",src:e.picUrl},null,8,["preview-src-list","src"])]),_:1}),o(u,{align:"center",label:"规格","min-width":"80"},{default:a(({row:e})=>[_(w(e.properties?.map(d=>d.valueName)?.join(" ")),1)]),_:1}),o(u,{align:"center",label:"销售价(元)","min-width":"80"},{default:a(({row:e})=>[_(w(t(E)(e.price)),1)]),_:1})]),_:1},8,["data"])),[[I,t(c)]])]),_:1},8,["modelValue"])}}});export{G as _};
