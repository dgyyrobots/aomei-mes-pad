/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{f as g,L as m,V as f,d as T,r as t,h,k as D,o as S,m as d,j as M,a as s,w as y,i as Y,y as v,_ as w}from"./index-D3S9e4gi.js";import{_ as C}from"./Descriptions-B5j8Edvs.js";import{b as L}from"./index-CaBaHhi8.js";import{D as c}from"./dict-D5UmY5m8.js";import{u as P}from"./useCrudSchemas-D6OD8Gad.js";const V=await L(),x=g([{label:"编号",field:"id"},{label:"发送时间",field:"sendTime",formatter:m,search:{show:!0,component:"DatePicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss",type:"daterange",defaultTime:[new Date("1 00:00:00"),new Date("1 23:59:59")]}},detail:{dateFormat:"YYYY-MM-DD HH:mm:ss"}},{label:"接收邮箱",field:"toMail"},{label:"用户编号",field:"userId",isSearch:!0,isTable:!1},{label:"用户类型",field:"userType",dictType:c.USER_TYPE,dictClass:"number",isSearch:!0,isTable:!1},{label:"邮件标题",field:"templateTitle"},{label:"邮件内容",field:"templateContent",isTable:!1},{label:"邮箱参数",field:"templateParams",isTable:!1},{label:"发送状态",field:"sendStatus",dictType:c.SYSTEM_MAIL_SEND_STATUS,dictClass:"string",isSearch:!0},{label:"邮箱账号",field:"accountId",isTable:!1,search:{show:!0,component:"Select",api:()=>V,componentProps:{optionsAlias:{labelField:"mail",valueField:"id"}}}},{label:"发送邮箱地址",field:"fromMail",table:{label:"邮箱账号"}},{label:"模板编号",field:"templateId",isSearch:!0},{label:"模板编码",field:"templateCode",isTable:!1},{label:"模版发送人名称",field:"templateNickname",isTable:!1},{label:"发送返回的消息编号",field:"sendMessageId",isTable:!1},{label:"发送异常",field:"sendException",isTable:!1},{label:"创建时间",field:"createTime",isTable:!1,formatter:m,detail:{dateFormat:"YYYY-MM-DD HH:mm:ss"}},{label:"操作",field:"action",isDetail:!1}]),{allSchemas:E}=P(x),U=async e=>await f.get({url:"/system/mail-log/page",params:e}),F=async e=>await f.get({url:`/system/mail-log/get?id=${e}`}),R=T({name:"SystemMailLogDetail",__name:"MailLogDetail",setup(e,{expose:u}){const a=t(!1),i=t(!1),o=t();return u({open:async n=>{a.value=!0,i.value=!0;try{o.value=await F(n)}finally{i.value=!1}}}),(n,r)=>{const p=C,b=w,_=h("dompurify-html");return S(),D(b,{modelValue:s(a),"onUpdate:modelValue":r[0]||(r[0]=l=>v(a)?a.value=l:null),"max-height":500,scroll:!0,title:"详情"},{default:d(()=>[M(p,{data:s(o),schema:s(E).detailSchema},{templateContent:d(({row:l})=>[y(Y("div",null,null,512),[[_,l.templateContent]])]),_:1},8,["data","schema"])]),_:1},8,["modelValue"])}}});export{R as _,E as a,U as g};
