/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{_ as N}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C6z1f3RI.js";import{d as h,r as _,b as M,g as l,h as y,c as P,o as r,j as t,m as a,w as i,k as c,v as p,K as R,a as g,L as T,F as V,z as j,N as z}from"./index-lcC3l4R2.js";import{_ as E}from"./DataSourceConfigForm.vue_vue_type_script_setup_true_lang-C0OM6Tn0.js";import{g as K,d as W}from"./index-B_-N4fIl.js";const O=h({name:"InfraDataSourceConfig",__name:"index",setup(q){const b=j(),{t:x}=z(),m=_(!0),v=_([]),d=async()=>{m.value=!0;try{v.value=await K()}finally{m.value=!1}},w=_(),C=(s,e)=>{w.value.open(s,e)},D=async s=>{try{await b.delConfirm(),await W(s),b.success(x("common.delSuccess")),await d()}catch(e){console.log(e)}};return M(()=>{d()}),(s,e)=>{const $=R,u=l("el-button"),S=l("el-form-item"),F=l("el-form"),k=N,n=l("el-table-column"),B=l("el-table"),f=y("hasPermi"),I=y("loading");return r(),P(V,null,[t(k,null,{default:a(()=>[t(F,{class:"-mb-15px",inline:!0},{default:a(()=>[t(S,null,{default:a(()=>[i((r(),c(u,{plain:"",type:"primary",onClick:e[0]||(e[0]=o=>C("create"))},{default:a(()=>[t($,{class:"mr-5px",icon:"ep:plus"}),e[1]||(e[1]=p(" 新增 "))]),_:1})),[[f,["infra:data-source-config:create"]]])]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[i((r(),c(B,{data:g(v)},{default:a(()=>[t(n,{align:"center",label:"主键编号",prop:"id"}),t(n,{align:"center",label:"数据源名称",prop:"name"}),t(n,{align:"center",label:"数据源连接",prop:"url","show-overflow-tooltip":!0}),t(n,{align:"center",label:"用户名",prop:"username"}),t(n,{align:"center",formatter:g(T),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),t(n,{align:"center",label:"操作"},{default:a(o=>[i((r(),c(u,{disabled:o.row.id===0,link:"",type:"primary",onClick:L=>C("update",o.row.id)},{default:a(()=>e[2]||(e[2]=[p(" 编辑 ")])),_:2},1032,["disabled","onClick"])),[[f,["infra:data-source-config:update"]]]),i((r(),c(u,{disabled:o.row.id===0,link:"",type:"danger",onClick:L=>D(o.row.id)},{default:a(()=>e[3]||(e[3]=[p(" 删除 ")])),_:2},1032,["disabled","onClick"])),[[f,["infra:data-source-config:delete"]]])]),_:1})]),_:1},8,["data"])),[[I,g(m)]])]),_:1}),t(E,{ref_key:"formRef",ref:w,onSuccess:d},null,512)],64)}}});export{O as default};
