/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{d as R,r as i,f as q,g as r,h as L,k as _,o as c,m as a,w as M,a as t,j as s,c as O,F as $,n as P,v,t as j,y as z,_ as Y,N as G,z as H}from"./index-BdC40rFX.js";import{_ as J}from"./UploadImg-DaT9X0X7.js";import{a as K,c as Q,u as W}from"./index-DfIoVSue.js";import{C as X}from"./constants-BPQb3nxh.js";import{c as Z,D as h}from"./dict-D4wjFrBa.js";const ne=R({name:"PromotionArticleCategoryForm",__name:"ArticleCategoryForm",emits:["success"],setup(ee,{expose:C,emit:U}){const{t:f}=G(),g=H(),n=i(!1),b=i(""),u=i(!1),V=i(""),l=i({id:void 0,name:void 0,picUrl:void 0,status:void 0,sort:void 0}),k=q({name:[{required:!0,message:"分类名称不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}],sort:[{required:!0,message:"排序不能为空",trigger:"blur"}]}),m=i();C({open:async(d,e)=>{if(n.value=!0,b.value=f(`action.${d}`),V.value=d,x(),e){u.value=!0;try{l.value=await K(e)}finally{u.value=!1}}}});const w=U,D=async()=>{if(!(!m||!await m.value.validate())){u.value=!0;try{const e=l.value;V.value==="create"?(await Q(e),g.success(f("common.createSuccess"))):(await W(e),g.success(f("common.updateSuccess"))),n.value=!1,w("success")}finally{u.value=!1}}},x=()=>{l.value={id:void 0,name:void 0,picUrl:void 0,status:X.ENABLE,sort:0},m.value?.resetFields()};return(d,e)=>{const A=r("el-input"),p=r("el-form-item"),F=J,T=r("el-radio"),S=r("el-radio-group"),E=r("el-input-number"),N=r("el-form"),y=r("el-button"),B=Y,I=L("loading");return c(),_(B,{modelValue:t(n),"onUpdate:modelValue":e[5]||(e[5]=o=>z(n)?n.value=o:null),title:t(b)},{footer:a(()=>[s(y,{disabled:t(u),type:"primary",onClick:D},{default:a(()=>e[6]||(e[6]=[v("确 定")])),_:1},8,["disabled"]),s(y,{onClick:e[4]||(e[4]=o=>n.value=!1)},{default:a(()=>e[7]||(e[7]=[v("取 消")])),_:1})]),default:a(()=>[M((c(),_(N,{ref_key:"formRef",ref:m,"label-width":"100px",model:t(l),rules:t(k)},{default:a(()=>[s(p,{label:"分类名称",prop:"name"},{default:a(()=>[s(A,{modelValue:t(l).name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(l).name=o),placeholder:"请输入分类名称"},null,8,["modelValue"])]),_:1}),s(p,{label:"图标地址",prop:"picUrl"},{default:a(()=>[s(F,{modelValue:t(l).picUrl,"onUpdate:modelValue":e[1]||(e[1]=o=>t(l).picUrl=o),height:"80px"},null,8,["modelValue"])]),_:1}),s(p,{label:"状态",prop:"status"},{default:a(()=>[s(S,{modelValue:t(l).status,"onUpdate:modelValue":e[2]||(e[2]=o=>t(l).status=o)},{default:a(()=>[(c(!0),O($,null,P(t(Z)(t(h).COMMON_STATUS),o=>(c(),_(T,{key:o.value,label:o.value},{default:a(()=>[v(j(o.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(p,{label:"排序",prop:"sort"},{default:a(()=>[s(E,{modelValue:t(l).sort,"onUpdate:modelValue":e[3]||(e[3]=o=>t(l).sort=o),clearable:"","controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[I,t(u)]])]),_:1},8,["modelValue","title"])}}});export{ne as _};
