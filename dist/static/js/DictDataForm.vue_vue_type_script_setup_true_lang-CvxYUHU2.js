/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 15:23:48 
 */
import{d as j,r as m,f as z,bL as P,g as u,h as Y,k as v,o as p,m as s,w as G,a,j as t,c as D,F as T,n as k,v as _,t as H,y as J,_ as K,N as Q,bM as W,bN as X,z as Z,bO as h}from"./index-C8VsLzxx.js";import{C as S}from"./constants-BPQb3nxh.js";import{c as ee,D as le}from"./dict-_inVRzR5.js";const re=j({name:"SystemDictDataForm",__name:"DictDataForm",emits:["success"],setup(ae,{expose:U,emit:w}){const{t:b}=Q(),g=Z(),d=m(!1),V=m(""),i=m(!1),y=m(""),o=m({id:void 0,sort:void 0,label:"",value:"",dictType:"",status:S.ENABLE,colorType:"",cssClass:"",remark:""}),x=z({label:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],value:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],sort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}),c=m(),E=P([{value:"default",label:"默认"},{value:"primary",label:"主要"},{value:"success",label:"成功"},{value:"info",label:"信息"},{value:"warning",label:"警告"},{value:"danger",label:"危险"}]);U({open:async(f,e,r)=>{if(d.value=!0,V.value=b(`action.${f}`),y.value=f,B(),r&&(o.value.dictType=r),e){i.value=!0;try{o.value=await W(e)}finally{i.value=!1}}}});const F=w,N=async()=>{if(!(!c||!await c.value.validate())){i.value=!0;try{const e=o.value;y.value==="create"?(await X(e),g.success(b("common.createSuccess"))):(await h(e),g.success(b("common.updateSuccess"))),d.value=!1,F("success")}finally{i.value=!1}}},B=()=>{o.value={id:void 0,sort:void 0,label:"",value:"",dictType:"",status:S.ENABLE,colorType:"",cssClass:"",remark:""},c.value?.resetFields()};return(f,e)=>{const r=u("el-input"),n=u("el-form-item"),L=u("el-input-number"),O=u("el-radio"),q=u("el-radio-group"),M=u("el-option"),R=u("el-select"),A=u("el-form"),C=u("el-button"),I=K,$=Y("loading");return p(),v(I,{modelValue:a(d),"onUpdate:modelValue":e[9]||(e[9]=l=>J(d)?d.value=l:null),title:a(V)},{footer:s(()=>[t(C,{disabled:a(i),type:"primary",onClick:N},{default:s(()=>e[10]||(e[10]=[_("确 定")])),_:1},8,["disabled"]),t(C,{onClick:e[8]||(e[8]=l=>d.value=!1)},{default:s(()=>e[11]||(e[11]=[_("取 消")])),_:1})]),default:s(()=>[G((p(),v(A,{ref_key:"formRef",ref:c,"label-width":"80px",model:a(o),rules:a(x)},{default:s(()=>[t(n,{label:"字典类型",prop:"type"},{default:s(()=>[t(r,{modelValue:a(o).dictType,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).dictType=l),disabled:typeof a(o).id<"u",placeholder:"请输入参数名称"},null,8,["modelValue","disabled"])]),_:1}),t(n,{label:"数据标签",prop:"label"},{default:s(()=>[t(r,{modelValue:a(o).label,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).label=l),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),t(n,{label:"数据键值",prop:"value"},{default:s(()=>[t(r,{modelValue:a(o).value,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).value=l),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),t(n,{label:"显示排序",prop:"sort"},{default:s(()=>[t(L,{modelValue:a(o).sort,"onUpdate:modelValue":e[3]||(e[3]=l=>a(o).sort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),t(n,{label:"状态",prop:"status"},{default:s(()=>[t(q,{modelValue:a(o).status,"onUpdate:modelValue":e[4]||(e[4]=l=>a(o).status=l)},{default:s(()=>[(p(!0),D(T,null,k(a(ee)(a(le).COMMON_STATUS),l=>(p(),v(O,{key:l.value,label:l.value},{default:s(()=>[_(H(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"颜色类型",prop:"colorType"},{default:s(()=>[t(R,{modelValue:a(o).colorType,"onUpdate:modelValue":e[5]||(e[5]=l=>a(o).colorType=l)},{default:s(()=>[(p(!0),D(T,null,k(a(E),l=>(p(),v(M,{key:l.value,label:l.label+"("+l.value+")",value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"CSS Class",prop:"cssClass"},{default:s(()=>[t(r,{modelValue:a(o).cssClass,"onUpdate:modelValue":e[6]||(e[6]=l=>a(o).cssClass=l),placeholder:"请输入 CSS Class"},null,8,["modelValue"])]),_:1}),t(n,{label:"备注",prop:"remark"},{default:s(()=>[t(r,{modelValue:a(o).remark,"onUpdate:modelValue":e[7]||(e[7]=l=>a(o).remark=l),placeholder:"请输入内容",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[$,a(i)]])]),_:1},8,["modelValue","title"])}}});export{re as _};
