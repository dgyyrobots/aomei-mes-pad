/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:21:26 
 */
import{g as C}from"./spu-BZrcAj3N.js";import{g as T}from"./seckillActivity-DK93RKat.js";import{d as $,r as t,Y as h,b as S,g as w,k as z,o as s,m as I,i as u,q as l,a as o,c as p,F as _,n as L,l as m,j as b,p as W,t as x}from"./index-5TqN_QR1.js";const N={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},q=$({name:"PromotionSeckill",__name:"index",props:{property:{}},setup(R){const a=R,i=t([]);h(()=>a.property.activityId,async()=>{if(!a.property.activityId)return;const e=await T(a.property.activityId);e?.spuId&&(i.value=[await C(e.spuId)])},{immediate:!0,deep:!0});const n=t(375),y=t(),r=t(2),f=t("100%"),c=t("0"),v=t("");return h(()=>[a.property,n,i.value.length],()=>{r.value=a.property.layoutType==="oneCol"?1:3;const e=(n.value-a.property.space*(r.value-1))/r.value;c.value=r.value===2?"64px":`${e}px`,v.value=`repeat(${r.value}, auto)`,f.value="100%"},{immediate:!0,deep:!0}),S(()=>{n.value=y.value?.wrapRef?.offsetWidth||375}),(e,V)=>{const g=w("el-image"),k=w("el-scrollbar");return s(),z(k,{ref_key:"containerRef",ref:y,class:"z-1 min-h-30px","wrap-class":"w-full"},{default:I(()=>[u("div",{class:"grid overflow-x-auto",style:l({gridGap:`${e.property.space}px`,gridTemplateColumns:o(v),width:o(f)})},[(s(!0),p(_,null,L(o(i),(d,B)=>(s(),p("div",{key:B,class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:l({borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`})},[e.property.badge.show?(s(),p("div",N,[b(g,{class:"h-26px w-38px",fit:"cover",src:e.property.badge.imgUrl},null,8,["src"])])):m("",!0),b(g,{fit:"cover",src:d.picUrl,style:l({width:o(c),height:o(c)})},null,8,["src","style"]),u("div",{class:W(["flex flex-col gap-8px p-8px box-border",{"w-[calc(100%-64px)]":o(r)===2,"w-full":o(r)===3}])},[e.property.fields.name.show?(s(),p("div",{key:0,class:"truncate text-12px",style:l({color:e.property.fields.name.color})},x(d.name),5)):m("",!0),u("div",null,[e.property.fields.price.show?(s(),p("span",{key:0,class:"text-12px",style:l({color:e.property.fields.price.color})}," ï¿¥"+x(d.price),5)):m("",!0)])],2)],4))),128))],4)]),_:1},512)}}});export{q as default};
