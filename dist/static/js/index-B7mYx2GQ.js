/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 13:38:04 
 */
import{d as Y,r as _,f as H,b as W,g as r,h as M,c as C,o as i,j as e,m as a,a as o,J as X,F as S,n as z,k as c,w as f,v as p,K as Z,i as ee,t as x,L as te,M as le,z as ae,N as oe}from"./index-FPuwcz_Y.js";import{_ as ne}from"./DictTag.vue_vue_type_script_lang-o_bnFpkw.js";import{_ as se}from"./ContentWrap.vue_vue_type_script_setup_true_lang-32ziCa0j.js";import{_ as re}from"./index-uvMbgyfS.js";import{_ as ie,g as pe,d as ue}from"./ClientForm.vue_vue_type_script_setup_true_lang-D6NDUtxY.js";import{c as ce,D as A}from"./dict-C9lD-gwA.js";import"./color-B5phLuB-.js";import"./UploadImg-4wNAuvFS.js";import"./index-DEp92naw.js";import"./constants-BPQb3nxh.js";const me=["src"],xe=Y({name:"SystemOAuth2Client",__name:"index",setup(de){const T=ae(),{t:P}=oe(),g=_(!0),h=_(0),V=_([]),n=H({pageNo:1,pageSize:10,name:null,status:void 0}),N=_(),m=async()=>{g.value=!0;try{const u=await pe(n);V.value=u.list,h.value=u.total}finally{g.value=!1}},y=()=>{n.pageNo=1,m()},U=()=>{N.value.resetFields(),y()},O=_(),$=(u,l)=>{O.value.open(u,l)},B=async u=>{try{await T.delConfirm(),await ue(u),T.success(P("common.delSuccess")),await m()}catch(l){console.log(l)}};return W(()=>{m()}),(u,l)=>{const I=re,R=r("el-input"),b=r("el-form-item"),q=r("el-option"),K=r("el-select"),v=Z,d=r("el-button"),L=r("el-form"),D=se,s=r("el-table-column"),E=ne,G=r("el-tag"),Q=r("el-table"),j=le,k=M("hasPermi"),J=M("loading");return i(),C(S,null,[e(I,{title:"OAuth 2.0（SSO 单点登录)",url:"https://doc.iocoder.cn/oauth2/"}),e(D,null,{default:a(()=>[e(L,{ref_key:"queryFormRef",ref:N,class:"-mb-15px",inline:!0,"label-width":"68px",model:o(n)},{default:a(()=>[e(b,{label:"应用名",prop:"name"},{default:a(()=>[e(R,{modelValue:o(n).name,"onUpdate:modelValue":l[0]||(l[0]=t=>o(n).name=t),class:"!w-240px",clearable:"",placeholder:"请输入应用名",onKeyup:X(y,["enter"])},null,8,["modelValue"])]),_:1}),e(b,{label:"状态",prop:"status"},{default:a(()=>[e(K,{modelValue:o(n).status,"onUpdate:modelValue":l[1]||(l[1]=t=>o(n).status=t),class:"!w-240px",clearable:"",placeholder:"请选择状态"},{default:a(()=>[(i(!0),C(S,null,z(o(ce)(o(A).COMMON_STATUS),t=>(i(),c(q,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(b,null,{default:a(()=>[e(d,{onClick:y},{default:a(()=>[e(v,{class:"mr-5px",icon:"ep:search"}),l[5]||(l[5]=p(" 搜索 "))]),_:1}),e(d,{onClick:U},{default:a(()=>[e(v,{class:"mr-5px",icon:"ep:refresh"}),l[6]||(l[6]=p(" 重置 "))]),_:1}),f((i(),c(d,{plain:"",type:"primary",onClick:l[2]||(l[2]=t=>$("create"))},{default:a(()=>[e(v,{class:"mr-5px",icon:"ep:plus"}),l[7]||(l[7]=p(" 新增 "))]),_:1})),[[k,["system:oauth2-client:create"]]])]),_:1})]),_:1},8,["model"])]),_:1}),e(D,null,{default:a(()=>[f((i(),c(Q,{data:o(V)},{default:a(()=>[e(s,{align:"center",label:"客户端编号",prop:"clientId"}),e(s,{align:"center",label:"客户端密钥",prop:"secret"}),e(s,{align:"center",label:"应用名",prop:"name"}),e(s,{align:"center",label:"应用图标",prop:"logo"},{default:a(t=>[ee("img",{height:"40px",src:t.row.logo,width:"40px"},null,8,me)]),_:1}),e(s,{align:"center",label:"状态",prop:"status"},{default:a(t=>[e(E,{type:o(A).COMMON_STATUS,value:t.row.status},null,8,["type","value"])]),_:1}),e(s,{align:"center",label:"访问令牌的有效期",prop:"accessTokenValiditySeconds"},{default:a(t=>[p(x(t.row.accessTokenValiditySeconds)+" 秒",1)]),_:1}),e(s,{align:"center",label:"刷新令牌的有效期",prop:"refreshTokenValiditySeconds"},{default:a(t=>[p(x(t.row.refreshTokenValiditySeconds)+" 秒",1)]),_:1}),e(s,{align:"center",label:"授权类型",prop:"authorizedGrantTypes"},{default:a(t=>[(i(!0),C(S,null,z(t.row.authorizedGrantTypes,(w,F)=>(i(),c(G,{key:F,class:"mr-5px","disable-transitions":!0,index:F},{default:a(()=>[p(x(w),1)]),_:2},1032,["index"]))),128))]),_:1}),e(s,{align:"center",formatter:o(te),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),e(s,{align:"center",label:"操作"},{default:a(t=>[f((i(),c(d,{link:"",type:"primary",onClick:w=>$("update",t.row.id)},{default:a(()=>l[8]||(l[8]=[p(" 编辑 ")])),_:2},1032,["onClick"])),[[k,["system:oauth2-client:update"]]]),f((i(),c(d,{link:"",type:"danger",onClick:w=>B(t.row.id)},{default:a(()=>l[9]||(l[9]=[p("删除")])),_:2},1032,["onClick"])),[[k,["system:oauth2-client:delete"]]])]),_:1})]),_:1},8,["data"])),[[J,o(g)]]),e(j,{limit:o(n).pageSize,"onUpdate:limit":l[3]||(l[3]=t=>o(n).pageSize=t),page:o(n).pageNo,"onUpdate:page":l[4]||(l[4]=t=>o(n).pageNo=t),total:o(h),onPagination:m},null,8,["limit","page","total"])]),_:1}),e(ie,{ref_key:"formRef",ref:O,onSuccess:m},null,512)],64)}}});export{xe as default};
