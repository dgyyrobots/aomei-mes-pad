/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-11 15:04:23 
 */
import{d as $,r as d,O as P,g as k,c as A,o as g,F as L,j as t,_ as h,m as e,v as l,t as n,a as Y,k as C,l as q,i as x,N as G,z as H,A as J}from"./index-lcC3l4R2.js";import{_ as K}from"./DictTag.vue_vue_type_script_lang-G_4C17ZW.js";import{b as W,u as w,s as X}from"./index-Bz2ZsRs0.js";import{D as Z}from"./dict-B7jb0IEc.js";import"./color-B5phLuB-.js";const ee={class:"dialog-footer"},ae=$({__name:"DetailForm",emits:["success"],setup(te,{expose:I,emit:M}){const{t:D}=G(),_=H(),r=d("large");P(()=>{const s={large:"32px",default:"28px",small:"24px"};return{marginTop:s[r.value]||s.default}});const a=d({id:void 0,iqcCode:void 0,iqcName:void 0,templateId:void 0,vendorId:void 0,vendorCode:void 0,vendorName:void 0,vendorNick:void 0,vendorBatch:void 0,itemId:void 0,itemCode:void 0,itemName:void 0,specification:void 0,unitOfMeasure:void 0,quantityMinCheck:void 0,quantityMaxUnqualified:void 0,quantityRecived:void 0,quantityCheck:void 0,quantityUnqualified:void 0,crRate:void 0,majRate:void 0,minRate:void 0,crQuantity:void 0,majQuantity:void 0,minQuantity:void 0,checkResult:void 0,reciveDate:void 0,inspectDate:void 0,inspector:void 0,status:void 0,remark:void 0,attr1:void 0,attr2:void 0,attr3:void 0,attr4:void 0}),V=d(""),v=d(!1),z=d(""),u=d(!1),B=()=>{a.value={id:void 0,iqcCode:void 0,iqcName:void 0,templateId:void 0,vendorId:void 0,vendorCode:void 0,vendorName:void 0,vendorNick:void 0,vendorBatch:void 0,itemId:void 0,itemCode:void 0,itemName:void 0,specification:void 0,unitOfMeasure:void 0,quantityMinCheck:void 0,quantityMaxUnqualified:void 0,quantityRecived:void 0,quantityCheck:void 0,quantityUnqualified:void 0,crRate:void 0,majRate:void 0,minRate:void 0,crQuantity:void 0,majQuantity:void 0,minQuantity:void 0,checkResult:void 0,reciveDate:void 0,inspectDate:void 0,inspector:void 0,status:void 0,remark:void 0,attr1:void 0,attr2:void 0,attr3:void 0,attr4:void 0}},y=d(!0),N=d(!0),R=d(!0);I({open:async(s,o,i)=>{if(i){v.value=!0,z.value=D("action."+s),V.value=s,B(),u.value=!0;try{a.value=await W(i)}finally{u.value=!1}y.value=!1,N.value=!1,R.value=!1,a.value.status=="0"?N.value=!0:a.value.status=="1"?y.value=!0:a.value.status=="2"&&(R.value=!0)}else{_.error("请选择一个出货检验");return}}});const b=M,Q=async()=>{a.value.status="2",u.value=!0;try{const s=a.value;await w(s),_.success(D("common.bringtrialSuccess")),v.value=!1,b("success")}finally{u.value=!1}},U=async()=>{a.value.status="3",u.value=!0;try{const s=a.value;await w(s),_.success("驳回成功"),b("success")}finally{v.value=!1,u.value=!1,c.value=!1}},T=async()=>{a.value.status="0",u.value=!0;try{const s=a.value;await w(s),_.success("反审核成功"),b("success")}finally{v.value=!1,u.value=!1,c.value=!1}},c=d(!1),j=()=>{c.value=!0},S=async()=>{a.value.status="1",u.value=!0;try{const s=a.value;await X(s),_.success("提交审核成功"),b("success")}finally{v.value=!1,u.value=!1,c.value=!1}};return(s,o)=>{const i=k("el-descriptions-item"),m=k("el-descriptions"),E=K,f=k("el-button"),F=h,O=k("el-dialog");return g(),A(L,null,[t(F,{title:z.value,modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=p=>v.value=p),width:"80%"},{footer:e(()=>[N.value?(g(),C(f,{key:0,onClick:j,type:"success",disabled:u.value},{default:e(()=>o[5]||(o[5]=[l("提交审核")])),_:1},8,["disabled"])):q("",!0),R.value?(g(),C(f,{key:1,onClick:T,type:"danger",disabled:u.value},{default:e(()=>o[6]||(o[6]=[l("反审核")])),_:1},8,["disabled"])):q("",!0),y.value?(g(),C(f,{key:2,onClick:Q,type:"success",disabled:u.value},{default:e(()=>o[7]||(o[7]=[l("审核")])),_:1},8,["disabled"])):q("",!0),y.value?(g(),C(f,{key:3,onClick:U,type:"danger",disabled:u.value},{default:e(()=>o[8]||(o[8]=[l("驳回")])),_:1},8,["disabled"])):q("",!0),t(f,{onClick:o[0]||(o[0]=p=>v.value=!1)},{default:e(()=>o[9]||(o[9]=[l("取 消")])),_:1})]),default:e(()=>[t(m,{title:"检验单信息",column:2,size:r.value,border:""},{default:e(()=>[t(i,{label:"来料检验单编号",align:"center"},{default:e(()=>[l(n(a.value.iqcCode),1)]),_:1}),t(i,{label:"来料检验单名称",align:"center"},{default:e(()=>[l(n(a.value.iqcName),1)]),_:1})]),_:1},8,["size"]),t(m,{title:"供应商信息",column:2,size:r.value,border:"",align:"center"},{default:e(()=>[t(i,{label:"供应商编码",align:"center"},{default:e(()=>[l(n(a.value.vendorCode),1)]),_:1}),t(i,{label:"供应商批次号",align:"center"},{default:e(()=>[l(n(a.value.vendorBatch),1)]),_:1}),t(i,{label:"供应商名称",align:"center"},{default:e(()=>[l(n(a.value.vendorName),1)]),_:1}),t(i,{label:"供应商简称",align:"center"},{default:e(()=>[l(n(a.value.vendorNick),1)]),_:1})]),_:1},8,["size"]),t(m,{title:"产品物料信息",column:2,size:r.value,border:"",align:"center"},{default:e(()=>[t(i,{label:"产品物料编码",align:"center"},{default:e(()=>[l(n(a.value.itemCode),1)]),_:1}),t(i,{label:"产品物料名称",align:"center"},{default:e(()=>[l(n(a.value.itemName),1)]),_:1}),t(i,{label:"规格型号",align:"center"},{default:e(()=>[l(n(a.value.specification),1)]),_:1}),t(i,{label:"单位",align:"center"},{default:e(()=>[l(n(a.value.unitOfMeasure),1)]),_:1})]),_:1},8,["size"]),t(m,{title:"检测信息",column:2,size:r.value,border:""},{default:e(()=>[t(i,{label:"检验模板ID",align:"center","min-width":"200"},{default:e(()=>[l(n(a.value.templateId),1)]),_:1})]),_:1},8,["size"]),t(m,{title:"",column:2,size:r.value,border:"",align:"center","min-width":"100"},{default:e(()=>[t(i,{label:"本次接收数量",align:"center"},{default:e(()=>[l(n(a.value.quantityRecived),1)]),_:1}),t(i,{label:"最低检测数",align:"center"},{default:e(()=>[l(n(a.value.quantityMinCheck),1)]),_:1}),t(i,{label:"最大不合格数",align:"center"},{default:e(()=>[l(n(a.value.quantityMaxUnqualified),1)]),_:1}),t(i,{label:"不合格数",align:"center"},{default:e(()=>[l(n(a.value.quantityUnqualified),1)]),_:1}),t(i,{label:"致命缺陷数量",align:"center"},{default:e(()=>[l(n(a.value.crQuantity),1)]),_:1}),t(i,{label:"致命缺陷率",align:"center"},{default:e(()=>[l(n(a.value.crRate),1)]),_:1}),t(i,{label:"严重缺陷数量",align:"center"},{default:e(()=>[l(n(a.value.majQuantity),1)]),_:1}),t(i,{label:"严重缺陷率",align:"center"},{default:e(()=>[l(n(a.value.majRate),1)]),_:1}),t(i,{label:"轻微缺陷数量",align:"center"},{default:e(()=>[l(n(a.value.minQuantity),1)]),_:1}),t(i,{label:"轻微缺陷率",align:"center"},{default:e(()=>[l(n(a.value.minRate),1)]),_:1})]),_:1},8,["size"]),t(m,{title:"结果",column:2,size:r.value,border:""},{default:e(()=>[t(i,{label:"检测结果",align:"center"},{default:e(()=>[l(n(a.value.checkResult),1)]),_:1}),t(i,{label:"检测人员",align:"center"},{default:e(()=>[l(n(a.value.inspector),1)]),_:1}),t(i,{label:"来料日期",align:"center"},{default:e(()=>[l(n(a.value.reciveDate),1)]),_:1}),t(i,{label:"检测日期",align:"center"},{default:e(()=>[l(n(a.value.inspectDate),1)]),_:1}),t(i,{label:"备注",align:"center"},{default:e(()=>[l(n(a.value.remark),1)]),_:1}),t(i,{label:"单据状态",align:"center"},{default:e(()=>[t(E,{type:Y(Z).BPM_PROCESS_INSTANCE_RESULT,value:a.value.status},null,8,["type","value"])]),_:1})]),_:1},8,["size"])]),_:1},8,["title","modelValue"]),t(O,{modelValue:c.value,"onUpdate:modelValue":o[4]||(o[4]=p=>c.value=p),title:"系统提示",width:"30%",center:""},{footer:e(()=>[x("span",ee,[t(f,{onClick:o[2]||(o[2]=p=>c.value=!1)},{default:e(()=>o[10]||(o[10]=[l("取消")])),_:1}),t(f,{type:"primary",onClick:o[3]||(o[3]=p=>S())},{default:e(()=>o[11]||(o[11]=[l(" 确认 ")])),_:1})])]),default:e(()=>[o[12]||(o[12]=x("span",null," 确认提交审核？ ",-1))]),_:1},8,["modelValue"])],64)}}}),de=J(ae,[["__scopeId","data-v-2a89bb09"]]);export{de as default};
