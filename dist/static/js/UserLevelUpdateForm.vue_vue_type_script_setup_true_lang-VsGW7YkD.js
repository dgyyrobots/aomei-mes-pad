/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 15:23:48 
 */
import{d as R,r as m,f as L,g as p,h as N,k as c,o as _,m as t,w as $,a as l,j as s,v as V,y as B,_ as j,z as q,N as z}from"./index-C8VsLzxx.js";import{g as M,a as S}from"./index-C9BBvhPT.js";import{_ as T}from"./MemberLevelSelect.vue_vue_type_script_setup_true_lang-CQwAQ0ME.js";const K=R({__name:"UserLevelUpdateForm",emits:["success"],setup(A,{expose:b,emit:g}){const{t:k}=z(),y=q(),n=m(!1),d=m(!1),o=m({id:void 0,nickname:void 0,levelId:void 0,reason:void 0}),w=L({reason:[{required:!0,message:"修改原因不能为空",trigger:"blur"}]}),r=m();b({open:async i=>{if(n.value=!0,I(),i){d.value=!0;try{o.value=await M(i)}finally{d.value=!1}}}});const x=g,U=async()=>{if(!(!r||!await r.value.validate())){d.value=!0;try{await S(o.value),y.success(k("common.updateSuccess")),n.value=!1,x("success")}finally{d.value=!1}}},I=()=>{o.value={id:void 0,nickname:void 0,levelId:void 0,reason:void 0},r.value?.resetFields()};return(i,e)=>{const f=p("el-input"),u=p("el-form-item"),C=p("el-form"),v=p("el-button"),D=j,F=N("loading");return _(),c(D,{modelValue:l(n),"onUpdate:modelValue":e[5]||(e[5]=a=>B(n)?n.value=a:null),title:"修改用户等级",width:"600"},{footer:t(()=>[s(v,{disabled:l(d),type:"primary",onClick:U},{default:t(()=>e[6]||(e[6]=[V("确 定")])),_:1},8,["disabled"]),s(v,{onClick:e[4]||(e[4]=a=>n.value=!1)},{default:t(()=>e[7]||(e[7]=[V("取 消")])),_:1})]),default:t(()=>[$((_(),c(C,{ref_key:"formRef",ref:r,"label-width":"100px",model:l(o),rules:l(w)},{default:t(()=>[s(u,{label:"用户编号",prop:"id"},{default:t(()=>[s(f,{modelValue:l(o).id,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).id=a),class:"!w-240px",disabled:"",placeholder:"请输入用户昵称"},null,8,["modelValue"])]),_:1}),s(u,{label:"用户昵称",prop:"nickname"},{default:t(()=>[s(f,{modelValue:l(o).nickname,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).nickname=a),class:"!w-240px",disabled:"",placeholder:"请输入用户昵称"},null,8,["modelValue"])]),_:1}),s(u,{label:"用户等级",prop:"levelId"},{default:t(()=>[s(T,{modelValue:l(o).levelId,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).levelId=a)},null,8,["modelValue"])]),_:1}),s(u,{label:"修改原因",prop:"reason"},{default:t(()=>[s(f,{modelValue:l(o).reason,"onUpdate:modelValue":e[3]||(e[3]=a=>l(o).reason=a),placeholder:"请输入修改原因",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[F,l(d)]])]),_:1},8,["modelValue"])}}});export{K as _};
