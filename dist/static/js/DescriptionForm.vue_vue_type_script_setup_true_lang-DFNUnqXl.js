/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{_ as N}from"./Descriptions-bK5yEg59.js";import{d as C}from"./spu.data-B7RrOj77.js";import{_ as B}from"./style.css_vue_type_style_index_0_src_true_lang-CMBP_pq0.js";import{d as S,aA as p,r as l,f as j,Y as d,g as u,h as T,c as E,o as i,k as f,l as _,a as t,m as n,j as v,w as O,i as R,F as q,z,c2 as A}from"./index-BdmDrM2Y.js";import{u as M}from"./useCrudSchemas-CKDeb1Cb.js";import{r as U}from"./formRules-wW3jWK7m.js";const Y={style:{width:"600px"}},P=S({name:"DescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:p.string.def(""),isDetail:p.bool.def(!1)},emits:["update:activeName"],setup(a,{expose:h,emit:D}){const w=z(),{allSchemas:y}=M(C),m=a,r=l(),e=l({description:""}),F=j({description:[U]});d(()=>e.value.description,o=>{o==="<p><br></p>"&&(e.value.description="")},{deep:!0,immediate:!0}),d(()=>m.propFormData,o=>{o&&A(e.value,o)},{immediate:!0});const g=D;return h({validate:async()=>{if(r)return await t(r).validate(o=>{if(o)Object.assign(m.propFormData,e.value);else throw w.warning("商品详情为完善!!"),g("update:activeName","description"),new Error("商品详情为完善!!")})}}),(o,c)=>{const k=u("el-form-item"),V=u("el-form"),b=N,x=T("dompurify-html");return i(),E(q,null,[a.isDetail?_("",!0):(i(),f(V,{key:0,ref_key:"descriptionFormRef",ref:r,"label-width":"120px",model:t(e),rules:t(F)},{default:n(()=>[v(k,{label:"商品详情",prop:"description"},{default:n(()=>[v(t(B),{modelValue:t(e).description,"onUpdate:modelValue":c[0]||(c[0]=s=>t(e).description=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),a.isDetail?(i(),f(b,{key:1,class:"descriptionFormDescriptions",data:t(e),schema:t(y).detailSchema},{description:n(({row:s})=>[O(R("div",Y,null,512),[[x,s.description]])]),_:1},8,["data","schema"])):_("",!0)],64)}}});export{P as _};
