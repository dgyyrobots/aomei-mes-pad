/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-14 11:54:00 
 */
import{_ as w}from"./style.css_vue_type_style_index_0_src_true_lang-CMBP_pq0.js";import{I as V}from"./InputPassword-BOPnvoR-.js";import{_ as j}from"./UploadImg-BE45TJSs.js";import{_ as D}from"./UploadImgs-CwkRwUw3.js";import{U as M}from"./UploadFile-B0OdqIyB.js";import{a_ as N,a$ as v,b0 as B,b1 as U,b2 as G,b3 as W,b4 as K,b5 as L,b6 as q,b7 as z,b8 as Q,b9 as Y,ba as H,bb as J,bc as X,bd as Z,be as ee,bf as O,bg as oe,bh as te,j as i,Q as b,bi as ne,bj as se,bk as re,bl as le,bm as ae,N as ce,d as pe,aA as h,r as g,O as ie,a as p,b as ue,Y as de,w as R,h as k,bn as me,at as fe,bo as be,bp as Pe,bq as he,br as ge,bs as Se,bt as Ce,bu as Ee,K as xe,F as _e,A as ve}from"./index-BdmDrM2Y.js";const T={Radio:v,Checkbox:O,CheckboxButton:O,Input:ee,Autocomplete:Z,InputNumber:X,Select:J,Cascader:H,Switch:Y,Slider:Q,TimePicker:z,DatePicker:q,Rate:L,ColorPicker:K,Transfer:W,Divider:N,TimeSelect:G,SelectV2:U,TreeSelect:B,RadioButton:v,InputPassword:V,Editor:w,UploadImg:j,UploadImgs:D,UploadFile:M},Oe=()=>({renderCheckboxOptions:t=>{const s=t?.componentProps?.optionsAlias?.labelField,n=t?.componentProps?.optionsAlias?.valueField,l=t.component==="Checkbox"?oe:te;return t?.componentProps?.options?.map(a=>{const{...u}=a;return i(l,b(u,{label:a[n||"value"]}),{default:()=>[a[s||"label"]]})})}}),Re=()=>({renderRadioOptions:t=>{const s=t?.componentProps?.optionsAlias?.labelField,n=t?.componentProps?.optionsAlias?.valueField,l=t.component==="Radio"?ne:se;return t?.componentProps?.options?.map(a=>{const{...u}=a;return i(l,b(u,{label:a[n||"value"]}),{default:()=>[a[s||"label"]]})})}}),P=(o,t="default",s)=>{if(!o||!Reflect.has(o,t))return null;if(!re(o[t]))return console.error(`${t} is not a function!`),null;const n=o[t];return n?n(s):null},ke=o=>{const t=n=>{const l=n?.componentProps?.optionsAlias?.labelField;return n?.componentProps?.options?.map(a=>a?.options?.length?i(le,{label:a[l||"label"]},{default:()=>a?.options?.map(u=>s(n,u))}):s(n,a))},s=(n,l)=>{const a=n?.componentProps?.optionsAlias?.labelField,u=n?.componentProps?.optionsAlias?.valueField,{label:m,value:f,...E}=l;return i(ae,b(E,{label:a?l[a]:m,value:u?l[u]:f}),{default:()=>n?.componentProps?.optionsSlot?P(o,`${n.field}-option`,{item:l}):void 0})};return{renderSelectOptions:t}},Te=o=>{const{t}=ce(),s=["Input","Autocomplete","InputNumber","InputPassword"],n=["Select","SelectV2","TimePicker","DatePicker","TimeSelect","TimeSelect"];return s.includes(o?.component)?{placeholder:t("common.inputText")+o.label}:n.includes(o?.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes(o?.componentProps?.type||o?.componentProps?.isRange)?{startPlaceholder:t("common.startTimeText"),endPlaceholder:t("common.endTimeText"),rangeSeparator:"-"}:{placeholder:t("common.selectText")+o.label}:{}},Fe=(o={})=>({...o.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...o}),Ie=o=>{const s=["ColorPicker"].includes(o.component)?{...o.componentProps}:{clearable:!0,...o.componentProps};return delete s?.slots,s},Ae=(o,t={},s)=>{const n={};for(const l in t)t[l]&&(n[l]=a=>P(o,`${s}-${l}`,a));return n},ye=(o,t)=>{const s={...t};return o.map(n=>{if(n.hidden)delete s[n.field];else if(n.component&&n.component!=="Divider"){const l=Reflect.has(s,n.field);s[n.field]=l?s[n.field]:n.value!==void 0?n.value:""}}),s},$e=(o,t)=>{const s={};return o[`${t}-error`]&&(s.error=n=>P(o,`${t}-error`,n)),o[`${t}-label`]&&(s.label=n=>P(o,`${t}-label`,n)),s};function F(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!Ce(o)}const{getPrefixCls:we}=fe(),Ve=we("form"),je=pe({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:h.bool.def(!1),model:{type:Object,default:()=>({})},autoSetPlaceholder:h.bool.def(!0),isCustom:h.bool.def(!1),labelWidth:h.oneOfType([String,Number]).def("auto"),vLoading:h.bool.def(!1)},emits:["register"],setup(o,{slots:t,expose:s,emit:n}){const l=g(),a=g({}),u=g({}),m=ie(()=>{const e={...o};return Object.assign(e,p(u)),e}),f=g({});ue(()=>{n("register",p(l)?.$parent,p(l))}),s({setValues:(e={})=>{f.value=Object.assign(p(f),e)},formModel:f,setProps:(e={})=>{u.value=Object.assign(p(u),e),a.value=e},delSchema:e=>{const{schema:c}=p(m),r=be(c,d=>d.field===e);r>-1&&c.splice(r,1)},addSchema:(e,c)=>{const{schema:r}=p(m);if(c!==void 0){r.splice(c,0,e);return}r.push(e)},setSchema:e=>{const{schema:c}=p(m);for(const r of c)for(const d of e)r.field===d.field&&Pe(r,d.path,d.value)},getElFormRef:()=>p(l)}),de(()=>p(m).schema,(e=[])=>{f.value=ye(e,p(f))},{immediate:!0,deep:!0});const I=()=>{let e;const{isCol:c}=p(m);return c?i(he,{gutter:20},F(e=x())?e:{default:()=>[e]}):x()},x=()=>{const{schema:e=[],isCol:c}=p(m);return e.filter(r=>!r.hidden).map(r=>{let d;const S=r.component==="Divider",C=T.Divider;return S?i(C,{contentPosition:"left",...r.componentProps},{default:()=>[r?.label]}):c?i(ge,Fe(r.colProps),F(d=_(r))?d:{default:()=>[d]}):_(r)})},_=e=>{const c=["SelectV2","Cascader","Transfer"],r={...Ae(t,e?.componentProps?.slots,e.field)};e?.component!=="SelectV2"&&e?.component!=="Cascader"&&e?.componentProps?.options&&(r.default=()=>A(e));const d=$e(t,e.field);return e?.labelMessage&&(d.label=()=>i(_e,null,[i("span",null,[e.label]),i(Ee,{placement:"right","raw-content":!0},{content:()=>R(i("span",null,null),[[k("dompurify-html"),e.labelMessage]]),default:()=>i(xe,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"relative top-1px ml-2px"},null)})])),i(Se,b(e.formItemProps||{},{prop:e.field,label:e.label||""}),{...d,default:()=>{const S=T[e.component],{autoSetPlaceholder:C}=p(m);return t[e.field]?P(t,e.field,f.value):i(S,b({modelValue:f.value[e.field],"onUpdate:modelValue":$=>f.value[e.field]=$},C&&Te(e),Ie(e),{style:e.componentProps?.style},c.includes(e?.component)&&e?.componentProps?.options?{options:e?.componentProps?.options||[]}:{}),{...r})}})},A=e=>{switch(e.component){case"Select":case"SelectV2":return ke(t).renderSelectOptions(e);case"Radio":case"RadioButton":return Re().renderRadioOptions(e);case"Checkbox":case"CheckboxButton":return Oe().renderCheckboxOptions(e)}},y=()=>{const e=["schema","isCol","autoSetPlaceholder","isCustom","model"],c={...p(m)};for(const r in c)e.indexOf(r)!==-1&&delete c[r];return c};return()=>R(i(me,b({ref:l},y(),{model:o.isCustom?o.model:f,class:Ve}),{default:()=>{const{isCustom:e}=p(m);return e?P(t,"default"):I()}}),[[k("loading"),o.vLoading]])}}),Qe=ve(je,[["__scopeId","data-v-b15ef216"]]);export{Qe as _,P as g};
