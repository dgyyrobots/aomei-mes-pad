/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{d as q,r as m,f as A,g as s,h as E,c as L,o as v,j as t,m as o,a,y as $,w as I,k as P,v as r,M as Q,K as R,F as W,z as G,aK as H}from"./index-D3S9e4gi.js";import{_ as J}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DXTslarw.js";import{_ as O}from"./index-B8rAEfSb.js";import{_ as X}from"./main.vue_vue_type_script_setup_true_lang-DP-Gkt4f.js";import Y from"./ImageTable-Bg5yXORy.js";import{_ as Z}from"./VoiceTable.vue_vue_type_script_setup_true_lang-DVlXd-Nz.js";import{_ as h}from"./VideoTable.vue_vue_type_script_setup_true_lang-C3baY_Vm.js";import x from"./UploadFile-r67LQqsm.js";import{_ as ee}from"./UploadVideo.vue_vue_type_script_setup_true_lang-Ma6IWkJr.js";import"./upload-BCphGXw8.js";import{g as ae,d as te}from"./index-EMbt0fVo.js";import{U as d}from"./useUpload-yhifLn-n.js";import"./index-BRd7sda4.js";import"./main-oTtghrwR.js";import"./main.vue_vue_type_script_setup_true_lang-6cNlUTpA.js";const be=q({__name:"index",setup(oe){const z=G(),_=m(d.Image),u=m(!1),g=m([]),f=m(0),y=m(-1);H("accountId",y);const n=A({pageNo:1,pageSize:10,accountId:y,permanent:!0}),c=m(!1),D=i=>{y.value=i,n.accountId=i,n.pageNo=1,p()},p=async()=>{u.value=!0;try{const i=await ae({...n,type:_.value});g.value=i.list,f.value=i.total}finally{u.value=!1}},M=()=>{n.pageNo=1,p()},k=()=>{g.value=[],f.value=0,M()},b=async i=>{await z.confirm("此操作将永久删除该文件, 是否继续?"),await te(i),z.alertSuccess("删除成功")};return(i,e)=>{const T=O,j=s("el-form-item"),B=s("el-form"),S=J,U=R,w=s("el-row"),V=Q,N=s("el-tab-pane"),F=s("el-button"),K=s("el-tabs"),C=E("hasPermi");return v(),L(W,null,[t(T,{title:"公众号素材",url:"https://doc.iocoder.cn/mp/material/"}),t(S,null,{default:o(()=>[t(B,{class:"-mb-15px",inline:!0,"label-width":"68px"},{default:o(()=>[t(j,{label:"公众号",prop:"accountId"},{default:o(()=>[t(a(X),{onChange:D})]),_:1})]),_:1})]),_:1}),t(S,null,{default:o(()=>[t(K,{modelValue:a(_),"onUpdate:modelValue":e[8]||(e[8]=l=>$(_)?_.value=l:null),onTabChange:k},{default:o(()=>[t(N,{name:a(d).Image},{label:o(()=>[t(w,{align:"middle"},{default:o(()=>[t(U,{icon:"ep:picture"}),e[9]||(e[9]=r(" 图片 "))]),_:1})]),default:o(()=>[I((v(),P(x,{type:a(d).Image,onUploaded:p},{default:o(()=>e[10]||(e[10]=[r(" 支持 bmp/png/jpeg/jpg/gif 格式，大小不超过 2M ")])),_:1},8,["type"])),[[C,["mp:material:upload-permanent"]]]),t(Y,{list:a(g),loading:a(u),onDelete:b},null,8,["list","loading"]),t(V,{limit:a(n).pageSize,"onUpdate:limit":e[0]||(e[0]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":e[1]||(e[1]=l=>a(n).pageNo=l),total:a(f),onPagination:p},null,8,["limit","page","total"])]),_:1},8,["name"]),t(N,{name:a(d).Voice},{label:o(()=>[t(w,{align:"middle"},{default:o(()=>[t(U,{icon:"ep:microphone"}),e[11]||(e[11]=r(" 语音 "))]),_:1})]),default:o(()=>[I((v(),P(x,{type:a(d).Voice,onUploaded:p},{default:o(()=>e[12]||(e[12]=[r(" 格式支持 mp3/wma/wav/amr，文件大小不超过 2M，播放长度不超过 60s ")])),_:1},8,["type"])),[[C,["mp:material:upload-permanent"]]]),t(Z,{list:a(g),loading:a(u),onDelete:b},null,8,["list","loading"]),t(V,{limit:a(n).pageSize,"onUpdate:limit":e[2]||(e[2]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":e[3]||(e[3]=l=>a(n).pageNo=l),total:a(f),onPagination:p},null,8,["limit","page","total"])]),_:1},8,["name"]),t(N,{name:a(d).Video},{label:o(()=>[t(w,{align:"middle"},{default:o(()=>[t(U,{icon:"ep:video-play"}),e[13]||(e[13]=r(" 视频 "))]),_:1})]),default:o(()=>[I((v(),P(F,{plain:"",type:"primary",onClick:e[4]||(e[4]=l=>c.value=!0)},{default:o(()=>e[14]||(e[14]=[r("新建视频")])),_:1})),[[C,["mp:material:upload-permanent"]]]),t(ee,{modelValue:a(c),"onUpdate:modelValue":e[5]||(e[5]=l=>$(c)?c.value=l:null)},null,8,["modelValue"]),t(h,{list:a(g),loading:a(u),onDelete:b},null,8,["list","loading"]),t(V,{limit:a(n).pageSize,"onUpdate:limit":e[6]||(e[6]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":e[7]||(e[7]=l=>a(n).pageNo=l),total:a(f),onPagination:p},null,8,["limit","page","total"])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),_:1})],64)}}});export{be as default};
