/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{d as L,r as u,f as R,g as m,h as A,k as v,o as p,m as l,w as I,a,j as s,c as M,F as O,n as $,v as _,t as q,y as j,_ as z,N as P,z as Y}from"./index-D3S9e4gi.js";import{c as H,D as J}from"./dict-D5UmY5m8.js";import{a as K,c as Q,u as W}from"./index-B2va9RCx.js";import{C as w}from"./constants-BPQb3nxh.js";const oe=L({__name:"GroupForm",emits:["success"],setup(X,{expose:C,emit:D}){const{t:f}=P(),g=Y(),r=u(!1),b=u(""),n=u(!1),V=u(""),o=u({id:void 0,name:void 0,remark:void 0,status:w.ENABLE}),x=R({name:[{required:!0,message:"名称不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}),i=u();C({open:async(d,e)=>{if(r.value=!0,b.value=f(`action.${d}`),V.value=d,F(),e){n.value=!0;try{o.value=await K(e)}finally{n.value=!1}}}});const E=D,T=async()=>{if(!(!i||!await i.value.validate())){n.value=!0;try{const e=o.value;V.value==="create"?(await Q(e),g.success(f("common.createSuccess"))):(await W(e),g.success(f("common.updateSuccess"))),r.value=!1,E("success")}finally{n.value=!1}}},F=()=>{o.value={id:void 0,name:void 0,remark:void 0,status:w.ENABLE},i.value?.resetFields()};return(d,e)=>{const k=m("el-input"),c=m("el-form-item"),N=m("el-radio"),S=m("el-radio-group"),B=m("el-form"),y=m("el-button"),U=z,G=A("loading");return p(),v(U,{modelValue:a(r),"onUpdate:modelValue":e[4]||(e[4]=t=>j(r)?r.value=t:null),title:a(b),width:"600"},{footer:l(()=>[s(y,{disabled:a(n),type:"primary",onClick:T},{default:l(()=>e[5]||(e[5]=[_("确 定")])),_:1},8,["disabled"]),s(y,{onClick:e[3]||(e[3]=t=>r.value=!1)},{default:l(()=>e[6]||(e[6]=[_("取 消")])),_:1})]),default:l(()=>[I((p(),v(B,{ref_key:"formRef",ref:i,"label-width":"100px",model:a(o),rules:a(x)},{default:l(()=>[s(c,{label:"名称",prop:"name"},{default:l(()=>[s(k,{modelValue:a(o).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(o).name=t),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),s(c,{label:"状态",prop:"status"},{default:l(()=>[s(S,{modelValue:a(o).status,"onUpdate:modelValue":e[1]||(e[1]=t=>a(o).status=t)},{default:l(()=>[(p(!0),M(O,null,$(a(H)(a(J).COMMON_STATUS),t=>(p(),v(N,{key:t.value,label:t.value},{default:l(()=>[_(q(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(c,{label:"备注",prop:"remark"},{default:l(()=>[s(k,{modelValue:a(o).remark,"onUpdate:modelValue":e[2]||(e[2]=t=>a(o).remark=t),placeholder:"请输入备注",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[G,a(n)]])]),_:1},8,["modelValue","title"])}}});export{oe as _};
