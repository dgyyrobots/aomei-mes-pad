/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-03 10:14:51 
 */
import{d as z,r as m,f as H,b as Q,g as p,h as D,c as T,o as s,j as e,m as o,a as t,J as I,F as w,n as M,k as c,v as f,K as j,w as h,t as G,L as F,M as J}from"./index-BuFigy1A.js";import{_ as W}from"./DictTag.vue_vue_type_script_lang-DcBSip_F.js";import{_ as X}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dq4j5fFx.js";import{_ as Z}from"./NotifyMessageDetail.vue_vue_type_script_setup_true_lang-Cro9zW4l.js";import{g as ee}from"./index-CF3bEbWr.js";import{c as U,D as d}from"./dict-Ve5yp9Dm.js";import"./color-B5phLuB-.js";const ue=z({name:"SystemNotifyMessage",__name:"index",setup(le){const y=m(!0),V=m(0),k=m([]),n=H({pageNo:1,pageSize:10,userType:void 0,userId:void 0,templateCode:void 0,templateType:void 0,createTime:[]}),x=m(),g=async()=>{y.value=!0;try{const u=await ee(n);k.value=u.list,V.value=u.total}finally{y.value=!1}},_=()=>{n.pageNo=1,g()},R=()=>{x.value.resetFields(),_()},E=m(),L=u=>{E.value.open(u)};return Q(()=>{g()}),(u,a)=>{const C=p("el-input"),i=p("el-form-item"),N=p("el-option"),P=p("el-select"),$=p("el-date-picker"),S=j,b=p("el-button"),O=p("el-form"),Y=X,r=p("el-table-column"),v=W,q=p("el-table"),A=J,B=D("hasPermi"),K=D("loading");return s(),T(w,null,[e(Y,null,{default:o(()=>[e(O,{ref_key:"queryFormRef",ref:x,class:"-mb-15px",inline:!0,"label-width":"68px",model:t(n)},{default:o(()=>[e(i,{label:"用户编号",prop:"userId"},{default:o(()=>[e(C,{modelValue:t(n).userId,"onUpdate:modelValue":a[0]||(a[0]=l=>t(n).userId=l),class:"!w-240px",clearable:"",placeholder:"请输入用户编号",onKeyup:I(_,["enter"])},null,8,["modelValue"])]),_:1}),e(i,{label:"用户类型",prop:"userType"},{default:o(()=>[e(P,{modelValue:t(n).userType,"onUpdate:modelValue":a[1]||(a[1]=l=>t(n).userType=l),class:"!w-240px",clearable:"",placeholder:"请选择用户类型"},{default:o(()=>[(s(!0),T(w,null,M(t(U)(t(d).USER_TYPE),l=>(s(),c(N,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"模板编码",prop:"templateCode"},{default:o(()=>[e(C,{modelValue:t(n).templateCode,"onUpdate:modelValue":a[2]||(a[2]=l=>t(n).templateCode=l),class:"!w-240px",clearable:"",placeholder:"请输入模板编码",onKeyup:I(_,["enter"])},null,8,["modelValue"])]),_:1}),e(i,{label:"模版类型",prop:"templateType"},{default:o(()=>[e(P,{modelValue:t(n).templateType,"onUpdate:modelValue":a[3]||(a[3]=l=>t(n).templateType=l),class:"!w-240px",clearable:"",placeholder:"请选择模版类型"},{default:o(()=>[(s(!0),T(w,null,M(t(U)(t(d).SYSTEM_NOTIFY_TEMPLATE_TYPE),l=>(s(),c(N,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"创建时间",prop:"createTime"},{default:o(()=>[e($,{modelValue:t(n).createTime,"onUpdate:modelValue":a[4]||(a[4]=l=>t(n).createTime=l),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(i,null,{default:o(()=>[e(b,{onClick:_},{default:o(()=>[e(S,{class:"mr-5px",icon:"ep:search"}),a[7]||(a[7]=f(" 搜索 "))]),_:1}),e(b,{onClick:R},{default:o(()=>[e(S,{class:"mr-5px",icon:"ep:refresh"}),a[8]||(a[8]=f(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(Y,null,{default:o(()=>[h((s(),c(q,{data:t(k)},{default:o(()=>[e(r,{align:"center",label:"编号",prop:"id"}),e(r,{align:"center",label:"用户类型",prop:"userType"},{default:o(l=>[e(v,{type:t(d).USER_TYPE,value:l.row.userType},null,8,["type","value"])]),_:1}),e(r,{align:"center",label:"用户编号",prop:"userId",width:"80"}),e(r,{align:"center",label:"模板编码",prop:"templateCode",width:"80"}),e(r,{align:"center",label:"发送人名称",prop:"templateNickname",width:"180"}),e(r,{align:"center",label:"模版内容",prop:"templateContent","show-overflow-tooltip":"",width:"200"}),e(r,{align:"center",label:"模版参数",prop:"templateParams","show-overflow-tooltip":"",width:"180"},{default:o(l=>[f(G(l.row.templateParams),1)]),_:1}),e(r,{align:"center",label:"模版类型",prop:"templateType",width:"120"},{default:o(l=>[e(v,{type:t(d).SYSTEM_NOTIFY_TEMPLATE_TYPE,value:l.row.templateType},null,8,["type","value"])]),_:1}),e(r,{align:"center",label:"是否已读",prop:"readStatus",width:"100"},{default:o(l=>[e(v,{type:t(d).INFRA_BOOLEAN_STRING,value:l.row.readStatus},null,8,["type","value"])]),_:1}),e(r,{align:"center",formatter:t(F),label:"阅读时间",prop:"readTime",width:"180"},null,8,["formatter"]),e(r,{align:"center",formatter:t(F),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),e(r,{align:"center",fixed:"right",label:"操作"},{default:o(l=>[h((s(),c(b,{link:"",type:"primary",onClick:te=>L(l.row)},{default:o(()=>a[9]||(a[9]=[f("详情")])),_:2},1032,["onClick"])),[[B,["system:notify-message:query"]]])]),_:1})]),_:1},8,["data"])),[[K,t(y)]]),e(A,{limit:t(n).pageSize,"onUpdate:limit":a[5]||(a[5]=l=>t(n).pageSize=l),page:t(n).pageNo,"onUpdate:page":a[6]||(a[6]=l=>t(n).pageNo=l),total:t(V),onPagination:g},null,8,["limit","page","total"])]),_:1}),e(Z,{ref_key:"detailRef",ref:E},null,512)],64)}}});export{ue as default};
