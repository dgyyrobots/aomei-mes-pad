/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{d as R,O as b,r as w,Y as S,g as r,c as i,o as s,i as a,l as c,j as n,m as u,v as k,K as x,a as t,F as j,n as $,k as I,y as F,z as L,X as O,A as T}from"./index-D3S9e4gi.js";import Y from"./main-_XSTgLNI.js";import z from"./main-YbJFO2Oy.js";import{W as D}from"./main-DMWgTUaa.js";import"./TabNews-BIoKbRT9.js";import"./TabText.vue_vue_type_script_setup_true_lang-juBWhPyi.js";import"./TabImage-DAacsBHP.js";import"./useUpload-yhifLn-n.js";import"./main-oTtghrwR.js";import"./main.vue_vue_type_script_setup_true_lang-6cNlUTpA.js";import"./index-EMbt0fVo.js";import"./index-DwU7onn1.js";import"./TabVoice-Bn7Fup1I.js";import"./TabVideo-CyUxJChe.js";import"./TabMusic.vue_vue_type_script_setup_true_lang-Dz3JwSxS.js";const X=[{value:"view",label:"跳转网页"},{value:"miniprogram",label:"跳转小程序"},{value:"click",label:"点击回复"},{value:"article_view_limited",label:"跳转图文消息"},{value:"scancode_push",label:"扫码直接返回结果"},{value:"scancode_waitmsg",label:"扫码回复"},{value:"pic_sysphoto",label:"系统拍照发图"},{value:"pic_photo_or_album",label:"拍照或者相册"},{value:"pic_weixin",label:"微信相册"},{value:"location_select",label:"选择地理位置"}],q={class:"configure_page"},G={class:"delete_btn"},H={key:0},J={class:"menu_content"},Q={class:"menu_content"},Z={key:0,class:"configur_content"},ee={key:1,class:"configur_content"},le={class:"applet"},te={class:"applet"},oe={class:"applet"},ne={key:2,class:"configur_content"},ae={key:0,class:"select-item"},se={key:1},ie={key:3,class:"configur_content"},ue=R({__name:"MenuEditor",props:{accountId:{},modelValue:{},isParent:{type:Boolean}},emits:["delete","update:modelValue"],setup(U,{emit:P}){const A=L(),g=U,V=P,l=b({get(){return g.modelValue},set(p){V("update:modelValue",p)}}),_=w(!1),y=w(!1),C=b(()=>!(l.value.children?.length>0));S(l,()=>{y.value=!1,O(()=>{y.value=!0})});const M=p=>{const e=p.articleId,v=p.content.newsItem;v.length>1&&A.alertWarning("您选择的是多图文，将默认跳转第一篇"),_.value=!1,l.value.articleId=e,l.value.replyArticles=[],v.forEach(d=>{l.value.replyArticles.push({title:d.title,description:d.digest,picUrl:d.picUrl,url:d.url})})},N=()=>{delete l.value.articleId,delete l.value.replyArticles};return(p,e)=>{const v=x,d=r("el-button"),m=r("el-input"),W=r("el-option"),B=r("el-select"),E=x,f=r("el-row"),h=r("el-col"),K=r("el-dialog");return s(),i("div",null,[a("div",q,[a("div",G,[n(d,{type:"danger",onClick:e[0]||(e[0]=o=>V("delete"))},{default:u(()=>[n(v,{icon:"ep:delete"}),e[11]||(e[11]=k(" 删除当前菜单 "))]),_:1})]),a("div",null,[e[12]||(e[12]=a("span",null,"菜单名称：",-1)),n(m,{modelValue:t(l).name,"onUpdate:modelValue":e[1]||(e[1]=o=>t(l).name=o),class:"input_width",clearable:"",maxlength:p.isParent?4:7,placeholder:"请输入菜单名称"},null,8,["modelValue","maxlength"])]),t(C)?(s(),i("div",H,[a("div",J,[e[13]||(e[13]=a("span",null,"菜单标识：",-1)),n(m,{modelValue:t(l).menuKey,"onUpdate:modelValue":e[2]||(e[2]=o=>t(l).menuKey=o),class:"input_width",clearable:"",placeholder:"请输入菜单 KEY"},null,8,["modelValue"])]),a("div",Q,[e[14]||(e[14]=a("span",null,"菜单内容：",-1)),n(B,{modelValue:t(l).type,"onUpdate:modelValue":e[3]||(e[3]=o=>t(l).type=o),class:"menu_option",clearable:"",placeholder:"请选择"},{default:u(()=>[(s(!0),i(j,null,$(t(X),o=>(s(),I(W,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t(l).type==="view"?(s(),i("div",Z,[e[15]||(e[15]=a("span",null,"跳转链接：",-1)),n(m,{modelValue:t(l).url,"onUpdate:modelValue":e[4]||(e[4]=o=>t(l).url=o),class:"input_width",clearable:"",placeholder:"请输入链接"},null,8,["modelValue"])])):c("",!0),t(l).type==="miniprogram"?(s(),i("div",ee,[a("div",le,[e[16]||(e[16]=a("span",null,"小程序的 appid ：",-1)),n(m,{modelValue:t(l).miniProgramAppId,"onUpdate:modelValue":e[5]||(e[5]=o=>t(l).miniProgramAppId=o),class:"input_width",clearable:"",placeholder:"请输入小程序的appid"},null,8,["modelValue"])]),a("div",te,[e[17]||(e[17]=a("span",null,"小程序的页面路径：",-1)),n(m,{modelValue:t(l).miniProgramPagePath,"onUpdate:modelValue":e[6]||(e[6]=o=>t(l).miniProgramPagePath=o),class:"input_width",clearable:"",placeholder:"请输入小程序的页面路径，如：pages/index"},null,8,["modelValue"])]),a("div",oe,[e[18]||(e[18]=a("span",null,"小程序的备用网页：",-1)),n(m,{modelValue:t(l).url,"onUpdate:modelValue":e[7]||(e[7]=o=>t(l).url=o),class:"input_width",clearable:"",placeholder:"不支持小程序的老版本客户端将打开本网页"},null,8,["modelValue"])]),e[19]||(e[19]=a("p",{class:"blue"},"tips:需要和公众号进行关联才可以把小程序绑定带微信菜单上哟！",-1))])):c("",!0),t(l).type==="article_view_limited"?(s(),i("div",ne,[n(f,null,{default:u(()=>[t(l)&&t(l).replyArticles?(s(),i("div",ae,[n(t(z),{articles:t(l).replyArticles},null,8,["articles"]),n(f,{align:"middle",class:"ope-row",justify:"center"},{default:u(()=>[n(d,{circle:"",type:"danger",onClick:N},{default:u(()=>[n(E,{icon:"ep:delete"})]),_:1})]),_:1})])):(s(),i("div",se,[n(f,{justify:"center"},{default:u(()=>[n(h,{span:24,style:{"text-align":"center"}},{default:u(()=>[n(d,{type:"success",onClick:e[8]||(e[8]=o=>_.value=!0)},{default:u(()=>[e[20]||(e[20]=k(" 素材库选择 ")),n(v,{icon:"ep:circle-check"})]),_:1})]),_:1})]),_:1})])),n(K,{modelValue:t(_),"onUpdate:modelValue":e[9]||(e[9]=o=>F(_)?_.value=o:null),"destroy-on-close":"",title:"选择图文",width:"80%"},{default:u(()=>[n(t(D),{"account-id":g.accountId,type:"news",onSelectMaterial:M},null,8,["account-id"])]),_:1},8,["modelValue"])]),_:1})])):c("",!0),t(l).type==="click"||t(l).type==="scancode_waitmsg"?(s(),i("div",ie,[t(y)?(s(),I(t(Y),{key:0,modelValue:t(l).reply,"onUpdate:modelValue":e[10]||(e[10]=o=>t(l).reply=o)},null,8,["modelValue"])):c("",!0)])):c("",!0)])):c("",!0)])])}}}),Ie=T(ue,[["__scopeId","data-v-8cfd7e9d"]]);export{Ie as default};
