/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-10 15:05:55 
 */
import{V as L,d as O,r as p,f as S,b as j,g as v,h as T,k as f,o as b,m as n,j as e,w,a as o,v as u,t as Q,L as Y,M as G,y as H,_ as J,z as K,N as X}from"./index-D3S9e4gi.js";import{_ as Z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DXTslarw.js";import{_ as ee}from"./DictTag.vue_vue_type_script_lang-DqsMypuM.js";import{D as te}from"./dict-D5UmY5m8.js";const le=async C=>await L.get({url:"/mes/md-vendor/page",params:C}),se=O({name:"Task",__name:"SupplierSelect",emits:["onSelected"],setup(C,{expose:V,emit:P}){const $=K(),{t:D}=X(),d=p(!0),y=p([]),N=p(0),c=S({pageNo:1,pageSize:10,taskCode:void 0,taskName:void 0,workorderCode:void 0,workorderName:void 0,workstationCode:void 0,workstationName:void 0,processCode:void 0,processName:void 0,itemCode:void 0,itemName:void 0,specification:void 0,clientCode:void 0,clientName:void 0,clientNick:void 0,status:void 0,createTime:[]}),_=async()=>{d.value=!0;try{const i=await le(c);y.value=i.list,N.value=i.total}finally{d.value=!1}},x=p({}),R=i=>{x.value=i},r=p(!1),k=p("");V({open:async()=>{r.value=!0,k.value="供应商选择",d.value=!0;try{_()}finally{d.value=!1}}});const s=S({loading:!1,showFlag:!1,selectedItemId:void 0,selectedRows:void 0}),q=i=>{i&&(s.selectedRows=i)},M=P,U=async()=>{if(s.selectedItemId==null||s.selectedItemId==0){$.warning(D("请至少选择一条数据!"));return}M("onSelected",s.selectedRows),r.value=!1};return j(()=>{_()}),(i,l)=>{const z=v("el-radio"),t=v("el-table-column"),F=ee,m=v("el-button"),W=v("el-table"),h=G,A=Z,B=J,I=T("hasPermi"),E=T("loading");return b(),f(B,{title:o(k),modelValue:o(r),"onUpdate:modelValue":l[4]||(l[4]=a=>H(r)?r.value=a:null),width:"80%"},{footer:n(()=>[e(m,{onClick:U,type:"primary"},{default:n(()=>l[8]||(l[8]=[u("确 定")])),_:1}),e(m,{onClick:l[3]||(l[3]=a=>r.value=!1)},{default:n(()=>l[9]||(l[9]=[u("取 消")])),_:1})]),default:n(()=>[e(A,null,{default:n(()=>[w((b(),f(W,{data:o(y),stripe:!0,"show-overflow-tooltip":!0,onCurrentChange:R},{default:n(()=>[e(t,{align:"center",label:"检测模板编号"},{default:n(a=>[e(z,{modelValue:o(s).selectedItemId,"onUpdate:modelValue":l[0]||(l[0]=g=>o(s).selectedItemId=g),label:a.row.id,onChange:g=>q(a.row)},{default:n(()=>l[5]||(l[5]=[u(Q(""))])),_:2},1032,["modelValue","label","onChange"])]),_:1}),e(t,{label:"供应商id",align:"center",prop:"id"}),e(t,{label:"供应商名称",align:"center",prop:"supplierName"}),e(t,{label:"纳税人识别号",align:"center",prop:"supplierNo"}),e(t,{label:"简称",align:"center",prop:"supplierShort"}),e(t,{label:"logo",align:"center",prop:"logo"}),e(t,{label:"邮箱",align:"center",prop:"supplierEmail"}),e(t,{label:"电话",align:"center",prop:"supplierPhone"}),e(t,{label:"qq",align:"center",prop:"supplierQq"}),e(t,{label:"微信号",align:"center",prop:"supplierWeixin"}),e(t,{label:"账户金额",align:"center",prop:"account"}),e(t,{label:"已提现金额",align:"center",prop:"accountWithdraw"}),e(t,{label:"提现中金额",align:"center",prop:"accountWithdrawApply"}),e(t,{label:"分组名称",align:"center",prop:"groupName"}),e(t,{label:"状态",align:"center",prop:"status"},{default:n(a=>[e(F,{type:o(te).COMMON_STATUS,value:a.row.status},null,8,["type","value"])]),_:1}),e(t,{label:"类别",align:"center",prop:"categoryId"}),e(t,{label:"店铺类别",align:"center",prop:"categoryName"}),e(t,{label:"过期时间",align:"center",prop:"expireTime"}),e(t,{label:"开店费用",align:"center",prop:"openFee"}),e(t,{label:"保证金",align:"center",prop:"bond"}),e(t,{label:"联系人",align:"center",prop:"supplierContact"}),e(t,{label:"省",align:"center",prop:"provinceName"}),e(t,{label:"城市",align:"center",prop:"cityName"}),e(t,{label:"区县",align:"center",prop:"districtName"}),e(t,{label:"乡镇",align:"center",prop:"communityName"}),e(t,{label:"创建时间",align:"center",prop:"createTime",formatter:o(Y),width:"180px"},null,8,["formatter"]),e(t,{label:"操作",align:"center"},{default:n(a=>[w((b(),f(m,{link:"",type:"primary",onClick:g=>i.openForm("update",a.row.id)},{default:n(()=>l[6]||(l[6]=[u(" 编辑 ")])),_:2},1032,["onClick"])),[[I,["supplier::update"]]]),w((b(),f(m,{link:"",type:"danger",onClick:g=>i.handleDelete(a.row.id)},{default:n(()=>l[7]||(l[7]=[u(" 删除 ")])),_:2},1032,["onClick"])),[[I,["supplier::delete"]]])]),_:1})]),_:1},8,["data"])),[[E,o(d)]]),e(h,{total:o(N),page:o(c).pageNo,"onUpdate:page":l[1]||(l[1]=a=>o(c).pageNo=a),limit:o(c).pageSize,"onUpdate:limit":l[2]||(l[2]=a=>o(c).pageSize=a),onPagination:_},null,8,["total","page","limit"])]),_:1})]),_:1},8,["title","modelValue"])}}});export{se as _};
