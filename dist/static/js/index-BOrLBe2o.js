/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 14:15:15 
 */
import{d as G,r as d,f as W,b as X,g as r,h as U,c as $,o as i,j as t,m as o,a,J as F,F as P,n as Z,k as c,w as y,v as u,K as h,L as ee,M as te,z as le,N as ae}from"./index-D3eRVKjp.js";import{_ as oe}from"./DictTag.vue_vue_type_script_lang-h3s-iN69.js";import{_ as ne}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Dg75KKir.js";import{_ as se}from"./DictTypeForm.vue_vue_type_script_setup_true_lang-BeoQO0oj.js";import{b as re,d as ie,e as pe}from"./dict.type-BHhu6qHp.js";import{c as me,D as O}from"./dict-CqgorI4d.js";import{d as ue}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./constants-BPQb3nxh.js";const xe=G({name:"SystemDictType",__name:"index",setup(de){const b=le(),{t:Y}=ae(),k=d(!0),C=d(0),T=d([]),n=W({pageNo:1,pageSize:10,name:"",type:"",status:void 0,createTime:[]}),D=d(),x=d(!1),f=async()=>{k.value=!0;try{const s=await re(n);T.value=s.list,C.value=s.total}finally{k.value=!1}},g=()=>{n.pageNo=1,f()},z=()=>{D.value.resetFields(),g()},V=d(),S=(s,e)=>{V.value.open(s,e)},K=async s=>{try{await b.delConfirm(),await ie(s),b.success(Y("common.delSuccess")),await f()}catch(e){console.log(e)}},L=async()=>{try{await b.exportConfirm(),x.value=!0;const s=await pe(n);ue.excel(s,"字典类型.xls")}catch(s){console.log(s)}finally{x.value=!1}};return X(()=>{f()}),(s,e)=>{const M=r("el-input"),_=r("el-form-item"),R=r("el-option"),q=r("el-select"),B=r("el-date-picker"),v=h,p=r("el-button"),E=r("el-form"),N=ne,m=r("el-table-column"),I=oe,A=r("router-link"),H=r("el-table"),Q=te,w=U("hasPermi"),j=U("loading");return i(),$(P,null,[t(N,null,{default:o(()=>[t(E,{ref_key:"queryFormRef",ref:D,class:"-mb-15px",inline:!0,"label-width":"68px",model:a(n)},{default:o(()=>[t(_,{label:"字典名称",prop:"name"},{default:o(()=>[t(M,{modelValue:a(n).name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(n).name=l),class:"!w-240px",clearable:"",placeholder:"请输入字典名称",onKeyup:F(g,["enter"])},null,8,["modelValue"])]),_:1}),t(_,{label:"字典类型",prop:"type"},{default:o(()=>[t(M,{modelValue:a(n).type,"onUpdate:modelValue":e[1]||(e[1]=l=>a(n).type=l),class:"!w-240px",clearable:"",placeholder:"请输入字典类型",onKeyup:F(g,["enter"])},null,8,["modelValue"])]),_:1}),t(_,{label:"状态",prop:"status"},{default:o(()=>[t(q,{modelValue:a(n).status,"onUpdate:modelValue":e[2]||(e[2]=l=>a(n).status=l),class:"!w-240px",clearable:"",placeholder:"请选择字典状态"},{default:o(()=>[(i(!0),$(P,null,Z(a(me)(a(O).COMMON_STATUS),l=>(i(),c(R,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"创建时间",prop:"createTime"},{default:o(()=>[t(B,{modelValue:a(n).createTime,"onUpdate:modelValue":e[3]||(e[3]=l=>a(n).createTime=l),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(_,null,{default:o(()=>[t(p,{onClick:g},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:search"}),e[7]||(e[7]=u(" 搜索 "))]),_:1}),t(p,{onClick:z},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:refresh"}),e[8]||(e[8]=u(" 重置 "))]),_:1}),y((i(),c(p,{plain:"",type:"primary",onClick:e[4]||(e[4]=l=>S("create"))},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:plus"}),e[9]||(e[9]=u(" 新增 "))]),_:1})),[[w,["system:dict:create"]]]),y((i(),c(p,{loading:a(x),plain:"",type:"success",onClick:L},{default:o(()=>[t(v,{class:"mr-5px",icon:"ep:download"}),e[10]||(e[10]=u(" 导出 "))]),_:1},8,["loading"])),[[w,["system:dict:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(N,null,{default:o(()=>[y((i(),c(H,{data:a(T)},{default:o(()=>[t(m,{align:"center",label:"字典编号",prop:"id"}),t(m,{align:"center",label:"字典名称",prop:"name","show-overflow-tooltip":""}),t(m,{align:"center",label:"字典类型",prop:"type",width:"300"}),t(m,{align:"center",label:"状态",prop:"status"},{default:o(l=>[t(I,{type:a(O).COMMON_STATUS,value:l.row.status},null,8,["type","value"])]),_:1}),t(m,{align:"center",label:"备注",prop:"remark"}),t(m,{align:"center",formatter:a(ee),label:"创建时间",prop:"createTime",width:"180"},null,8,["formatter"]),t(m,{align:"center",label:"操作"},{default:o(l=>[y((i(),c(p,{link:"",type:"primary",onClick:J=>S("update",l.row.id)},{default:o(()=>e[11]||(e[11]=[u("修改")])),_:2},1032,["onClick"])),[[w,["system:dict:update"]]]),t(A,{to:"/dict/type/data/"+l.row.type},{default:o(()=>[t(p,{link:"",type:"primary"},{default:o(()=>e[12]||(e[12]=[u("数据")])),_:1})]),_:2},1032,["to"]),y((i(),c(p,{link:"",type:"danger",onClick:J=>K(l.row.id)},{default:o(()=>e[13]||(e[13]=[u("删除")])),_:2},1032,["onClick"])),[[w,["system:dict:delete"]]])]),_:1})]),_:1},8,["data"])),[[j,a(k)]]),t(Q,{limit:a(n).pageSize,"onUpdate:limit":e[5]||(e[5]=l=>a(n).pageSize=l),page:a(n).pageNo,"onUpdate:page":e[6]||(e[6]=l=>a(n).pageNo=l),total:a(C),onPagination:f},null,8,["limit","page","total"])]),_:1}),t(se,{ref_key:"formRef",ref:V,onSuccess:f},null,512)],64)}}});export{xe as default};
