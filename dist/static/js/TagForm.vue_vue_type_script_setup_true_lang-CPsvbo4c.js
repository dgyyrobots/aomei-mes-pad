/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-15 10:10:14 
 */
import{V as u,d as q,r as n,f as B,g as d,h as L,k as y,o as w,_ as U,a as t,y as j,m as r,w as z,j as f,v as T,N as I,z as P}from"./index-BdC40rFX.js";const K=async a=>await u.get({url:"/member/tag/page",params:a}),A=async a=>await u.get({url:`/member/tag/get?id=${a}`}),O=async()=>await u.get({url:"/member/tag/list-all-simple"}),E=async a=>await u.post({url:"/member/tag/create",data:a}),G=async a=>await u.put({url:"/member/tag/update",data:a}),Q=async a=>await u.delete({url:`/member/tag/delete?id=${a}`}),W=q({__name:"TagForm",emits:["success"],setup(a,{expose:V,emit:k}){const{t:g}=I(),p=P(),s=n(!1),v=n(""),o=n(!1),_=n(""),l=n({id:void 0,name:void 0}),x=B({name:[{required:!0,message:"标签名称不能为空",trigger:"blur"}]}),i=n();V({open:async(m,e)=>{if(s.value=!0,v.value=g(`action.${m}`),_.value=m,$(),e){o.value=!0;try{l.value=await A(e)}finally{o.value=!1}}}});const M=k,C=async()=>{if(!(!i||!await i.value.validate())){o.value=!0;try{const e=l.value;_.value==="create"?(await E(e),p.success(g("common.createSuccess"))):(await G(e),p.success(g("common.updateSuccess"))),s.value=!1,M("success")}finally{o.value=!1}}},$=()=>{l.value={id:void 0,name:void 0},i.value?.resetFields()};return(m,e)=>{const D=d("el-input"),F=d("el-form-item"),R=d("el-form"),b=d("el-button"),N=U,S=L("loading");return w(),y(N,{modelValue:t(s),"onUpdate:modelValue":e[2]||(e[2]=c=>j(s)?s.value=c:null),title:t(v)},{footer:r(()=>[f(b,{disabled:t(o),type:"primary",onClick:C},{default:r(()=>e[3]||(e[3]=[T("确 定")])),_:1},8,["disabled"]),f(b,{onClick:e[1]||(e[1]=c=>s.value=!1)},{default:r(()=>e[4]||(e[4]=[T("取 消")])),_:1})]),default:r(()=>[z((w(),y(R,{ref_key:"formRef",ref:i,"label-width":"100px",model:t(l),rules:t(x)},{default:r(()=>[f(F,{label:"标签名称",prop:"name"},{default:r(()=>[f(D,{modelValue:t(l).name,"onUpdate:modelValue":e[0]||(e[0]=c=>t(l).name=c),placeholder:"请输入标签名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[S,t(o)]])]),_:1},8,["modelValue","title"])}}});export{W as _,K as a,Q as d,O as g};
