/*!  build: Vue Shop Vite 
     copyright: https://vue-admin-beautiful.com/shop-vite  
     time: 2025-04-08 13:49:10 
 */
import{d as W,r as c,f as h,b as A,g as s,h as $,c as F,o as p,j as t,m as l,a,J as G,F as M,n as Z,k as u,w as f,v as d,K as ee,L as N,M as te,z as ae,N as oe}from"./index-BW9ifGp0.js";import{_ as le}from"./DictTag.vue_vue_type_script_lang-CGh0XIVR.js";import{_ as ne}from"./ContentWrap.vue_vue_type_script_setup_true_lang-58zNwBTb.js";import{_ as re}from"./index-hVfLpCoZ.js";import{_ as se,g as ie,d as pe,e as me}from"./Demo01ContactForm.vue_vue_type_script_setup_true_lang-UfG4BNgU.js";import{c as ce,D as P}from"./dict-BcQRoIPV.js";import{d as ue}from"./download-U6qaYcnP.js";import"./color-B5phLuB-.js";import"./UploadImg-t2k0cg5I.js";import"./index-BJJ1rKwH.js";import"./style.css_vue_type_style_index_0_src_true_lang-CKaVdbrx.js";import"./locale-DQlBbuSC.js";const Ve=W({name:"Demo01Contact",__name:"index",setup(de){const y=ae(),{t:U}=oe(),b=c(!0),C=c([]),D=c(0),n=h({pageNo:1,pageSize:10,name:null,sex:null,createTime:[]}),S=c(),w=c(!1),_=async()=>{b.value=!0;try{const r=await ie(n);C.value=r.list,D.value=r.total}finally{b.value=!1}},k=()=>{n.pageNo=1,_()},Y=()=>{S.value.resetFields(),k()},V=c(),T=(r,e)=>{V.value.open(r,e)},R=async r=>{try{await y.delConfirm(),await pe(r),y.success(U("common.delSuccess")),await _()}catch(e){console.log(e)}},z=async()=>{try{await y.exportConfirm(),w.value=!0;const r=await me(n);ue.excel(r,"示例联系人.xls")}catch(r){console.log(r)}finally{w.value=!1}};return A(()=>{_()}),(r,e)=>{const I=re,L=s("el-input"),g=s("el-form-item"),q=s("el-option"),B=s("el-select"),K=s("el-date-picker"),x=ee,m=s("el-button"),H=s("el-form"),E=ne,i=s("el-table-column"),Q=le,X=s("el-table"),j=te,v=$("hasPermi"),J=$("loading");return p(),F(M,null,[t(I,{title:"代码生成（单表）",url:"https://doc.iocoder.cn/new-feature/"}),t(E,null,{default:l(()=>[t(H,{ref_key:"queryFormRef",ref:S,class:"-mb-15px",inline:!0,"label-width":"68px",model:a(n)},{default:l(()=>[t(g,{label:"名字",prop:"name"},{default:l(()=>[t(L,{modelValue:a(n).name,"onUpdate:modelValue":e[0]||(e[0]=o=>a(n).name=o),class:"!w-240px",clearable:"",placeholder:"请输入名字",onKeyup:G(k,["enter"])},null,8,["modelValue"])]),_:1}),t(g,{label:"性别",prop:"sex"},{default:l(()=>[t(B,{modelValue:a(n).sex,"onUpdate:modelValue":e[1]||(e[1]=o=>a(n).sex=o),class:"!w-240px",clearable:"",placeholder:"请选择性别"},{default:l(()=>[(p(!0),F(M,null,Z(a(ce)(a(P).SYSTEM_USER_SEX),o=>(p(),u(q,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"创建时间",prop:"createTime"},{default:l(()=>[t(K,{modelValue:a(n).createTime,"onUpdate:modelValue":e[2]||(e[2]=o=>a(n).createTime=o),class:"!w-240px","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),t(g,null,{default:l(()=>[t(m,{onClick:k},{default:l(()=>[t(x,{class:"mr-5px",icon:"ep:search"}),e[6]||(e[6]=d(" 搜索 "))]),_:1}),t(m,{onClick:Y},{default:l(()=>[t(x,{class:"mr-5px",icon:"ep:refresh"}),e[7]||(e[7]=d(" 重置 "))]),_:1}),f((p(),u(m,{plain:"",type:"primary",onClick:e[3]||(e[3]=o=>T("create"))},{default:l(()=>[t(x,{class:"mr-5px",icon:"ep:plus"}),e[8]||(e[8]=d(" 新增 "))]),_:1})),[[v,["infra:demo01-contact:create"]]]),f((p(),u(m,{loading:a(w),plain:"",type:"success",onClick:z},{default:l(()=>[t(x,{class:"mr-5px",icon:"ep:download"}),e[9]||(e[9]=d(" 导出 "))]),_:1},8,["loading"])),[[v,["infra:demo01-contact:export"]]])]),_:1})]),_:1},8,["model"])]),_:1}),t(E,null,{default:l(()=>[f((p(),u(X,{data:a(C),"show-overflow-tooltip":!0,stripe:!0},{default:l(()=>[t(i,{align:"center",label:"编号",prop:"id"}),t(i,{align:"center",label:"名字",prop:"name"}),t(i,{align:"center",label:"性别",prop:"sex"},{default:l(o=>[t(Q,{type:a(P).SYSTEM_USER_SEX,value:o.row.sex},null,8,["type","value"])]),_:1}),t(i,{align:"center",formatter:a(N),label:"出生年",prop:"birthday",width:"180px"},null,8,["formatter"]),t(i,{align:"center",label:"简介",prop:"description"}),t(i,{align:"center",label:"头像",prop:"avatar"}),t(i,{align:"center",formatter:a(N),label:"创建时间",prop:"createTime",width:"180px"},null,8,["formatter"]),t(i,{align:"center",label:"操作"},{default:l(o=>[f((p(),u(m,{link:"",type:"primary",onClick:O=>T("update",o.row.id)},{default:l(()=>e[10]||(e[10]=[d(" 编辑 ")])),_:2},1032,["onClick"])),[[v,["infra:demo01-contact:update"]]]),f((p(),u(m,{link:"",type:"danger",onClick:O=>R(o.row.id)},{default:l(()=>e[11]||(e[11]=[d("删除")])),_:2},1032,["onClick"])),[[v,["infra:demo01-contact:delete"]]])]),_:1})]),_:1},8,["data"])),[[J,a(b)]]),t(j,{limit:a(n).pageSize,"onUpdate:limit":e[4]||(e[4]=o=>a(n).pageSize=o),page:a(n).pageNo,"onUpdate:page":e[5]||(e[5]=o=>a(n).pageNo=o),total:a(D),onPagination:_},null,8,["limit","page","total"])]),_:1}),t(se,{ref_key:"formRef",ref:V,onSuccess:_},null,512)],64)}}});export{Ve as default};
